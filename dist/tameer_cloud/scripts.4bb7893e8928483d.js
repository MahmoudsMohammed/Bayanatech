(function(H,ue){"object"==typeof exports&&typeof module<"u"?module.exports=ue():"function"==typeof define&&define.amd?define(ue):(H=typeof globalThis<"u"?globalThis:H||self).ApexCharts=ue()})(this,function(){"use strict";function H(R,e){var t=Object.keys(R);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(R);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(R,r).enumerable})),t.push.apply(t,s)}return t}function ue(R){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?H(Object(t),!0).forEach(function(s){wt(R,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach(function(s){Object.defineProperty(R,s,Object.getOwnPropertyDescriptor(t,s))})}return R}function m(R){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(R)}function Ce(R,e){if(!(R instanceof e))throw new TypeError("Cannot call a class as a function")}function kt(R,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(R,s.key,s)}}function Se(R,e,t){return e&&kt(R.prototype,e),t&&kt(R,t),R}function wt(R,e,t){return e in R?Object.defineProperty(R,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):R[e]=t,R}function _e(R,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(e&&e.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),e&&Ne(R,e)}function he(R){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(R)}function Ne(R,e){return(Ne=Object.setPrototypeOf||function(t,s){return t.__proto__=s,t})(R,e)}function Le(R){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,s=he(R);if(e){var r=he(this).constructor;t=Reflect.construct(s,arguments,r)}else t=s.apply(this,arguments);return function Ze(R,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(R)}(this,t)}}function Re(R,e){return function(t){if(Array.isArray(t))return t}(R)||function(t,s){var r=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var a,o,l=[],u=!0,y=!1;try{for(r=r.call(t);!(u=(a=r.next()).done)&&(l.push(a.value),!s||l.length!==s);u=!0);}catch(b){y=!0,o=b}finally{try{u||null==r.return||r.return()}finally{if(y)throw o}}return l}}(R,e)||Te(R,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(R){return function(e){if(Array.isArray(e))return $(e)}(R)||function(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(R)||Te(R)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(R,e){if(R){if("string"==typeof R)return $(R,e);var t=Object.prototype.toString.call(R).slice(8,-1);return"Object"===t&&R.constructor&&(t=R.constructor.name),"Map"===t||"Set"===t?Array.from(R):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$(R,e):void 0}}function $(R,e){(null==e||e>R.length)&&(e=R.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=R[t];return s}var f=function(){function R(){Ce(this,R)}return Se(R,[{key:"shadeRGBColor",value:function(e,t){var s=t.split(","),r=e<0?0:255,a=e<0?-1*e:e,o=parseInt(s[0].slice(4),10),l=parseInt(s[1],10),u=parseInt(s[2],10);return"rgb("+(Math.round((r-o)*a)+o)+","+(Math.round((r-l)*a)+l)+","+(Math.round((r-u)*a)+u)+")"}},{key:"shadeHexColor",value:function(e,t){var s=parseInt(t.slice(1),16),r=e<0?0:255,a=e<0?-1*e:e,o=s>>16,l=s>>8&255,u=255&s;return"#"+(16777216+65536*(Math.round((r-o)*a)+o)+256*(Math.round((r-l)*a)+l)+(Math.round((r-u)*a)+u)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return R.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&"object"===m(e)&&!Array.isArray(e)&&null!=e}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,s=[];for(t=0;t<e.length;t++)s[t]=e[t];return s}},{key:"extend",value:function(e,t){var s=this;"function"!=typeof Object.assign&&(Object.assign=function(a){if(null==a)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(a),l=1;l<arguments.length;l++){var u=arguments[l];if(null!=u)for(var y in u)u.hasOwnProperty(y)&&(o[y]=u[y])}return o});var r=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(a){s.isObject(t[a])&&a in e?r[a]=s.extend(e[a],t[a]):Object.assign(r,wt({},a,t[a]))}),r}},{key:"extendArray",value:function(e,t){var s=[];return e.map(function(r){s.push(R.extend(t,r))}),s}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){if(R.is("Array",e)){for(var t=[],s=0;s<e.length;s++)t[s]=this.clone(e[s]);return t}if(R.is("Null",e))return null;if(R.is("Date",e))return e;if("object"===m(e)){var r={};for(var a in e)e.hasOwnProperty(a)&&(r[a]=this.clone(e[a]));return r}return e}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return null===e?e:parseFloat(e)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){var t=String(e).split(/[eE]/);if(1===t.length)return t[0];var s="",r=e<0?"-":"",a=t[0].replace(".",""),o=Number(t[1])+1;if(o<0){for(s=r+"0.";o++;)s+="0";return s+a.replace(/^-/,"")}for(o-=a.length;o--;)s+="0";return a+s}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),s=e.clientHeight,r=e.clientWidth;return s-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[r-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),s]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,s){return Array.isArray(s)&&(s=s.reduce(function(r,a){return r.length>a.length?r:a})),t.length>s.length?t:s},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==e.substring(0,1)&&(e="#999999");var s=e.replace("#","");s=s.match(new RegExp("(.{"+s.length/3+"})","g"));for(var r=0;r<s.length;r++)s[r]=parseInt(1===s[r].length?s[r]+s[r]:s[r],16);return void 0!==t&&s.push(t),"rgba("+s.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var s=[],r=2*Math.PI/t,a=0;a<t;a++){var o={};o.x=e*Math.sin(a*r),o.y=-e*Math.cos(a*r),s.push(o)}return s}},{key:"polarToCartesian",value:function(e,t,s,r){var a=(r-90)*Math.PI/180;return{x:e+s*Math.cos(a),y:t+s*Math.sin(a)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";return e.toString().slice().replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,s){if(s>=e.length)for(var r=s-e.length+1;r--;)e.push(void 0);return e.splice(s,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e.style.key=t[s])}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}}]),R}(),W=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.setEasingFunctions()}return Se(R,[{key:"setEasingFunctions",value:function(){var e;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":e="-";break;case"easein":e="<";break;case"easeout":e=">";break;case"easeinout":default:e="<>";break;case"swing":e=function(t){var s=1.70158;return(t-=1)*t*((s+1)*t+s)+1};break;case"bounce":e=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":e=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=e}}},{key:"animateLine",value:function(e,t,s,r){e.attr(t).animate(r).attr(s)}},{key:"animateMarker",value:function(e,t,s,r,a,o){t||(t=0),e.attr({r:t,width:t,height:t}).animate(r,a).attr({r:s,width:s.width,height:s.height}).afterAll(function(){o()})}},{key:"animateCircle",value:function(e,t,s,r,a){e.attr({r:t.r,cx:t.cx,cy:t.cy}).animate(r,a).attr({r:s.r,cx:s.cx,cy:s.cy})}},{key:"animateRect",value:function(e,t,s,r,a){e.attr(t).animate(r).attr(s).afterAll(function(){return a()})}},{key:"animatePathsGradually",value:function(e){var b=this.w,w=0;b.config.chart.animations.animateGradually.enabled&&(w=b.config.chart.animations.animateGradually.delay),b.config.chart.animations.dynamicAnimation.enabled&&b.globals.dataChanged&&"bar"!==b.config.chart.type&&(w=0),this.morphSVG(e.el,e.realIndex,e.j,"line"!==b.config.chart.type||b.globals.comboCharts?e.fill:"stroke",e.pathFrom,e.pathTo,e.speed,e.delay*w)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){e.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof t.config.chart.events.animationEnd&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,s,r,a,o,l,u){var y=this,b=this.w;a||(a=e.attr("pathFrom")),o||(o=e.attr("pathTo"));var w=function(k){return"radar"===b.config.chart.type&&(l=1),"M 0 ".concat(b.globals.gridHeight)};(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=w()),(!o||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=w()),b.globals.shouldAnimate||(l=1),e.plot(a).animate(1,b.globals.easing,u).plot(a).animate(l,b.globals.easing,u).plot(o).afterAll(function(){f.isNumber(s)?s===b.globals.series[b.globals.maxValsInArrayIndex].length-2&&b.globals.shouldAnimate&&y.animationCompleted(e):"none"!==r&&b.globals.shouldAnimate&&(!b.globals.comboCharts&&t===b.globals.series.length-1||b.globals.comboCharts)&&y.animationCompleted(e),y.showDelayedElements()})}}]),R}(),Y=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"getDefaultFilter",value:function(e,t){var s=this.w;e.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==s.config.states.normal.filter?this.applyFilter(e,t,s.config.states.normal.filter.type,s.config.states.normal.filter.value):s.config.chart.dropShadow.enabled&&this.dropShadow(e,s.config.chart.dropShadow,t)}},{key:"addNormalFilter",value:function(e,t){var s=this.w;s.config.chart.dropShadow.enabled&&!e.node.classList.contains("apexcharts-marker")&&this.dropShadow(e,s.config.chart.dropShadow,t)}},{key:"addLightenFilter",value:function(e,t,s){var r=this,a=this.w,o=s.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter(function(l){var u=a.config.chart.dropShadow;(u.enabled?r.addShadow(l,t,u):l).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:o}})}),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"addDarkenFilter",value:function(e,t,s){var r=this,a=this.w,o=s.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter(function(l){var u=a.config.chart.dropShadow;(u.enabled?r.addShadow(l,t,u):l).componentTransfer({rgb:{type:"linear",slope:o}})}),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"applyFilter",value:function(e,t,s){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(s){case"none":this.addNormalFilter(e,t);break;case"lighten":this.addLightenFilter(e,t,{intensity:r});break;case"darken":this.addDarkenFilter(e,t,{intensity:r})}}},{key:"addShadow",value:function(e,t,s){var r=s.blur,a=s.top,o=s.left,l=s.color,u=s.opacity,y=e.flood(Array.isArray(l)?l[t]:l,u).composite(e.sourceAlpha,"in").offset(o,a).gaussianBlur(r).merge(e.source);return e.blend(e.source,y)}},{key:"dropShadow",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.top,a=t.left,o=t.blur,l=t.color,u=t.opacity,y=t.noUserSpaceOnUse,b=this.w;return e.unfilter(!0),f.isIE()&&"radialBar"===b.config.chart.type||(l=Array.isArray(l)?l[s]:l,e.filter(function(w){var k;k=f.isSafari()||f.isFirefox()||f.isIE()?w.flood(l,u).composite(w.sourceAlpha,"in").offset(a,r).gaussianBlur(o):w.flood(l,u).composite(w.sourceAlpha,"in").offset(a,r).gaussianBlur(o).merge(w.source),w.blend(w.source,k)}),y||e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)),e}},{key:"setSelectionFilter",value:function(e,t,s){var r=this.w;if(void 0!==r.globals.selectedDataPoints[t]&&r.globals.selectedDataPoints[t].indexOf(s)>-1){e.node.setAttribute("selected",!0);var a=r.config.states.active.filter;"none"!==a&&this.applyFilter(e,t,a.type,a.value)}}},{key:"_scaleFilterSize",value:function(e){!function(t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),R}(),D=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"roundPathCorners",value:function(e,t){function s(Q,ne,ae){var ye=ne.x-Q.x,xe=ne.y-Q.y,we=Math.sqrt(ye*ye+xe*xe);return r(Q,ne,Math.min(1,ae/we))}function r(Q,ne,ae){return{x:Q.x+(ne.x-Q.x)*ae,y:Q.y+(ne.y-Q.y)*ae}}function a(Q,ne){Q.length>2&&(Q[Q.length-2]=ne.x,Q[Q.length-1]=ne.y)}function o(Q){return{x:parseFloat(Q[Q.length-2]),y:parseFloat(Q[Q.length-1])}}e.indexOf("NaN")>-1&&(e="");var l=e.split(/[,\s]/).reduce(function(Q,ne){var ae=ne.match("([a-zA-Z])(.+)");return ae?(Q.push(ae[1]),Q.push(ae[2])):Q.push(ne),Q},[]).reduce(function(Q,ne){return parseFloat(ne)==ne&&Q.length?Q[Q.length-1].push(ne):Q.push([ne]),Q},[]),u=[];if(l.length>1){var y=o(l[0]),b=null;"Z"==l[l.length-1][0]&&l[0].length>2&&(l[l.length-1]=b=["L",y.x,y.y]),u.push(l[0]);for(var w=1;w<l.length;w++){var k=u[u.length-1],E=l[w],I=E==b?l[1]:l[w+1];if(I&&k&&k.length>2&&"L"==E[0]&&I.length>2&&"L"==I[0]){var P,B,U=o(k),j=o(E),p=o(I);P=s(j,U,t),B=s(j,p,t),a(E,P),E.origPoint=j,u.push(E);var T=r(P,j,.5),L=r(j,B,.5),N=["C",T.x,T.y,L.x,L.y,B.x,B.y];N.origPoint=j,u.push(N)}else u.push(E)}if(b){var q=o(u[u.length-1]);u.push(["Z"]),a(u[0],q)}}else u=l;return u.reduce(function(Q,ne){return Q+ne.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,s,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:s,y2:r,stroke:a,"stroke-dasharray":o,"stroke-width":l,"stroke-linecap":u})}},{key:"drawRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,y=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,b=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,w=this.w.globals.dom.Paper.rect();return w.attr({x:e,y:t,width:s>0?s:0,height:r>0?r:0,rx:a,ry:a,opacity:l,"stroke-width":null!==u?u:0,stroke:null!==y?y:"none","stroke-dasharray":b}),w.node.setAttribute("fill",o),w}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:r,stroke:t,"stroke-width":s})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e<0&&(e=0);var s=this.w.globals.dom.Paper.circle(2*e);return null!==t&&s.attr(t),s}},{key:"drawPath",value:function(e){var t=e.d,s=void 0===t?"":t,r=e.stroke,a=void 0===r?"#a8a8a8":r,o=e.strokeWidth,l=void 0===o?1:o,u=e.fill,y=e.fillOpacity,b=void 0===y?1:y,w=e.strokeOpacity,k=void 0===w?1:w,E=e.classes,I=e.strokeLinecap,P=void 0===I?null:I,B=e.strokeDashArray,U=void 0===B?0:B,j=this.w;return null===P&&(P=j.config.stroke.lineCap),(s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s="M 0 ".concat(j.globals.gridHeight)),j.globals.dom.Paper.path(s).attr({fill:u,"fill-opacity":b,stroke:a,"stroke-opacity":k,"stroke-linecap":P,"stroke-width":l,"stroke-dasharray":U,class:E})}},{key:"group",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w.globals.dom.Paper.group();return null!==e&&t.attr(e),t}},{key:"move",value:function(e,t){return["M",e,t].join(" ")}},{key:"line",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null;return null===s?r=[" L",e,t].join(" "):"H"===s?r=[" H",e].join(" "):"V"===s&&(r=[" V",t].join(" ")),r}},{key:"curve",value:function(e,t,s,r,a,o){return["C",e,t,s,r,a,o].join(" ")}},{key:"quadraticCurve",value:function(e,t,s,r){return["Q",e,t,s,r].join(" ")}},{key:"arc",value:function(e,t,s,r,a,o,l){var u="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(u="a"),[u,e,t,s,r,a,o,l].join(" ")}},{key:"renderPaths",value:function(e){var t,s=e.j,r=e.realIndex,a=e.pathFrom,o=e.pathTo,l=e.stroke,u=e.strokeWidth,y=e.strokeLinecap,b=e.fill,w=e.animationDelay,k=e.initialSpeed,E=e.dataChangeSpeed,I=e.className,P=e.shouldClipToGrid,B=void 0===P||P,U=e.bindEventsOnPaths,j=void 0===U||U,p=e.drawShadow,T=void 0===p||p,L=this.w,N=new Y(this.ctx),q=new W(this.ctx),Q=this.w.config.chart.animations.enabled,ne=Q&&this.w.config.chart.animations.dynamicAnimation.enabled,ae=!!(Q&&!L.globals.resized||ne&&L.globals.dataChanged&&L.globals.shouldAnimate);ae?t=a:(t=o,L.globals.animationEnded=!0);var xe,ye=L.config.stroke.dashArray;xe=Array.isArray(ye)?ye[r]:L.config.stroke.dashArray;var we=this.drawPath({d:t,stroke:l,strokeWidth:u,fill:b,fillOpacity:1,classes:I,strokeLinecap:y,strokeDashArray:xe});we.attr("index",r),B&&we.attr({"clip-path":"url(#gridRectMask".concat(L.globals.cuid,")")}),"none"!==L.config.states.normal.filter.type?N.getDefaultFilter(we,r):L.config.chart.dropShadow.enabled&&T&&(!L.config.chart.dropShadow.enabledOnSeries||L.config.chart.dropShadow.enabledOnSeries&&-1!==L.config.chart.dropShadow.enabledOnSeries.indexOf(r))&&N.dropShadow(we,L.config.chart.dropShadow,r),j&&(we.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,we)),we.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,we)),we.node.addEventListener("mousedown",this.pathMouseDown.bind(this,we))),we.attr({pathTo:o,pathFrom:a});var Me={el:we,j:s,realIndex:r,pathFrom:a,pathTo:o,fill:b,strokeWidth:u,delay:w};return!Q||L.globals.resized||L.globals.dataChanged?!L.globals.resized&&L.globals.dataChanged||q.showDelayedElements():q.animatePathsGradually(ue(ue({},Me),{},{speed:k})),L.globals.dataChanged&&ne&&ae&&q.animatePathsGradually(ue(ue({},Me),{},{speed:E})),we}},{key:"drawPattern",value:function(e,t,s){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,s,function(o){"horizontalLines"===e?o.line(0,0,s,0).stroke({color:r,width:a+1}):"verticalLines"===e?o.line(0,0,0,t).stroke({color:r,width:a+1}):"slantedLines"===e?o.line(0,0,t,s).stroke({color:r,width:a}):"squares"===e?o.rect(t,s).fill("none").stroke({color:r,width:a}):"circles"===e&&o.circle(t).fill("none").stroke({color:r,width:a})})}},{key:"drawGradient",value:function(e,t,s,r,a){var o,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,b=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,w=this.w;t.length<9&&0===t.indexOf("#")&&(t=f.hexToRgba(t,r)),s.length<9&&0===s.indexOf("#")&&(s=f.hexToRgba(s,a));var k=0,E=1,I=1,P=null;null!==u&&(k=void 0!==u[0]?u[0]/100:0,E=void 0!==u[1]?u[1]/100:1,I=void 0!==u[2]?u[2]/100:1,P=void 0!==u[3]?u[3]/100:null);var B=!("donut"!==w.config.chart.type&&"pie"!==w.config.chart.type&&"polarArea"!==w.config.chart.type&&"bubble"!==w.config.chart.type);return o=w.globals.dom.Paper.gradient(B?"radial":"linear",null===y||0===y.length?function(p){p.at(k,t,r),p.at(E,s,a),p.at(I,s,a),null!==P&&p.at(P,t,r)}:function(p){(Array.isArray(y[b])?y[b]:y).forEach(function(T){p.at(T.offset/100,T.color,T.opacity)})}),B?o.attr("bubble"!==w.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:w.globals.gridWidth/2,cy:w.globals.gridHeight/2,r:l}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2}):"vertical"===e?o.from(0,0).to(0,1):"diagonal"===e?o.from(0,0).to(1,1):"horizontal"===e?o.from(0,1).to(1,1):"diagonal2"===e&&o.from(1,0).to(0,1),o}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,s=e.maxWidth,o=this.getTextRects(t,e.fontSize,e.fontFamily),u=Math.floor(s/(o.width/t.length));return s<o.width?t.slice(0,u-3)+"...":t}},{key:"drawText",value:function(e){var t=this,s=e.x,r=e.y,a=e.text,o=e.textAnchor,l=e.fontSize,u=e.fontFamily,y=e.fontWeight,b=e.foreColor,w=e.opacity,k=e.maxWidth,E=e.cssClass,I=void 0===E?"":E,P=e.isPlainText,B=void 0===P||P,U=this.w;void 0===a&&(a="");var j=a;o||(o="start"),b&&b.length||(b=U.config.chart.foreColor),y=y||"regular";var p,T={maxWidth:k,fontSize:l=l||"11px",fontFamily:u=u||U.config.chart.fontFamily};return Array.isArray(a)?p=U.globals.dom.Paper.text(function(L){for(var N=0;N<a.length;N++)j=a[N],k&&(j=t.getTextBasedOnMaxWidth(ue({text:a[N]},T))),0===N?L.tspan(j):L.tspan(j).newLine()}):(k&&(j=this.getTextBasedOnMaxWidth(ue({text:a},T))),p=B?U.globals.dom.Paper.plain(a):U.globals.dom.Paper.text(function(L){return L.tspan(j)})),p.attr({x:s,y:r,"text-anchor":o,"dominant-baseline":"auto","font-size":l,"font-family":u,"font-weight":y,fill:b,class:"apexcharts-text "+I}),p.node.style.fontFamily=u,p.node.style.opacity=w,p}},{key:"drawMarker",value:function(e,t,s){e=e||0;var r=s.pSize||0,a=null;if("square"===s.shape||"rect"===s.shape){var o=void 0===s.pRadius?r/2:s.pRadius;null!==t&&r||(r=0,o=0);var l=1.2*r+o,u=this.drawRect(l,l,l,l,o);u.attr({x:e-l/2,y:t-l/2,cx:e,cy:t,class:s.class?s.class:"",fill:s.pointFillColor,"fill-opacity":s.pointFillOpacity?s.pointFillOpacity:1,stroke:s.pointStrokeColor,"stroke-width":s.pointStrokeWidth?s.pointStrokeWidth:0,"stroke-opacity":s.pointStrokeOpacity?s.pointStrokeOpacity:1}),a=u}else"circle"!==s.shape&&s.shape||(f.isNumber(t)||(r=0,t=0),a=this.drawCircle(r,{cx:e,cy:t,class:s.class?s.class:"",stroke:s.pointStrokeColor,fill:s.pointFillColor,"fill-opacity":s.pointFillOpacity?s.pointFillOpacity:1,"stroke-width":s.pointStrokeWidth?s.pointStrokeWidth:0,"stroke-opacity":s.pointStrokeOpacity?s.pointStrokeOpacity:1}));return a}},{key:"pathMouseEnter",value:function(e,t){var s=this.w,r=new Y(this.ctx),a=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);if("function"==typeof s.config.chart.events.dataPointMouseEnter&&s.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:a,dataPointIndex:o,w:s}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:a,dataPointIndex:o,w:s}]),("none"===s.config.states.active.filter.type||"true"!==e.node.getAttribute("selected"))&&"none"!==s.config.states.hover.filter.type&&!s.globals.isTouchDevice){var l=s.config.states.hover.filter;r.applyFilter(e,a,l.type,l.value)}}},{key:"pathMouseLeave",value:function(e,t){var s=this.w,r=new Y(this.ctx),a=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);"function"==typeof s.config.chart.events.dataPointMouseLeave&&s.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:a,dataPointIndex:o,w:s}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:a,dataPointIndex:o,w:s}]),"none"!==s.config.states.active.filter.type&&"true"===e.node.getAttribute("selected")||"none"!==s.config.states.hover.filter.type&&r.getDefaultFilter(e,a)}},{key:"pathMouseDown",value:function(e,t){var s=this.w,r=new Y(this.ctx),a=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10),l="false";if("true"===e.node.getAttribute("selected")){if(e.node.setAttribute("selected","false"),s.globals.selectedDataPoints[a].indexOf(o)>-1){var u=s.globals.selectedDataPoints[a].indexOf(o);s.globals.selectedDataPoints[a].splice(u,1)}}else{if(!s.config.states.active.allowMultipleDataPointsSelection&&s.globals.selectedDataPoints.length>0){s.globals.selectedDataPoints=[];var y=s.globals.dom.Paper.select(".apexcharts-series path").members,b=s.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,w=function(I){Array.prototype.forEach.call(I,function(P){P.node.setAttribute("selected","false"),r.getDefaultFilter(P,a)})};w(y),w(b)}e.node.setAttribute("selected","true"),l="true",void 0===s.globals.selectedDataPoints[a]&&(s.globals.selectedDataPoints[a]=[]),s.globals.selectedDataPoints[a].push(o)}if("true"===l){var k=s.config.states.active.filter;if("none"!==k)r.applyFilter(e,a,k.type,k.value);else if("none"!==s.config.states.hover.filter&&!s.globals.isTouchDevice){var E=s.config.states.hover.filter;r.applyFilter(e,a,E.type,E.value)}}else"none"!==s.config.states.active.filter.type&&("none"===s.config.states.hover.filter.type||s.globals.isTouchDevice?r.getDefaultFilter(e,a):r.applyFilter(e,a,(E=s.config.states.hover.filter).type,E.value));"function"==typeof s.config.chart.events.dataPointSelection&&s.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:o,w:s}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:o,w:s}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&"function"==typeof e.getBBox&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,s,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w,l=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:s,foreColor:"#fff",opacity:0});r&&l.attr("transform",r),o.globals.dom.Paper.add(l);var u=l.bbox();return a||(u=l.node.getBoundingClientRect()),l.remove(),{width:u.width,height:u.height}}},{key:"placeTextWithEllipsis",value:function(e,t,s){if("function"==typeof e.getComputedTextLength&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=s/1.1)){for(var r=t.length-3;r>0;r-=3)if(e.getSubStringLength(0,r)<=s/1.1)return void(e.textContent=t.substring(0,r)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])}}]),R}(),z=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.w,s=[];if(0===t.globals.series.length)return s;for(var r=0;r<t.globals.series[t.globals.maxValsInArrayIndex].length;r++){for(var a=0,o=0;o<t.globals.series.length;o++)void 0!==t.globals.series[o][r]&&-1===e.indexOf(o)&&(a+=t.globals.series[o][r]);s.push(a)}return s}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?this.w.config.series.reduce(function(t,s){return t+s},0):this.w.globals.series[e].reduce(function(t,s){return t+s},0)}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===e?this.w.config.series.filter(function(t){return null!==t}):this.w.config.series[e].data.filter(function(t){return null!==t})).length}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,s,r){return t===r[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,s=e.slice();return t.config.xaxis.convertedCatToNumeric&&(s=e.map(function(r,a){return t.config.xaxis.labels.formatter(r-t.globals.minX+1)})),s}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(s){t=Math.max(t,s)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(s){t=Math.max(t,s.size)}),t>0&&(t+=e.config.markers.hover.sizeOffset+1),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,s){var r=0;if(Array.isArray(t))for(var a=0;a<t.length;a++)r+=t[a];else r+=t;return r})}},{key:"getSeriesTotalsXRange",value:function(e,t){var s=this.w;return s.globals.series.map(function(r,a){for(var o=0,l=0;l<r.length;l++)s.globals.seriesX[a][l]>e&&s.globals.seriesX[a][l]<t&&(o+=r[l]);return o})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,s){var r=[];if(Array.isArray(t))for(var a=0;a<t.length;a++){var o=e.globals.stackedSeriesTotals[a],l=0;o&&(l=100*t[a]/o),r.push(l)}else{var u=100*t/e.globals.seriesTotals.reduce(function(y,b){return y+b},0);r.push(u)}return r})}},{key:"getCalculatedRatios",value:function(){var e,t,s,r,a=this.w.globals,o=[],l=0,u=[],y=.1,b=0;if(a.yRange=[],a.isMultipleYAxis)for(var w=0;w<a.minYArr.length;w++)a.yRange.push(Math.abs(a.minYArr[w]-a.maxYArr[w])),u.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var k=0;k<a.yRange.length;k++)o.push(a.yRange[k]/a.gridHeight);if(t=a.xRange/a.gridWidth,s=Math.abs(a.initialMaxX-a.initialMinX)/a.gridWidth,e=a.yRange/a.gridWidth,r=a.xRange/a.gridHeight,(l=a.zRange/a.gridHeight*16)||(l=1),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(a.hasNegs=!0),a.isMultipleYAxis){u=[];for(var E=0;E<o.length;E++)u.push(-a.minYArr[E]/o[E])}else u.push(-a.minY/o[0]),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(y=-a.minY/e,b=a.minX/t);return{yRatio:o,invertedYRatio:e,zRatio:l,xRatio:t,initialXRatio:s,invertedXRatio:r,baseLineInvertedY:y,baseLineY:u,baseLineX:b}}},{key:"getLogSeries",value:function(e){var t=this,s=this.w;return s.globals.seriesLog=e.map(function(r,a){return s.config.yaxis[a]&&s.config.yaxis[a].logarithmic?r.map(function(o){return null===o?null:t.getLogVal(s.config.yaxis[a].logBase,o,a)}):r}),s.globals.invalidLogScale?e:s.globals.seriesLog}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,s){if(0===t)return 0;var r=this.w,a=0===r.globals.minYArr[s]?-1:this.getBaseLog(e,r.globals.minYArr[s]),o=(0===r.globals.maxYArr[s]?0:this.getBaseLog(e,r.globals.maxYArr[s]))-a;return t<1?t/o:(this.getBaseLog(e,t)-a)/o}},{key:"getLogYRatios",value:function(e){var t=this,s=this.w,r=this.w.globals;return r.yLogRatio=e.slice(),r.logYRange=r.yRange.map(function(a,o){if(s.config.yaxis[o]&&t.w.config.yaxis[o].logarithmic){var l,u=-Number.MAX_VALUE,y=Number.MIN_VALUE;return r.seriesLog.forEach(function(b,w){b.forEach(function(k){s.config.yaxis[w]&&s.config.yaxis[w].logarithmic&&(u=Math.max(k,u),y=Math.min(k,y))})}),l=Math.pow(r.yRange[o],Math.abs(y-u)/r.yRange[o]),r.yLogRatio[o]=l/r.gridHeight,l}}),r.invalidLogScale?e.slice():r.yLogRatio}}],[{key:"checkComboSeries",value:function(e){var t=!1,s=0,r=0;return e.length&&void 0!==e[0].type&&e.forEach(function(a){"bar"!==a.type&&"column"!==a.type&&"candlestick"!==a.type&&"boxPlot"!==a.type||s++,void 0!==a.type&&r++}),r>0&&(t=!0),{comboBarCount:s,comboCharts:t}}},{key:"extendArrayProps",value:function(e,t,s){return t.yaxis&&(t=e.extendYAxis(t,s)),t.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),t.annotations.xaxis&&(t=e.extendXAxisAnnotations(t)),t.annotations.points&&(t=e.extendPointAnnotations(t))),t}}]),R}(),M=function(){function R(e){Ce(this,R),this.w=e.w,this.annoCtx=e}return Se(R,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("vertical"===e.label.orientation){var a=this.w.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(null!==t?t:0,"']"));if(null!==a){var o=a.getBoundingClientRect();a.setAttribute("x",parseFloat(a.getAttribute("x"))-o.height+4),a.setAttribute("y","top"===e.label.position?parseFloat(a.getAttribute("y"))+o.width:parseFloat(a.getAttribute("y"))-o.width);var l=this.annoCtx.graphics.rotateAroundCenter(a),y=l.y;a.setAttribute("transform","rotate(-90 ".concat(l.x," ").concat(y,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var s=this.w;if(!e||void 0===t.label.text||void 0!==t.label.text&&!String(t.label.text).trim())return null;var r=s.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),a=e.getBoundingClientRect(),o=t.label.style.padding.left,l=t.label.style.padding.right,u=t.label.style.padding.top,y=t.label.style.padding.bottom;"vertical"===t.label.orientation&&(u=t.label.style.padding.left,y=t.label.style.padding.right,o=t.label.style.padding.top,l=t.label.style.padding.bottom);var k=this.annoCtx.graphics.drawRect(a.left-r.left-o-s.globals.barPadForNumericAxis,a.top-r.top-u,a.width+o+l,a.height+u+y,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&k.node.classList.add(t.id),k}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,s=function(r,a,o){var l=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(a,"']"));if(l){var u=l.parentNode,y=e.addBackgroundToAnno(l,r);y&&(u.insertBefore(y.node,l),r.label.mouseEnter&&y.node.addEventListener("mouseenter",r.label.mouseEnter.bind(e,r)),r.label.mouseLeave&&y.node.addEventListener("mouseleave",r.label.mouseLeave.bind(e,r)),r.label.click&&y.node.addEventListener("click",r.label.click.bind(e,r)))}};t.config.annotations.xaxis.map(function(r,a){s(r,a,"xaxis")}),t.config.annotations.yaxis.map(function(r,a){s(r,a,"yaxis")}),t.config.annotations.points.map(function(r,a){s(r,a,"point")})}},{key:"getY1Y2",value:function(e,t){var s,r="y1"===e?t.y:t.y2,a=this.w;if(this.annoCtx.invertAxis){var o=a.globals.labels.indexOf(r);a.config.xaxis.convertedCatToNumeric&&(o=a.globals.categoryLabels.indexOf(r));var l=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(o+1)+")");l&&(s=parseFloat(l.getAttribute("y")))}else{var u;u=a.config.yaxis[t.yAxisIndex].logarithmic?(r=new z(this.annoCtx.ctx).getLogVal(r,t.yAxisIndex))/a.globals.yLogRatio[t.yAxisIndex]:(r-a.globals.minYArr[t.yAxisIndex])/(a.globals.yRange[t.yAxisIndex]/a.globals.gridHeight),s=a.globals.gridHeight-u,!t.marker||null!=t.y||(s=0),a.config.yaxis[t.yAxisIndex]&&a.config.yaxis[t.yAxisIndex].reversed&&(s=u)}return"string"==typeof r&&r.indexOf("px")>-1&&(s=parseFloat(r)),s}},{key:"getX1X2",value:function(e,t){var s=this.w,r=this.annoCtx.invertAxis?s.globals.minY:s.globals.minX,a=this.annoCtx.invertAxis?s.globals.maxY:s.globals.maxX,o=this.annoCtx.invertAxis?s.globals.yRange[0]:s.globals.xRange,l=(t.x-r)/(o/s.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(l=(a-t.x)/(o/s.globals.gridWidth)),"category"!==s.config.xaxis.type&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||(l=this.getStringX(t.x));var u=(t.x2-r)/(o/s.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(u=(a-t.x2)/(o/s.globals.gridWidth)),"category"!==s.config.xaxis.type&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||(u=this.getStringX(t.x2)),null!=t.x||!t.marker||(l=s.globals.gridWidth),"x1"===e&&"string"==typeof t.x&&t.x.indexOf("px")>-1&&(l=parseFloat(t.x)),"x2"===e&&"string"==typeof t.x2&&t.x2.indexOf("px")>-1&&(u=parseFloat(t.x2)),"x1"===e?l:u}},{key:"getStringX",value:function(e){var t=this.w,s=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var r=t.globals.labels.indexOf(e),a=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(r+1)+")");return a&&(s=parseFloat(a.getAttribute("x"))),s}}]),R}(),J=function(){function R(e){Ce(this,R),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new M(this.annoCtx)}return Se(R,[{key:"addXaxisAnnotation",value:function(e,t,s){var r,a=this.w,o=this.helpers.getX1X2("x1",e),l=e.label.text,u=e.strokeDashArray;if(f.isNumber(o)){if(null==e.x2){var y=this.annoCtx.graphics.drawLine(o+e.offsetX,0+e.offsetY,o+e.offsetX,a.globals.gridHeight+e.offsetY,e.borderColor,u,e.borderWidth);t.appendChild(y.node),e.id&&y.node.classList.add(e.id)}else{if((r=this.helpers.getX1X2("x2",e))<o){var b=o;o=r,r=b}var w=this.annoCtx.graphics.drawRect(o+e.offsetX,0+e.offsetY,r-o,a.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,u);w.node.classList.add("apexcharts-annotation-rect"),w.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),t.appendChild(w.node),e.id&&w.node.classList.add(e.id)}var k=this.annoCtx.graphics.getTextRects(l,parseFloat(e.label.style.fontSize)),I=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:("top"===e.label.position?4:"center"===e.label.position?a.globals.gridHeight/2+("vertical"===e.label.orientation?k.width/2:0):a.globals.gridHeight)+e.label.offsetY-("vertical"===e.label.orientation?"top"===e.label.position?k.width/2-12:-k.width/2:0),text:l,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});I.attr({rel:s}),t.appendChild(I.node),this.annoCtx.helpers.setOrientations(e,s)}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(r,a){e.addXaxisAnnotation(r,s.node,a)}),s}}]),R}(),G=function(){function R(e){Ce(this,R),this.w=e.w,this.annoCtx=e,this.helpers=new M(this.annoCtx)}return Se(R,[{key:"addYaxisAnnotation",value:function(e,t,s){var r,a=this.w,o=e.strokeDashArray,l=this.helpers.getY1Y2("y1",e),u=e.label.text;if(null==e.y2){var y=this.annoCtx.graphics.drawLine(0+e.offsetX,l+e.offsetY,this._getYAxisAnnotationWidth(e),l+e.offsetY,e.borderColor,o,e.borderWidth);t.appendChild(y.node),e.id&&y.node.classList.add(e.id)}else{if((r=this.helpers.getY1Y2("y2",e))>l){var b=l;l=r,r=b}var w=this.annoCtx.graphics.drawRect(0+e.offsetX,r+e.offsetY,this._getYAxisAnnotationWidth(e),l-r,0,e.fillColor,e.opacity,1,e.borderColor,o);w.node.classList.add("apexcharts-annotation-rect"),w.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),t.appendChild(w.node),e.id&&w.node.classList.add(e.id)}var E=this.annoCtx.graphics.drawText({x:("right"===e.label.position?a.globals.gridWidth:"center"===e.label.position?a.globals.gridWidth/2:0)+e.label.offsetX,y:(r??l)+e.label.offsetY-3,text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});E.attr({rel:s}),t.appendChild(E.node)}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.map(function(r,a){e.addYaxisAnnotation(r,s.node,a)}),s}}]),R}(),re=function(){function R(e){Ce(this,R),this.w=e.w,this.annoCtx=e,this.helpers=new M(this.annoCtx)}return Se(R,[{key:"addPointAnnotation",value:function(e,t,s){var r=this.helpers.getX1X2("x1",e),a=this.helpers.getY1Y2("y1",e);if(f.isNumber(r)){var o={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},l=this.annoCtx.graphics.drawMarker(r+e.marker.offsetX,a+e.marker.offsetY,o);t.appendChild(l.node);var u=e.label.text?e.label.text:"",y=this.annoCtx.graphics.drawText({x:r+e.label.offsetX,y:a+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(y.attr({rel:s}),t.appendChild(y.node),e.customSVG.SVG){var b=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});b.attr({transform:"translate(".concat(r+e.customSVG.offsetX,", ").concat(a+e.customSVG.offsetY,")")}),b.node.innerHTML=e.customSVG.SVG,t.appendChild(b.node)}if(e.image.path){var w=e.image.width?e.image.width:20,k=e.image.height?e.image.height:20;l=this.annoCtx.addImage({x:r+e.image.offsetX-w/2,y:a+e.image.offsetY-k/2,width:w,height:k,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&l.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&l.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&l.node.addEventListener("click",e.click.bind(this,e))}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(r,a){e.addPointAnnotation(r,s.node,a)}),s}}]),R}(),K={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},oe=function(){function R(){Ce(this,R),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return Se(R,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[K],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(e){return new Date(e).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,s){return t+s},0)/e.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,s){return t+s},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return null!==e?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),R}(),ge=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.graphics=new D(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new M(this),this.xAxisAnnotations=new J(this),this.yAxisAnnotations=new G(this),this.pointsAnnotations=new re(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return Se(R,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),s=this.xAxisAnnotations.drawXAxisAnnotations(),r=this.pointsAnnotations.drawPointAnnotations(),a=e.config.chart.animations.enabled,o=[t,s,r],l=[s.node,t.node,r.node],u=0;u<3;u++)e.globals.dom.elGraphical.add(o[u]),!a||e.globals.resized||e.globals.dataChanged||"scatter"!==e.config.chart.type&&"bubble"!==e.config.chart.type&&e.globals.dataPoints>1&&l[u].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:l[u],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,s){e.addImage(t,s)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,s){e.addText(t,s)})}},{key:"addXaxisAnnotation",value:function(e,t,s){this.xAxisAnnotations.addXaxisAnnotation(e,t,s)}},{key:"addYaxisAnnotation",value:function(e,t,s){this.yAxisAnnotations.addYaxisAnnotation(e,t,s)}},{key:"addPointAnnotation",value:function(e,t,s){this.pointsAnnotations.addPointAnnotation(e,t,s)}},{key:"addText",value:function(e,t){var a=e.text,k=e.backgroundColor,E=e.borderWidth,I=e.strokeDashArray,P=e.borderRadius,B=e.borderColor,U=e.appendTo,j=void 0===U?".apexcharts-annotations":U,p=e.paddingLeft,T=void 0===p?4:p,L=e.paddingRight,N=void 0===L?4:L,q=e.paddingBottom,Q=void 0===q?2:q,ne=e.paddingTop,ae=void 0===ne?2:ne,ye=this.w,xe=this.graphics.drawText({x:e.x,y:e.y,text:a,textAnchor:e.textAnchor||"start",fontSize:e.fontSize||"12px",fontWeight:e.fontWeight||"regular",fontFamily:e.fontFamily||ye.config.chart.fontFamily,foreColor:e.foreColor||ye.config.chart.foreColor,cssClass:e.cssClass}),we=ye.globals.dom.baseEl.querySelector(j);we&&we.appendChild(xe.node);var se=xe.bbox();if(a){var Me=this.graphics.drawRect(se.x-T,se.y-ae,se.width+T+N,se.height+Q+ae,P,k||"transparent",1,E,B,I);we.insertBefore(Me.node,xe.node)}}},{key:"addImage",value:function(e,t){var s=this.w,a=e.x,o=void 0===a?0:a,l=e.y,u=void 0===l?0:l,y=e.width,b=void 0===y?20:y,w=e.height,k=void 0===w?20:w,E=e.appendTo,I=void 0===E?".apexcharts-annotations":E,P=s.globals.dom.Paper.image(e.path);P.size(b,k).move(o,u);var B=s.globals.dom.baseEl.querySelector(I);return B&&B.appendChild(P.node),P}},{key:"addXaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"xaxis",contextMethod:s.addXaxisAnnotation}),s}},{key:"addYaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"yaxis",contextMethod:s.addYaxisAnnotation}),s}},{key:"addPointAnnotationExternal",value:function(e,t,s){return void 0===this.invertAxis&&(this.invertAxis=s.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"point",contextMethod:s.addPointAnnotation}),s}},{key:"addAnnotationExternal",value:function(e){var t=e.params,s=e.pushToMemory,r=e.context,a=e.type,o=e.contextMethod,l=r,u=l.w,y=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations")),b=y.childNodes.length+1,w=new oe,k=Object.assign({},"xaxis"===a?w.xAxisAnnotation:"yaxis"===a?w.yAxisAnnotation:w.pointAnnotation),E=f.extend(k,t);switch(a){case"xaxis":this.addXaxisAnnotation(E,y,b);break;case"yaxis":this.addYaxisAnnotation(E,y,b);break;case"point":this.addPointAnnotation(E,y,b)}var I=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(b,"']")),P=this.helpers.addBackgroundToAnno(I,E);return P&&y.insertBefore(P.node,I),s&&u.globals.memory.methodsToExec.push({context:l,id:E.id?E.id:f.randomId(),method:o,label:"addAnnotation",params:t}),r}},{key:"clearAnnotations",value:function(e){var t=e.w,s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");t.globals.memory.methodsToExec.map(function(r,a){"addText"!==r.label&&"addAnnotation"!==r.label||t.globals.memory.methodsToExec.splice(a,1)}),s=f.listToArray(s),Array.prototype.forEach.call(s,function(r){for(;r.firstChild;)r.removeChild(r.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var s=e.w,r=s.globals.dom.baseEl.querySelectorAll(".".concat(t));r&&(s.globals.memory.methodsToExec.map(function(a,o){a.id===t&&s.globals.memory.methodsToExec.splice(o,1)}),Array.prototype.forEach.call(r,function(a){a.parentElement.removeChild(a)}))}}]),R}(),fe=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return Se(R,[{key:"isValidDate",value:function(e){return!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var s=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(s)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var s=this.w.globals.locale,r=this.w.config.xaxis.labels.datetimeUTC,a=["\0"].concat(be(s.months)),o=["\x01"].concat(be(s.shortMonths)),l=["\x02"].concat(be(s.days)),u=["\x03"].concat(be(s.shortDays));function y(Q,ne){var ae=Q+"";for(ne=ne||2;ae.length<ne;)ae="0"+ae;return ae}var b=r?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+b)).replace(/(^|[^\\])yy/g,"$1"+b.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+b);var w=(r?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+a[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+y(w))).replace(/(^|[^\\])M/g,"$1"+w);var k=r?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+l[0])).replace(/(^|[^\\])ddd/g,"$1"+u[0])).replace(/(^|[^\\])dd/g,"$1"+y(k))).replace(/(^|[^\\])d/g,"$1"+k);var E=r?e.getUTCHours():e.getHours(),I=E>12?E-12:0===E?12:E;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+y(E))).replace(/(^|[^\\])H/g,"$1"+E)).replace(/(^|[^\\])hh+/g,"$1"+y(I))).replace(/(^|[^\\])h/g,"$1"+I);var P=r?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+y(P))).replace(/(^|[^\\])m/g,"$1"+P);var B=r?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+y(B))).replace(/(^|[^\\])s/g,"$1"+B);var U=r?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+y(U,3)),U=Math.round(U/10),t=t.replace(/(^|[^\\])ff/g,"$1"+y(U)),U=Math.round(U/10);var j=E<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+U)).replace(/(^|[^\\])TT+/g,"$1"+j)).replace(/(^|[^\\])T/g,"$1"+j.charAt(0));var p=j.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+p)).replace(/(^|[^\\])t/g,"$1"+p.charAt(0));var T=-e.getTimezoneOffset(),L=r||!T?"Z":T>0?"+":"-";if(!r){var N=(T=Math.abs(T))%60;L+=y(Math.floor(T/60))+":"+y(N)}t=t.replace(/(^|[^\\])K/g,"$1"+L);var q=(r?e.getUTCDay():e.getDay())+1;return(t=(t=(t=(t=t.replace(new RegExp(l[0],"g"),l[q])).replace(new RegExp(u[0],"g"),u[q])).replace(new RegExp(a[0],"g"),a[w])).replace(new RegExp(o[0],"g"),o[w])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,s){var r=this.w;void 0!==r.config.xaxis.min&&(e=r.config.xaxis.min),void 0!==r.config.xaxis.max&&(t=r.config.xaxis.max);var a=this.getDate(e),o=this.getDate(t),l=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" "),u=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(l[6],10),maxMillisecond:parseInt(u[6],10),minSecond:parseInt(l[5],10),maxSecond:parseInt(u[5],10),minMinute:parseInt(l[4],10),maxMinute:parseInt(u[4],10),minHour:parseInt(l[3],10),maxHour:parseInt(u[3],10),minDate:parseInt(l[2],10),maxDate:parseInt(u[2],10),minMonth:parseInt(l[1],10)-1,maxMonth:parseInt(u[1],10)-1,minYear:parseInt(l[0],10),maxYear:parseInt(u[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,s){return this.determineDaysOfMonths(e,t)-s}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,s){var r=this.daysCntOfYear[t]+s;return t>1&&this.isLeapYear()&&r++,r}},{key:"determineDaysOfMonths",value:function(e,t){var s=30;switch(e=f.monthMod(e),!0){case this.months30.indexOf(e)>-1:2===e&&(s=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:s=31}return s}}]),R}(),Ae=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return Se(R,[{key:"xLabelFormat",value:function(e,t,s,r){var a=this.w;if("datetime"===a.config.xaxis.type&&void 0===a.config.xaxis.labels.formatter&&void 0===a.config.tooltip.x.formatter){var o=new fe(this.ctx);return o.formatDate(o.getDate(t),a.config.tooltip.x.format)}return e(t,s,r)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,s){var r=this.w;return f.isNumber(e)&&(e=e.toFixed(0!==r.globals.yValueDecimal?void 0!==t.decimalsInFloat?t.decimalsInFloat:r.globals.yValueDecimal:r.globals.maxYArr[s]-r.globals.minYArr[s]<5?1:0)),e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.ttKeyFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.ttZFormatter=function(s){return s},t.globals.legendFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.xLabelFormatter=void 0!==t.config.xaxis.labels.formatter?t.config.xaxis.labels.formatter:function(s){if(f.isNumber(s)){if(!t.config.xaxis.convertedCatToNumeric&&"numeric"===t.config.xaxis.type){if(f.isNumber(t.config.xaxis.decimalsInFloat))return s.toFixed(t.config.xaxis.decimalsInFloat);var r=t.globals.maxX-t.globals.minX;return s.toFixed(r>0&&r<100?1:0)}return s.toFixed(t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?1:0)}return s},t.globals.ttKeyFormatter="function"==typeof t.config.tooltip.x.formatter?t.config.tooltip.x.formatter:t.globals.xLabelFormatter,"function"==typeof t.config.xaxis.tooltip.formatter&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||void 0!==t.config.tooltip.y.formatter)&&(t.globals.ttVal=t.config.tooltip.y),void 0!==t.config.tooltip.z.formatter&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),void 0!==t.config.legend.formatter&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(s,r){t.globals.yLabelFormatters[r]=void 0!==s.labels.formatter?s.labels.formatter:function(a){return t.globals.xyCharts?Array.isArray(a)?a.map(function(o){return e.defaultYFormatter(o,s,r)}):e.defaultYFormatter(a,s,r):a}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if("heatmap"===e.config.chart.type){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(s,r){return s.length>r.length?s:r},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),R}(),Ye=function(R){var e,t=R.isTimeline,s=R.ctx,r=R.seriesIndex,a=R.dataPointIndex,o=R.y1,l=R.y2,u=R.w,y=u.globals.seriesRangeStart[r][a],b=u.globals.seriesRangeEnd[r][a],w=u.globals.labels[a],k=u.config.series[r].name?u.config.series[r].name:"",E=u.globals.ttKeyFormatter,I=u.config.tooltip.y.title.formatter,P={w:u,seriesIndex:r,dataPointIndex:a,start:y,end:b};"function"==typeof I&&(k=I(k,P)),null!==(e=u.config.series[r].data[a])&&void 0!==e&&e.x&&(w=u.config.series[r].data[a].x),t||"datetime"===u.config.xaxis.type&&(w=new Ae(s).xLabelFormat(u.globals.ttKeyFormatter,w,w,{i:void 0,dateFormatter:new fe(s).formatDate,w:u})),"function"==typeof E&&(w=E(w,P)),Number.isFinite(o)&&Number.isFinite(l)&&(y=o,b=l);var B="",U="",j=u.globals.colors[r];if(void 0===u.config.tooltip.x.formatter)if("datetime"===u.config.xaxis.type){var p=new fe(s);B=p.formatDate(p.getDate(y),u.config.tooltip.x.format),U=p.formatDate(p.getDate(b),u.config.tooltip.x.format)}else B=y,U=b;else B=u.config.tooltip.x.formatter(y),U=u.config.tooltip.x.formatter(b);return{start:y,end:b,startVal:B,endVal:U,ylabel:w,color:j,seriesName:k}},Be=function(R){var e=R.color,t=R.seriesName,s=R.ylabel,r=R.start,a=R.end,o=R.seriesIndex,l=R.dataPointIndex,u=R.ctx.tooltip.tooltipLabels.getFormatters(o);r=u.yLbFormatter(r),a=u.yLbFormatter(a);var y=u.yLbFormatter(R.w.globals.series[o][l]),b='<span class="value start-value">\n  '.concat(r,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(a,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+s+": </span> "+(R.w.globals.comboCharts?"rangeArea"===R.w.config.series[o].type||"rangeBar"===R.w.config.series[o].type?b:"<span>".concat(y,"</span>"):b)+" </div></div>"},Ve=function(){function R(e){Ce(this,R),this.opts=e}return Se(R,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,f.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){return e._getBoxTooltip(t.w,t.seriesIndex,t.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){return e._getBoxTooltip(t.w,t.seriesIndex,t.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){var s=t.seriesIndex,r=t.dataPointIndex,a=t.w,o=function(){return a.globals.seriesRangeEnd[s][r]-a.globals.seriesRangeStart[s][r]};return a.globals.comboCharts?"rangeBar"===a.config.series[s].type||"rangeArea"===a.config.series[s].type?o():e:o()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?(r=(s=Ye(ue(ue({},t=e),{},{isTimeline:!0}))).color,a=s.seriesName,o=s.ylabel,l=s.startVal,u=s.endVal,Be(ue(ue({},t),{},{color:r,seriesName:a,ylabel:o,start:l,end:u}))):function(t){var s=Ye(t),r=s.color,a=s.seriesName,o=s.ylabel,l=s.start,u=s.end;return Be(ue(ue({},t),{},{color:r,seriesName:a,ylabel:o,start:l,end:u}))}(e);var t,s,r,a,o,l,u}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,s;return null!==(t=e.plotOptions.bar)&&void 0!==t&&t.barHeight||(e.plotOptions.bar.barHeight=2),null!==(s=e.plotOptions.bar)&&void 0!==s&&s.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return r=(s=Ye(t=e)).color,a=s.seriesName,o=s.ylabel,l=s.start,u=s.end,Be(ue(ue({},t),{},{color:r,seriesName:a,ylabel:o,start:l,end:u}));var t,s,r,a,o,l,u}}}}},{key:"brush",value:function(e){return f.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(s,r){e.yaxis[r].min=0,e.yaxis[r].max=100}),"bar"===e.chart.type&&(e.dataLabels.formatter=t||function(s){return"number"==typeof s&&s?s.toFixed(0)+"%":s}),e}},{key:"stackedBars",value:function(){var e=this.bar();return ue(ue({},e),{},{plotOptions:ue(ue({},e.plotOptions),{},{bar:ue(ue({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,s){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(o){return f.isNumber(o)?Math.floor(o):o};var r=e.xaxis.labels.formatter,a=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return s&&s.length&&(a=s.map(function(o){return Array.isArray(o)?o:String(o)})),a&&a.length&&(e.xaxis.labels.formatter=function(o){return f.isNumber(o)?r(a[Math.floor(o)-1]):r(o)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(e,t,s,r,a){var o=e.globals.seriesCandleO[t][s],l=e.globals.seriesCandleH[t][s],u=e.globals.seriesCandleM[t][s],y=e.globals.seriesCandleL[t][s],b=e.globals.seriesCandleC[t][s];return e.config.series[t].type&&e.config.series[t].type!==a?'<div class="apexcharts-custom-tooltip">\n          '.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][s],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(r[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(r[1],': <span class="value">')+l+"</span></div>"+(u?"<div>".concat(r[2],': <span class="value">')+u+"</span></div>":"")+"<div>".concat(r[3],': <span class="value">')+y+"</span></div>"+"<div>".concat(r[4],': <span class="value">')+b+"</span></div></div>"}}]),R}(),He=function(){function R(e){Ce(this,R),this.opts=e}return Se(R,[{key:"init",value:function(e){var t=e.responsiveOverride,s=this.opts,r=new oe,a=new Ve(s);this.chartType=s.chart.type,s=this.extendYAxis(s),s=this.extendAnnotations(s);var o=r.init(),l={};if(s&&"object"===m(s)){var u,y,b,w,k,E,I={};I=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(s.chart.type)?a[s.chart.type]():a.line(),s.chart.stacked&&"bar"===s.chart.type&&(I=a.stackedBars()),null!==(u=s.chart.brush)&&void 0!==u&&u.enabled&&(I=a.brush(I)),s.chart.stacked&&"100%"===s.chart.stackType&&(s=a.stacked100(s)),null!==(y=s.plotOptions)&&void 0!==y&&null!==(b=y.bar)&&void 0!==b&&b.isDumbbell&&(s=a.dumbbell(s)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(s),s.xaxis=s.xaxis||window.Apex.xaxis||{},t||(s.xaxis.convertedCatToNumeric=!1),(null!==(w=(s=this.checkForCatToNumericXAxis(this.chartType,I,s)).chart.sparkline)&&void 0!==w&&w.enabled||null!==(k=window.Apex.chart)&&void 0!==k&&null!==(E=k.sparkline)&&void 0!==E&&E.enabled)&&(I=a.sparkline(I)),l=f.extend(o,I)}var P=f.extend(l,window.Apex);return o=f.extend(P,s),this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(e,t,s){var r,a,o=new Ve(s);return("bar"===e||"boxPlot"===e)&&(null===(r=s.plotOptions)||void 0===r||null===(a=r.bar)||void 0===a?void 0:a.horizontal)||"pie"===e||"polarArea"===e||"donut"===e||"radar"===e||"radialBar"===e||"heatmap"===e||!("datetime"!==s.xaxis.type&&"numeric"!==s.xaxis.type)||"between"===(s.xaxis.tickPlacement?s.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement)||(s=o.convertCatToNumeric(s)),s}},{key:"extendYAxis",value:function(e,t){var s=new oe;(void 0===e.yaxis||!e.yaxis||Array.isArray(e.yaxis)&&0===e.yaxis.length)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=f.extend(e.yaxis,window.Apex.yaxis)),e.yaxis=e.yaxis.constructor!==Array?[f.extend(s.yAxis,e.yaxis)]:f.extendArray(e.yaxis,s.yAxis);var r=!1;e.yaxis.forEach(function(o){o.logarithmic&&(r=!0)});var a=e.series;return t&&!a&&(a=t.config.series),r&&a.length!==e.yaxis.length&&a.length&&(e.yaxis=a.map(function(o,l){if(o.name||(a[l].name="series-".concat(l+1)),e.yaxis[l])return e.yaxis[l].seriesName=a[l].name,e.yaxis[l];var u=f.extend(s.yAxis,e.yaxis[0]);return u.show=!1,u})),r&&a.length>1&&a.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),e}},{key:"extendAnnotations",value:function(e){return void 0===e.annotations&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new oe;return e.annotations.yaxis=f.extendArray(void 0!==e.annotations.yaxis?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new oe;return e.annotations.xaxis=f.extendArray(void 0!==e.annotations.xaxis?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new oe;return e.annotations.points=f.extendArray(void 0!==e.annotations.points?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&"dark"===e.theme.mode&&(e.tooltip||(e.tooltip={}),"light"!==e.tooltip.theme&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.chart.background||(e.chart.background="#424242"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),R}(),Ke=function(){function R(){Ce(this,R)}return Se(R,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:"pan"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.pan,selectionEnabled:"selection"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=f.extend({},e),t.initialSeries=f.clone(e.series),t.lastXAxis=f.clone(t.initialConfig.xaxis),t.lastYAxis=f.clone(t.initialConfig.yaxis),t}}]),R}(),ke=function(){function R(e){Ce(this,R),this.opts=e}return Se(R,[{key:"init",value:function(){var e=new He(this.opts).init({responsiveOverride:!1});return{config:e,globals:(new Ke).init(e)}}}]),R}(),De=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0}return Se(R,[{key:"clippedImgArea",value:function(e){var t=this.w,s=t.config,r=parseInt(t.globals.gridWidth,10),a=parseInt(t.globals.gridHeight,10),o=r>a?r:a,l=e.image,u=0,y=0;void 0===e.width&&void 0===e.height?void 0!==s.fill.image.width&&void 0!==s.fill.image.height?(u=s.fill.image.width+1,y=s.fill.image.height):(u=o+1,y=o):(u=e.width,y=e.height);var b=document.createElementNS(t.globals.SVGNS,"pattern");D.setAttrs(b,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:u+"px",height:y+"px"});var w=document.createElementNS(t.globals.SVGNS,"image");b.appendChild(w),w.setAttributeNS(window.SVG.xlink,"href",l),D.setAttrs(w,{x:0,y:0,preserveAspectRatio:"none",width:u+"px",height:y+"px"}),w.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(b)}},{key:"getSeriesIndex",value:function(e){var t=this.w;return this.seriesIndex=("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||"heatmap"===t.config.chart.type||"treemap"===t.config.chart.type?e.seriesNumber:e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(e){var t=this.w;this.opts=e;var s,r,a,o=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var l=this.getFillColors()[this.seriesIndex];void 0!==t.globals.seriesColors[this.seriesIndex]&&(l=t.globals.seriesColors[this.seriesIndex]),"function"==typeof l&&(l=l({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:t}));var u=e.fillType?e.fillType:this.getFillType(this.seriesIndex),y=Array.isArray(o.fill.opacity)?o.fill.opacity[this.seriesIndex]:o.fill.opacity;e.color&&(l=e.color);var b=l;if(-1===l.indexOf("rgb")?l.length<9&&(b=f.hexToRgba(l,y)):l.indexOf("rgba")>-1&&(y=f.getOpacityFromRGBA(l)),e.opacity&&(y=e.opacity),"pattern"===u&&(r=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:r,fillColor:l,fillOpacity:y,defaultColor:b})),"gradient"===u&&(a=this.handleGradientFill({fillConfig:e.fillConfig,fillColor:l,fillOpacity:y,i:this.seriesIndex})),"image"===u){var w=o.fill.image.src,k=e.patternID?e.patternID:"";this.clippedImgArea({opacity:y,image:Array.isArray(w)?e.seriesNumber<w.length?w[e.seriesNumber]:w[0]:w,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:"pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(k)}),s="url(#pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(k,")")}else s="gradient"===u?a:"pattern"===u?r:b;return e.solid&&(s=b),s}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,s=this.opts,r=[];return e.globals.comboCharts?"line"===e.config.series[this.seriesIndex].type?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors):"line"===t.chart.type?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors),void 0!==s.fillColors&&(r=[],Array.isArray(s.fillColors)?r=s.fillColors.slice():r.push(s.fillColors)),r}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,r=e.fillColor,a=e.fillOpacity,o=e.defaultColor,l=this.w.config.fill;t&&(l=t);var u=this.opts,y=new D(this.ctx),b=Array.isArray(l.pattern.strokeWidth)?l.pattern.strokeWidth[this.seriesIndex]:l.pattern.strokeWidth,w=r;return Array.isArray(l.pattern.style)?void 0!==l.pattern.style[u.seriesNumber]?y.drawPattern(l.pattern.style[u.seriesNumber],l.pattern.width,l.pattern.height,w,b,a):o:y.drawPattern(l.pattern.style,l.pattern.width,l.pattern.height,w,b,a)}},{key:"handleGradientFill",value:function(e){var t=e.fillColor,s=e.fillOpacity,r=e.fillConfig,a=e.i,o=this.w.config.fill;r&&(o=ue(ue({},o),r));var l,u=this.opts,y=new D(this.ctx),b=new f,w=o.gradient.type,k=t,E=void 0===o.gradient.opacityFrom?s:Array.isArray(o.gradient.opacityFrom)?o.gradient.opacityFrom[a]:o.gradient.opacityFrom;k.indexOf("rgba")>-1&&(E=f.getOpacityFromRGBA(k));var I=void 0===o.gradient.opacityTo?s:Array.isArray(o.gradient.opacityTo)?o.gradient.opacityTo[a]:o.gradient.opacityTo;if(void 0===o.gradient.gradientToColors||0===o.gradient.gradientToColors.length)l=b.shadeColor("dark"===o.gradient.shade?-1*parseFloat(o.gradient.shadeIntensity):parseFloat(o.gradient.shadeIntensity),t.indexOf("rgb")>-1?f.rgb2hex(t):t);else if(o.gradient.gradientToColors[u.seriesNumber]){var P=o.gradient.gradientToColors[u.seriesNumber];l=P,P.indexOf("rgba")>-1&&(I=f.getOpacityFromRGBA(P))}else l=t;if(o.gradient.gradientFrom&&(k=o.gradient.gradientFrom),o.gradient.gradientTo&&(l=o.gradient.gradientTo),o.gradient.inverseColors){var B=k;k=l,l=B}return k.indexOf("rgb")>-1&&(k=f.rgb2hex(k)),l.indexOf("rgb")>-1&&(l=f.rgb2hex(l)),y.drawGradient(w,k,l,E,I,u.size,o.gradient.stops,o.gradient.colorStops,a)}}]),R}(),qe=function(){function R(e,t){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)void 0===e.globals.markers.size[t]&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(s){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e,t,s,r){var a,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=this.w,u=t,y=e,b=null,w=new D(this.ctx),k=l.config.markers.discrete&&l.config.markers.discrete.length;if((l.globals.markers.size[t]>0||o||k)&&(b=w.group({class:o||k?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(l.globals.cuid,")")),Array.isArray(y.x))for(var E=0;E<y.x.length;E++){var I=s;1===s&&0===E&&(I=0),1===s&&1===E&&(I=1);var P="apexcharts-marker";if("line"!==l.config.chart.type&&"area"!==l.config.chart.type||l.globals.comboCharts||l.config.tooltip.intersect||(P+=" no-pointer-events"),(Array.isArray(l.config.markers.size)?l.globals.markers.size[t]>0:l.config.markers.size>0)||o||k){f.isNumber(y.y[E])?P+=" w".concat(f.randomId()):P="apexcharts-nullpoint";var B=this.getMarkerConfig({cssClass:P,seriesIndex:t,dataPointIndex:I});l.config.series[u].data[I]&&(l.config.series[u].data[I].fillColor&&(B.pointFillColor=l.config.series[u].data[I].fillColor),l.config.series[u].data[I].strokeColor&&(B.pointStrokeColor=l.config.series[u].data[I].strokeColor)),r&&(B.pSize=r),(y.x[E]<0||y.x[E]>l.globals.gridWidth||y.y[E]<0||y.y[E]>l.globals.gridHeight)&&(B.pSize=0),(a=w.drawMarker(y.x[E],y.y[E],B)).attr("rel",I),a.attr("j",I),a.attr("index",t),a.node.setAttribute("default-marker-size",B.pSize),new Y(this.ctx).setSelectionFilter(a,t,I),this.addEvents(a),b&&b.add(a)}else void 0===l.globals.pointsArray[t]&&(l.globals.pointsArray[t]=[]),l.globals.pointsArray[t].push([y.x[E],y.y[E]])}return b}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,s=e.seriesIndex,r=e.dataPointIndex,a=void 0===r?null:r,o=e.finishRadius,l=void 0===o?null:o,u=this.w,y=this.getMarkerStyle(s),b=u.globals.markers.size[s],w=u.config.markers;return null!==a&&w.discrete.length&&w.discrete.map(function(k){k.seriesIndex===s&&k.dataPointIndex===a&&(y.pointStrokeColor=k.strokeColor,y.pointFillColor=k.fillColor,b=k.size,y.pointShape=k.shape)}),{pSize:null===l?b:l,pRadius:w.radius,width:Array.isArray(w.width)?w.width[s]:w.width,height:Array.isArray(w.height)?w.height[s]:w.height,pointStrokeWidth:Array.isArray(w.strokeWidth)?w.strokeWidth[s]:w.strokeWidth,pointStrokeColor:y.pointStrokeColor,pointFillColor:y.pointFillColor,shape:y.pointShape||(Array.isArray(w.shape)?w.shape[s]:w.shape),class:t,pointStrokeOpacity:Array.isArray(w.strokeOpacity)?w.strokeOpacity[s]:w.strokeOpacity,pointStrokeDashArray:Array.isArray(w.strokeDashArray)?w.strokeDashArray[s]:w.strokeDashArray,pointFillOpacity:Array.isArray(w.fillOpacity)?w.fillOpacity[s]:w.fillOpacity,seriesIndex:s}}},{key:"addEvents",value:function(e){var t=this.w,s=new D(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",s.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,s=t.globals.markers.colors,r=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(r)?r[e]:r,pointFillColor:Array.isArray(s)?s[e]:s}}}]),R}(),Qe=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return Se(R,[{key:"draw",value:function(e,t,s){var r=this.w,a=new D(this.ctx),o=s.realIndex,l=s.pointsPos,u=s.zRatio,y=s.elParent,b=a.group({class:"apexcharts-series-markers apexcharts-series-".concat(r.config.chart.type)});if(b.attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(l.x))for(var w=0;w<l.x.length;w++){var k=t+1,E=!0;0===t&&0===w&&(k=0),0===t&&1===w&&(k=1);var I=0,P=r.globals.markers.size[o];if(u!==1/0){var B=r.config.plotOptions.bubble;P=r.globals.seriesZ[o][k],B.zScaling&&(P/=u),B.minBubbleRadius&&P<B.minBubbleRadius&&(P=B.minBubbleRadius),B.maxBubbleRadius&&P>B.maxBubbleRadius&&(P=B.maxBubbleRadius)}r.config.chart.animations.enabled||(I=P);var j=l.y[w];if(I=I||0,null!==j&&void 0!==r.globals.series[o][k]||(E=!1),E){var p=this.drawPoint(l.x[w],j,I,P,o,k,t);b.add(p)}y.add(b)}}},{key:"drawPoint",value:function(e,t,s,r,a,o,l){var u=this.w,y=a,b=new W(this.ctx),w=new Y(this.ctx),k=new De(this.ctx),E=new qe(this.ctx),I=new D(this.ctx),P=E.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:y,dataPointIndex:o,finishRadius:"bubble"===u.config.chart.type||u.globals.comboCharts&&u.config.series[a]&&"bubble"===u.config.series[a].type?r:null});r=P.pSize;var B,U=k.fillPath({seriesNumber:a,dataPointIndex:o,color:P.pointFillColor,patternUnits:"objectBoundingBox",value:u.globals.series[a][l]});if("circle"===P.shape?B=I.drawCircle(s):"square"!==P.shape&&"rect"!==P.shape||(B=I.drawRect(0,0,P.width-P.pointStrokeWidth/2,P.height-P.pointStrokeWidth/2,P.pRadius)),u.config.series[y].data[o]&&u.config.series[y].data[o].fillColor&&(U=u.config.series[y].data[o].fillColor),B.attr({x:e-P.width/2-P.pointStrokeWidth/2,y:t-P.height/2-P.pointStrokeWidth/2,cx:e,cy:t,fill:U,"fill-opacity":P.pointFillOpacity,stroke:P.pointStrokeColor,r,"stroke-width":P.pointStrokeWidth,"stroke-dasharray":P.pointStrokeDashArray,"stroke-opacity":P.pointStrokeOpacity}),u.config.chart.dropShadow.enabled&&w.dropShadow(B,u.config.chart.dropShadow,a),!this.initialAnim||u.globals.dataChanged||u.globals.resized?u.globals.animationEnded=!0:b.animateMarker(B,0,"circle"===P.shape?r:{width:P.width,height:P.height},u.config.chart.animations.speed,u.globals.easing,function(){window.setTimeout(function(){b.animationCompleted(B)},100)}),u.globals.dataChanged&&"circle"===P.shape)if(this.dynamicAnim){var T,L,N,q,Q=u.config.chart.animations.dynamicAnimation.speed;null!=(q=u.globals.previousPaths[a]&&u.globals.previousPaths[a][l])&&(T=q.x,L=q.y,N=void 0!==q.r?q.r:r);for(var ne=0;ne<u.globals.collapsedSeries.length;ne++)u.globals.collapsedSeries[ne].index===a&&(Q=1,r=0);0===e&&0===t&&(r=0),b.animateCircle(B,{cx:T,cy:L,r:N},{cx:e,cy:t,r},Q,u.globals.easing)}else B.attr({r});return B.attr({rel:o,j:o,index:a,"default-marker-size":r}),w.setSelectionFilter(B,a,o),E.addEvents(B),B.node.classList.add("apexcharts-marker"),B}},{key:"centerTextInBubble",value:function(e){return{y:e+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),R}(),at=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"dataLabelsCorrection",value:function(e,t,s,r,a,o,l){var u=this.w,y=!1,b=new D(this.ctx).getTextRects(s,l),w=b.width,k=b.height;if(t<0&&(t=0),t>u.globals.gridHeight+k&&(t=u.globals.gridHeight+k/2),void 0===u.globals.dataLabelsRects[r]&&(u.globals.dataLabelsRects[r]=[]),u.globals.dataLabelsRects[r].push({x:e,y:t,width:w,height:k}),void 0!==u.globals.dataLabelsRects[r][u.globals.dataLabelsRects[r].length-2]){var P=u.globals.dataLabelsRects[r][void 0!==u.globals.lastDrawnDataLabelsIndexes[r]?u.globals.lastDrawnDataLabelsIndexes[r][u.globals.lastDrawnDataLabelsIndexes[r].length-1]:0];(e>P.x+P.width+2||t>P.y+P.height+2||e+w<P.x)&&(y=!0)}return(0===a||o)&&(y=!0),{x:e,y:t,textRects:b,drawnextLabel:y}}},{key:"drawDataLabel",value:function(e){var t=this,s=e.type,r=e.pos,a=e.i,o=e.j,l=e.isRangeStart,u=e.strokeWidth,y=void 0===u?2:u,b=this.w,w=new D(this.ctx),k=b.config.dataLabels,E=0,I=0,P=o,B=null;if(!k.enabled||!Array.isArray(r.x))return B;B=w.group({class:"apexcharts-data-labels"});for(var U=0;U<r.x.length;U++)if(E=r.x[U]+k.offsetX,I=r.y[U]+k.offsetY+y,!isNaN(E)){1===o&&0===U&&(P=0),1===o&&1===U&&(P=1);var j=b.globals.series[a][P];"rangeArea"===s&&(j=l?b.globals.seriesRangeStart[a][P]:b.globals.seriesRangeEnd[a][P]);var p="",T=function(L){return b.config.dataLabels.formatter(L,{ctx:t.ctx,seriesIndex:a,dataPointIndex:P,w:b})};"bubble"===b.config.chart.type?(p=T(j=b.globals.seriesZ[a][P]),I=r.y[U],I=new Qe(this.ctx).centerTextInBubble(I,a,P).y):void 0!==j&&(p=T(j)),this.plotDataLabelsText({x:E,y:I,text:p,i:a,j:P,parent:B,offsetCorrection:!0,dataLabelsConfig:b.config.dataLabels})}return B}},{key:"plotDataLabelsText",value:function(e){var t=this.w,s=new D(this.ctx),r=e.x,a=e.y,o=e.i,l=e.j,u=e.text,y=e.textAnchor,b=e.fontSize,w=e.parent,k=e.dataLabelsConfig,E=e.color,I=e.alwaysDrawDataLabel,P=e.offsetCorrection;if(!(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(o)<0)){var B={x:r,y:a,drawnextLabel:!0,textRects:null};P&&(B=this.dataLabelsCorrection(r,a,u,o,l,I,parseInt(k.style.fontSize,10))),t.globals.zoomed||(r=B.x,a=B.y),B.textRects&&(r<-10-B.textRects.width||r>t.globals.gridWidth+B.textRects.width+10)&&(u="");var U=t.globals.dataLabels.style.colors[o];(("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(U=t.globals.dataLabels.style.colors[l]),"function"==typeof U&&(U=U({series:t.globals.series,seriesIndex:o,dataPointIndex:l,w:t})),E&&(U=E);var j=k.offsetX,p=k.offsetY;if("bar"!==t.config.chart.type&&"rangeBar"!==t.config.chart.type||(j=0,p=0),B.drawnextLabel){var T=s.drawText({width:100,height:parseInt(k.style.fontSize,10),x:r+j,y:a+p,foreColor:U,textAnchor:y||k.textAnchor,text:u,fontSize:b||k.style.fontSize,fontFamily:k.style.fontFamily,fontWeight:k.style.fontWeight||"normal"});if(T.attr({class:"apexcharts-datalabel",cx:r,cy:a}),k.dropShadow.enabled){var L=k.dropShadow;new Y(this.ctx).dropShadow(T,L)}w.add(T),void 0===t.globals.lastDrawnDataLabelsIndexes[o]&&(t.globals.lastDrawnDataLabelsIndexes[o]=[]),t.globals.lastDrawnDataLabelsIndexes[o].push(l)}}}},{key:"addBackgroundToDataLabel",value:function(e,t){var s=this.w,r=s.config.dataLabels.background,a=r.padding,o=r.padding/2,l=t.width,u=t.height,y=new D(this.ctx).drawRect(t.x-a,t.y-o/2,l+2*a,u+o,r.borderRadius,"transparent"===s.config.chart.background?"#fff":s.config.chart.background,r.opacity,r.borderWidth,r.borderColor);return r.dropShadow.enabled&&new Y(this.ctx).dropShadow(y,r.dropShadow),y}},{key:"dataLabelsBackground",value:function(){var e=this.w;if("bubble"!==e.config.chart.type)for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),s=0;s<t.length;s++){var r=t[s],a=r.getBBox(),o=null;if(a.width&&a.height&&(o=this.addBackgroundToDataLabel(r,a)),o){r.parentNode.insertBefore(o.node,r);var l=r.getAttribute("fill");!e.config.chart.animations.enabled||e.globals.resized||e.globals.dataChanged?o.attr({fill:l}):o.animate().attr({fill:l}),r.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),s=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),r=0;r<t.length;r++)s&&s.insertBefore(t[r],s.nextSibling)}}]),R}(),We=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return Se(R,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(f.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),s=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:s}}},{key:"addCollapsedClassToSeries",value:function(e,t){var s=this.w;function r(a){for(var o=0;o<a.length;o++)a[o].index===t&&e.node.classList.add("apexcharts-series-collapsed")}r(s.globals.collapsedSeries),r(s.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.w,a=f.clone(r.globals.initialSeries);r.globals.previousPaths=[],s?(r.globals.collapsedSeries=[],r.globals.ancillaryCollapsedSeries=[],r.globals.collapsedSeriesIndices=[],r.globals.ancillaryCollapsedSeriesIndices=[]):a=this.emptyCollapsedSeries(a),r.config.series=a,e&&(t&&(r.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(a,r.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,s=0;s<e.length;s++)t.globals.collapsedSeriesIndices.indexOf(s)>-1&&(e[s].data=[]);return e}},{key:"toggleSeriesOnHover",value:function(e,t){var s=this.w;t||(t=e.target);var r=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===e.type){var a=parseInt(t.getAttribute("rel"),10)-1,o=null,l=null;s.globals.axisCharts||"radialBar"===s.config.chart.type?s.globals.axisCharts?(o=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),l=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"))):o=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")):o=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var u=0;u<r.length;u++)r[u].classList.add(this.legendInactiveClass);null!==o&&(s.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),null!==l&&l.classList.remove(this.legendInactiveClass))}else if("mouseout"===e.type)for(var y=0;y<r.length;y++)r[y].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var s=this,r=this.w,a=r.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(u){for(var y=0;y<a.length;y++)a[y].classList[u](s.legendInactiveClass)};if("mousemove"===e.type){var l=parseInt(t.getAttribute("rel"),10)-1;o("add"),function(u){for(var y=0;y<a.length;y++){var b=parseInt(a[y].getAttribute("val"),10);b>=u.from&&b<=u.to&&a[y].classList.remove(s.legendInactiveClass)}}(r.config.plotOptions.heatmap.colorScale.ranges[l])}else"mouseout"===e.type&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=this.w,r=0;if(s.config.series.length>1)for(var a=s.config.series.map(function(l,u){return l.data&&l.data.length>0&&-1===s.globals.collapsedSeriesIndices.indexOf(u)&&(!s.globals.comboCharts||0===t.length||t.length&&t.indexOf(s.config.series[u].type)>-1)?u:-1}),o="asc"===e?0:a.length-1;"asc"===e?o<a.length:o>=0;"asc"===e?o++:o--)if(-1!==a[o]){r=a[o];break}return r}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return"bar"===e.type||"column"===e.type?t:-1}).filter(function(e){return-1!==e}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(o,l,u){for(var y=o[l].childNodes,b={type:u,paths:[],realIndex:o[l].getAttribute("data:realIndex")},w=0;w<y.length;w++)if(y[w].hasAttribute("pathTo")){var k=y[w].getAttribute("pathTo");b.paths.push({d:k})}e.globals.previousPaths.push(b)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(o){for(var u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series")),y=0;y<u.length;y++)t(u,y,o)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(s.length>0)for(var r=function(o){for(var l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(o,"'] rect")),u=[],y=function(w){var k=function(I){return l[w].getAttribute(I)},E={x:parseFloat(k("x")),y:parseFloat(k("y")),width:parseFloat(k("width")),height:parseFloat(k("height"))};u.push({rect:E,color:l[w].getAttribute("color")})},b=0;b<l.length;b++)y(b);e.globals.previousPaths.push(u)},a=0;a<s.length;a++)r(a);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(e){var t=this.w,s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series"));if(s.length>0)for(var r=0;r<s.length;r++){for(var a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series[data\\:realIndex='").concat(r,"'] circle")),o=[],l=0;l<a.length;l++)o.push({x:a[l].getAttribute("cx"),y:a[l].getAttribute("cy"),r:a[l].getAttribute("r")});t.globals.previousPaths.push(o)}}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,s=new D(this.ctx),r=e.globals.svgWidth/2,a=e.globals.svgHeight/2,o="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,"left"===t.align?(r=10,o="start"):"right"===t.align&&(r=e.globals.svgWidth-10,o="end"),"top"===t.verticalAlign?a=50:"bottom"===t.verticalAlign&&(a=e.globals.svgHeight-50),r+=t.offsetX,a=a+parseInt(t.style.fontSize,10)+2+t.offsetY,void 0!==t.text&&""!==t.text){var l=s.drawText({x:r,y:a,text:t.text,textAnchor:o,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(l)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,s=0;s<e.length;s++)if(0===e[s].length)for(var r=0;r<e[t.globals.maxValsInArrayIndex].length;r++)e[s].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,s=this.filteredSeriesX(),r=0;r<s.length-1;r++)if(s[r][0]!==s[r+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(t){return t.length>0?t:[]})}}]),R}(),pt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new z(this.ctx)}return Se(R,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new We(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!==e[this.activeSeriesIndex].data[0]&&void 0!==e[this.activeSeriesIndex].data[0].x&&null!==e[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new We(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!=e[this.activeSeriesIndex].data[0]&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var s=this.w.config,r=this.w.globals,a="boxPlot"===s.chart.type||"boxPlot"===s.series[t].type,o=0;o<e[t].data.length;o++)if(void 0!==e[t].data[o][1]&&(Array.isArray(e[t].data[o][1])&&4===e[t].data[o][1].length&&!a?this.twoDSeries.push(f.parseNumber(e[t].data[o][1][3])):this.twoDSeries.push(f.parseNumber(e[t].data[o].length>=5?e[t].data[o][4]:e[t].data[o][1])),r.dataFormatXNumeric=!0),"datetime"===s.xaxis.type){var l=new Date(e[t].data[o][0]);l=new Date(l).getTime(),this.twoDSeriesX.push(l)}else this.twoDSeriesX.push(e[t].data[o][0]);for(var u=0;u<e[t].data.length;u++)void 0!==e[t].data[u][2]&&(this.threeDSeries.push(e[t].data[u][2]),r.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var s=this.w.config,r=this.w.globals,a=new fe(this.ctx),o=t;r.collapsedSeriesIndices.indexOf(t)>-1&&(o=this.activeSeriesIndex);for(var l=0;l<e[t].data.length;l++)void 0!==e[t].data[l].y&&(Array.isArray(e[t].data[l].y)?this.twoDSeries.push(f.parseNumber(e[t].data[l].y[e[t].data[l].y.length-1])):this.twoDSeries.push(f.parseNumber(e[t].data[l].y))),void 0!==e[t].data[l].goals&&Array.isArray(e[t].data[l].goals)?(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[l].goals)):(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var u=0;u<e[o].data.length;u++){var y="string"==typeof e[o].data[u].x,b=Array.isArray(e[o].data[u].x),w=!b&&!!a.isValidDate(e[o].data[u].x.toString());y||w?y||s.xaxis.convertedCatToNumeric?"datetime"!==s.xaxis.type||r.isBarHorizontal&&r.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[u].x)):this.twoDSeriesX.push(a.parseDate(e[o].data[u].x)):"datetime"===s.xaxis.type?this.twoDSeriesX.push(a.parseDate(e[o].data[u].x.toString())):(r.dataFormatXNumeric=!0,r.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[o].data[u].x))):b?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[u].x)):(r.isXNumeric=!0,r.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[o].data[u].x))}if(e[t].data[0]&&void 0!==e[t].data[0].z){for(var E=0;E<e[t].data.length;E++)this.threeDSeries.push(e[t].data[E].z);r.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var s=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",e,t)),s.seriesRangeStart.push(r.start),s.seriesRangeEnd.push(r.end),s.seriesRange.push(r.rangeUniques),s.seriesRange.forEach(function(a,o){a&&a.forEach(function(l,u){l.y.forEach(function(y,b){for(var w=0;w<l.y.length;w++)b!==w&&y.y1<=l.y[w].y2&&l.y[w].y1<=y.y2&&(l.overlaps.indexOf(y.rangeName)<0&&l.overlaps.push(y.rangeName),l.overlaps.indexOf(l.y[w].rangeName)<0&&l.overlaps.push(l.y[w].rangeName))})})}),r}},{key:"handleCandleStickBoxData",value:function(e,t){var s=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleCandleStickBoxDataFormat("xy",e,t)),s.seriesCandleO[t]=r.o,s.seriesCandleH[t]=r.h,s.seriesCandleM[t]=r.m,s.seriesCandleL[t]=r.l,s.seriesCandleC[t]=r.c,r}},{key:"handleRangeDataFormat",value:function(e,t,s){var r=[],a=[],o=t[s].data.filter(function(b,w,k){return w===k.findIndex(function(E){return E.x===b.x})}).map(function(b,w){return{x:b.x,overlaps:[],y:[]}});if("array"===e)for(var l=0;l<t[s].data.length;l++)Array.isArray(t[s].data[l])?(r.push(t[s].data[l][1][0]),a.push(t[s].data[l][1][1])):(r.push(t[s].data[l]),a.push(t[s].data[l]));else if("xy"===e)for(var u=function(b){var w=Array.isArray(t[s].data[b].y),k=f.randomId(),E=t[s].data[b].x,I={y1:w?t[s].data[b].y[0]:t[s].data[b].y,y2:w?t[s].data[b].y[1]:t[s].data[b].y,rangeName:k};t[s].data[b].rangeName=k;var P=o.findIndex(function(B){return B.x===E});o[P].y.push(I),r.push(I.y1),a.push(I.y2)},y=0;y<t[s].data.length;y++)u(y);return{start:r,end:a,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,s){var r=this.w,a="boxPlot"===r.config.chart.type||"boxPlot"===r.config.series[s].type,o=[],l=[],u=[],y=[],b=[];if("array"===e)if(a&&6===t[s].data[0].length||!a&&5===t[s].data[0].length)for(var w=0;w<t[s].data.length;w++)o.push(t[s].data[w][1]),l.push(t[s].data[w][2]),a?(u.push(t[s].data[w][3]),y.push(t[s].data[w][4]),b.push(t[s].data[w][5])):(y.push(t[s].data[w][3]),b.push(t[s].data[w][4]));else for(var k=0;k<t[s].data.length;k++)Array.isArray(t[s].data[k][1])&&(o.push(t[s].data[k][1][0]),l.push(t[s].data[k][1][1]),a?(u.push(t[s].data[k][1][2]),y.push(t[s].data[k][1][3]),b.push(t[s].data[k][1][4])):(y.push(t[s].data[k][1][2]),b.push(t[s].data[k][1][3])));else if("xy"===e)for(var E=0;E<t[s].data.length;E++)Array.isArray(t[s].data[E].y)&&(o.push(t[s].data[E].y[0]),l.push(t[s].data[E].y[1]),a?(u.push(t[s].data[E].y[2]),y.push(t[s].data[E].y[3]),b.push(t[s].data[E].y[4])):(y.push(t[s].data[E].y[2]),b.push(t[s].data[E].y[3])));return{o,h:l,m:u,l:y,c:b}}},{key:"parseDataAxisCharts",value:function(e){var t,s=this,a=this.w.config,o=this.w.globals,l=new fe(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx),u=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();if(o.isRangeBar="rangeBar"===a.chart.type&&o.isBarHorizontal,o.hasXaxisGroups="category"===a.xaxis.type&&a.xaxis.group.groups.length>0,o.hasXaxisGroups&&(o.groups=a.xaxis.group.groups),o.hasSeriesGroups=null===(t=e[0])||void 0===t?void 0:t.group,o.hasSeriesGroups){var y=[],b=be(new Set(e.map(function(I){return I.group})));e.forEach(function(I,P){var B=b.indexOf(I.group);y[B]||(y[B]=[]),y[B].push(I.name)}),o.seriesGroups=y}for(var w=function(){for(var I=0;I<u.length;I++)if("string"==typeof u[I]){if(!l.isValidDate(u[I]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");s.twoDSeriesX.push(l.parseDate(u[I]))}else s.twoDSeriesX.push(u[I])},k=0;k<e.length;k++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===e[k].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==a.chart.type&&"rangeArea"!==a.chart.type&&"rangeBar"!==e[k].type&&"rangeArea"!==e[k].type||(o.isRangeData=!0,o.isComboCharts?"rangeBar"!==e[k].type&&"rangeArea"!==e[k].type||this.handleRangeData(e,k):"rangeBar"!==a.chart.type&&"rangeArea"!==a.chart.type||this.handleRangeData(e,k)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,k):this.isFormatXY()&&this.handleFormatXY(e,k),"candlestick"!==a.chart.type&&"candlestick"!==e[k].type&&"boxPlot"!==a.chart.type&&"boxPlot"!==e[k].type||this.handleCandleStickBoxData(e,k),o.series.push(this.twoDSeries),o.labels.push(this.twoDSeriesX),o.seriesX.push(this.twoDSeriesX),o.seriesGoals=this.seriesGoals,k!==this.activeSeriesIndex||this.fallbackToCategory||(o.isXNumeric=!0);else{"datetime"===a.xaxis.type?(o.isXNumeric=!0,w(),o.seriesX.push(this.twoDSeriesX)):"numeric"===a.xaxis.type&&(o.isXNumeric=!0,u.length>0&&(this.twoDSeriesX=u,o.seriesX.push(this.twoDSeriesX))),o.labels.push(this.twoDSeriesX);var E=e[k].data.map(function(I){return f.parseNumber(I)});o.series.push(E)}o.seriesZ.push(this.threeDSeries),o.seriesNames.push(void 0!==e[k].name?e[k].name:"series-"+parseInt(k+1,10)),o.seriesColors.push(void 0!==e[k].color?e[k].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,s=this.w.config;t.series=e.slice(),t.seriesNames=s.labels.slice();for(var r=0;r<t.series.length;r++)void 0===t.seriesNames[r]&&t.seriesNames.push("series-"+(r+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,s=this.w.globals;t.xaxis.categories.length>0?s.labels=t.xaxis.categories:t.labels.length>0?s.labels=t.labels.slice():this.fallbackToCategory?(s.labels=s.labels[0],s.seriesRange.length&&(s.seriesRange.map(function(r){r.forEach(function(a){s.labels.indexOf(a.x)<0&&a.x&&s.labels.push(a.x)})}),s.labels=s.labels.filter(function(r,a,o){return o.indexOf(r)===a})),t.xaxis.convertedCatToNumeric&&(new Ve(t).convertCatToNumericXaxis(t,this.ctx,s.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,s=this.w.config,r=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var a=s.series.map(function(w,k){return w.data.filter(function(E,I,P){return P.findIndex(function(B){return B.x===E.x})===I})}),o=a.reduce(function(w,k,E,I){return I[w].length>k.length?w:E},0),l=0;l<a[o].length;l++)r.push(l+1);else for(var u=0;u<t.series[t.maxValsInArrayIndex].length;u++)r.push(u+1);t.seriesX=[];for(var y=0;y<e.length;y++)t.seriesX.push(r);t.isXNumeric=!0}if(0===r.length){r=t.axisCharts?[]:t.series.map(function(w,k){return k+1});for(var b=0;b<e.length;b++)t.seriesX.push(r)}t.labels=r,s.xaxis.convertedCatToNumeric&&(t.categoryLabels=r.map(function(w){return s.xaxis.labels.formatter(w)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,s=t.config,r=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),r.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),"bar"===s.chart.type&&s.chart.stacked){var a=new We(this.ctx);r.series=a.setNullSeriesToZeroValues(r.series)}this.coreUtils.getSeriesTotals(),r.axisCharts&&(r.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),r.dataFormatXNumeric||r.isXNumeric&&("numeric"!==s.xaxis.type||0!==s.labels.length||0!==s.xaxis.categories.length)||this.handleExternalLabelsData(e);for(var o=this.coreUtils.getCategoryLabels(r.labels),l=0;l<o.length;l++)if(Array.isArray(o[l])){r.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this,t=this.w;t.globals.ignoreYAxisIndexes=t.globals.collapsedSeries.map(function(s,r){if(e.w.globals.isMultipleYAxis&&!t.config.chart.stacked)return s.index})}}]),R}(),$e=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"getLabel",value:function(e,t,s,r){var B,U,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=this.w,y=void 0===e[r]?"":e[r],b=y,w=u.globals.xLabelFormatter,k=u.config.xaxis.labels.formatter,E=!1,I=new Ae(this.ctx);l&&(b=I.xLabelFormat(w,y,y,{i:r,dateFormatter:new fe(this.ctx).formatDate,w:u}),void 0!==k&&(b=k(y,e[r],{i:r,dateFormatter:new fe(this.ctx).formatDate,w:u}))),t.length>0?(B=t[r].unit,U=null,t.forEach(function(L){"month"===L.unit?U="year":"day"===L.unit?U="month":"hour"===L.unit?U="day":"minute"===L.unit&&(U="hour")}),E=U===B,s=t[r].position,b=t[r].value):"datetime"===u.config.xaxis.type&&void 0===k&&(b=""),void 0===b&&(b=""),b=Array.isArray(b)?b:b.toString();var p,j=new D(this.ctx);p=u.globals.rotateXLabels&&l?j.getTextRects(b,parseInt(o,10),null,"rotate(".concat(u.config.xaxis.labels.rotate," 0 0)"),!1):j.getTextRects(b,parseInt(o,10));var T=!u.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(b)&&(0===b.indexOf("NaN")||0===b.toLowerCase().indexOf("invalid")||b.toLowerCase().indexOf("infinity")>=0||a.indexOf(b)>=0&&T)&&(b=""),{x:s,text:b,textRect:p,isBold:E}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,s){var r=this.w,a=r.config.xaxis.tickAmount;return"dataPoints"===a&&(a=Math.round(r.globals.gridWidth/120)),a>s||e%Math.round(s/(a+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,s,r,a){var o=this.w;if(0===e&&o.globals.skipFirstTimelinelabel&&(t.text=""),e===s-1&&o.globals.skipLastTimelinelabel&&(t.text=""),o.config.xaxis.labels.hideOverlappingLabels&&r.length>0){var l=a[a.length-1];t.x<l.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+l.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var s=this.w;return s.config.yaxis[e]&&s.config.yaxis[e].reversed&&t.reverse(),t}},{key:"isYAxisHidden",value:function(e){var t=this.w,s=new z(this.ctx);return!t.config.yaxis[e].show||!t.config.yaxis[e].showForNullSeries&&s.isSeriesNull(e)&&-1===t.globals.collapsedSeriesIndices.indexOf(e)}},{key:"getYAxisForeColor",value:function(e,t){var s=this.w;return Array.isArray(e)&&s.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,s.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,s,r,a,o,l){var u=this.w,y=new D(this.ctx),b=u.globals.translateY;if(r.show&&t>0){!0===u.config.yaxis[a].opposite&&(e+=r.width);for(var w=t;w>=0;w--){var k=b+t/10+u.config.yaxis[a].labels.offsetY-1;u.globals.isBarHorizontal&&(k=o*w),"heatmap"===u.config.chart.type&&(k+=o/2);var E=y.drawLine(e+s.offsetX-r.width+r.offsetX,k+r.offsetY,e+s.offsetX+r.offsetX,k+r.offsetY,r.color);l.add(E),b+=o}}}}]),R}(),ot=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"scaleSvgNode",value:function(e,t){var s=parseFloat(e.getAttributeNS(null,"width")),r=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",s*t),e.setAttributeNS(null,"height",r*t),e.setAttributeNS(null,"viewBox","0 0 "+s+" "+r)}},{key:"fixSvgStringForIe11",value:function(e){if(!f.isIE11())return e.replace(/&nbsp;/g,"&#160;");var t=0,s=e.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(r){return 2==++t?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':r});return(s=s.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(e){null==e&&(e=1);var t=this.w.globals.dom.Paper.svg();if(1!==e){var s=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(s,e),t=(new XMLSerializer).serializeToString(s)}return this.fixSvgStringForIe11(t)}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),s=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(r,function(a){a.setAttribute("width",0)}),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),s&&s[0]&&(s[0].setAttribute("y",-100),s[0].setAttribute("y1",-100),s[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var e=this.getSvgString(),t=new Blob([e],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(s){var r=t.w,a=e?e.scale||e.width/r.globals.svgWidth:1;t.cleanup();var o=document.createElement("canvas");o.width=r.globals.svgWidth*a,o.height=parseInt(r.globals.dom.elWrap.style.height,10)*a;var l="transparent"===r.config.chart.background?"#fff":r.config.chart.background,u=o.getContext("2d");u.fillStyle=l,u.fillRect(0,0,o.width*a,o.height*a);var y=t.getSvgString(a);if(window.canvg&&f.isIE11()){var b=window.canvg.Canvg.fromString(u,y,{ignoreClear:!0,ignoreDimensions:!0});b.start();var w=o.msToBlob();b.stop(),s({blob:w})}else{var k="data:image/svg+xml,"+encodeURIComponent(y),E=new Image;E.crossOrigin="anonymous",E.onload=function(){if(u.drawImage(E,0,0),o.msToBlob){var I=o.msToBlob();s({blob:I})}else{var P=o.toDataURL("image/png");s({imgURI:P})}},E.src=k}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var e=this;this.dataURI().then(function(t){var s=t.imgURI,r=t.blob;r?navigator.msSaveOrOpenBlob(r,e.w.globals.chartID+".png"):e.triggerDownload(s,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,s=e.series,r=e.fileName,a=e.columnDelimiter,o=void 0===a?",":a,l=e.lineDelimiter,u=void 0===l?"\n":l,y=this.w;s||(s=y.config.series);var b=[],w=[],k="",E=y.globals.series.map(function(p,T){return-1===y.globals.collapsedSeriesIndices.indexOf(T)?p:[]}),I=Math.max.apply(Math,be(s.map(function(p){return p.data?p.data.length:0}))),P=new pt(this.ctx),B=new $e(this.ctx),U=function(p){var T="";if(y.globals.axisCharts){if("category"===y.config.xaxis.type||y.config.xaxis.convertedCatToNumeric)if(y.globals.isBarHorizontal){var L=y.globals.yLabelFormatters[0],N=new We(t.ctx).getActiveConfigSeriesIndex();T=L(y.globals.labels[p],{seriesIndex:N,dataPointIndex:p,w:y})}else T=B.getLabel(y.globals.labels,y.globals.timescaleLabels,0,p).text;"datetime"===y.config.xaxis.type&&(y.config.xaxis.categories.length?T=y.config.xaxis.categories[p]:y.config.labels.length&&(T=y.config.labels[p]))}else T=y.config.labels[p];return Array.isArray(T)&&(T=T.join(" ")),f.isNumber(T)?T:T.split(o).join("")};b.push(y.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===y.config.chart.type?(b.push("minimum"),b.push("q1"),b.push("median"),b.push("q3"),b.push("maximum")):"candlestick"===y.config.chart.type?(b.push("open"),b.push("high"),b.push("low"),b.push("close")):"rangeBar"===y.config.chart.type?(b.push("minimum"),b.push("maximum")):s.map(function(p,T){var L=p.name?p.name:"series-".concat(T);y.globals.axisCharts&&b.push(L.split(o).join("")?L.split(o).join(""):"series-".concat(T))}),y.globals.axisCharts||(b.push(y.config.chart.toolbar.export.csv.headerValue),w.push(b.join(o))),s.map(function(p,T){y.globals.axisCharts?function(p,T){if(b.length&&0===T&&w.push(b.join(o)),p.data){p.data=p.data.length&&p.data||be(Array(I)).map(function(){return""});for(var L=0;L<p.data.length;L++){b=[];var N=U(L);if(N||(P.isFormatXY()?N=s[T].data[L].x:P.isFormat2DArray()&&(N=s[T].data[L]?s[T].data[L][0]:"")),0===T){b.push("datetime"===y.config.xaxis.type&&String(N).length>=10?y.config.chart.toolbar.export.csv.dateFormatter(N):f.isNumber(N)?N:N.split(o).join(""));for(var q=0;q<y.globals.series.length;q++)P.isFormatXY()?b.push(s[q].data[L].y):b.push(E[q][L])}("candlestick"===y.config.chart.type||p.type&&"candlestick"===p.type)&&(b.pop(),b.push(y.globals.seriesCandleO[T][L]),b.push(y.globals.seriesCandleH[T][L]),b.push(y.globals.seriesCandleL[T][L]),b.push(y.globals.seriesCandleC[T][L])),("boxPlot"===y.config.chart.type||p.type&&"boxPlot"===p.type)&&(b.pop(),b.push(y.globals.seriesCandleO[T][L]),b.push(y.globals.seriesCandleH[T][L]),b.push(y.globals.seriesCandleM[T][L]),b.push(y.globals.seriesCandleL[T][L]),b.push(y.globals.seriesCandleC[T][L])),"rangeBar"===y.config.chart.type&&(b.pop(),b.push(y.globals.seriesRangeStart[T][L]),b.push(y.globals.seriesRangeEnd[T][L])),b.length&&w.push(b.join(o))}}}(p,T):((b=[]).push(y.globals.labels[T].split(o).join("")),b.push(E[T]),w.push(b.join(o)))}),k+=w.join(u),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+k),r||y.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,s){var r=document.createElement("a");r.href=e,r.download=(t||this.w.globals.chartID)+s,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}]),R}(),Rt=function(){function R(e,t){Ce(this,R),this.ctx=e,this.elgrid=t,this.w=e.w;var s=this.w;this.axesUtils=new $e(e),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===s.config.xaxis.position?0:s.globals.gridHeight+1,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===s.config.chart.type&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return Se(R,[{key:"drawXaxis",value:function(){var e=this.w,t=new D(this.ctx),s=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),r=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(r);for(var a=[],o=0;o<this.xaxisLabels.length;o++)a.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,t,r,a,e.globals.isXNumeric,function(I,P){return P}),e.globals.hasXaxisGroups){var l=e.globals.groups;a=[];for(var u=0;u<l.length;u++)a.push(l[u].title);var y={};e.config.xaxis.group.style&&(y.xaxisFontSize=e.config.xaxis.group.style.fontSize,y.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,y.xaxisForeColors=e.config.xaxis.group.style.colors,y.fontWeight=e.config.xaxis.group.style.fontWeight,y.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,r,a,!1,function(I,P){return l[I].cols*P},y)}if(void 0!==e.config.xaxis.title.text){var b=t.group({class:"apexcharts-xaxis-title"}),w=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===e.config.xaxis.position?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});b.add(w),s.add(b)}if(e.config.xaxis.axisBorder.show){var k=e.globals.barPadForNumericAxis,E=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-k,this.offY,this.xaxisBorderWidth+k,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(E):s.add(E)}return s}},{key:"drawXAxisLabelAndGroup",value:function(e,t,s,r,a,o){var l,u=this,y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},b=[],w=[],k=this.w,E=y.xaxisFontSize||this.xaxisFontSize,I=y.xaxisFontFamily||this.xaxisFontFamily,P=y.xaxisForeColors||this.xaxisForeColors,B=y.fontWeight||k.config.xaxis.labels.style.fontWeight,U=y.cssClass||k.config.xaxis.labels.style.cssClass,j=k.globals.padHorizontal,p=r.length,T="category"===k.config.xaxis.type?k.globals.dataPoints:p;0===T&&p>T&&(T=p),j=a?j+o(0,l=k.globals.gridWidth/(T>1?T-1:T))/2+k.config.xaxis.labels.offsetX:j+o(0,l=k.globals.gridWidth/T)+k.config.xaxis.labels.offsetX;for(var N=function(Q){var ne=j-o(Q,l)/2+k.config.xaxis.labels.offsetX;0===Q&&1===p&&l/2===j&&1===T&&(ne=k.globals.gridWidth/2);var ae=u.axesUtils.getLabel(r,k.globals.timescaleLabels,ne,Q,b,E,e),ye=28;if(k.globals.rotateXLabels&&e&&(ye=22),k.config.xaxis.title.text&&"top"===k.config.xaxis.position&&(ye+=parseFloat(k.config.xaxis.title.style.fontSize)+2),e||(ye=ye+parseFloat(E)+(k.globals.xAxisLabelsHeight-k.globals.xAxisGroupLabelsHeight)+(k.globals.rotateXLabels?10:0)),ae=void 0!==k.config.xaxis.tickAmount&&"dataPoints"!==k.config.xaxis.tickAmount&&"datetime"!==k.config.xaxis.type?u.axesUtils.checkLabelBasedOnTickamount(Q,ae,p):u.axesUtils.checkForOverflowingLabels(Q,ae,p,b,w),k.config.xaxis.labels.show){var xe=t.drawText({x:ae.x,y:u.offY+k.config.xaxis.labels.offsetY+ye-("top"===k.config.xaxis.position?k.globals.xAxisHeight+k.config.xaxis.axisTicks.height-2:0),text:ae.text,textAnchor:"middle",fontWeight:ae.isBold?600:B,fontSize:E,fontFamily:I,foreColor:Array.isArray(P)?e&&k.config.xaxis.convertedCatToNumeric?P[k.globals.minX+Q-1]:P[Q]:P,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+U});if(s.add(xe),xe.on("click",function(se){if("function"==typeof k.config.chart.events.xAxisLabelClick){var Me=Object.assign({},k,{labelIndex:Q});k.config.chart.events.xAxisLabelClick(se,u.ctx,Me)}}),e){var we=document.createElementNS(k.globals.SVGNS,"title");we.textContent=Array.isArray(ae.text)?ae.text.join(" "):ae.text,xe.node.appendChild(we),""!==ae.text&&(b.push(ae.text),w.push(ae))}}Q<p-1&&(j+=o(Q+1,l))},q=0;q<=p-1;q++)N(q)}},{key:"drawXaxisInversed",value:function(e){var t,s,r=this,a=this.w,o=new D(this.ctx),l=a.config.yaxis[0].opposite?a.globals.translateYAxisX[e]:0,u=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),y=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+l+", 0)"});u.add(y);var b=[];if(a.config.yaxis[e].show)for(var w=0;w<this.xaxisLabels.length;w++)b.push(this.xaxisLabels[w]);s=-(t=a.globals.gridHeight/b.length)/2.2;var k=a.globals.yLabelFormatters[0],E=a.config.yaxis[0].labels;if(E.show)for(var I=function(L){var N=void 0===b[L]?"":b[L];N=k(N,{seriesIndex:e,dataPointIndex:L,w:a});var q=r.axesUtils.getYAxisForeColor(E.style.colors,e),Q=0;Array.isArray(N)&&(Q=N.length/2*parseInt(E.style.fontSize,10));var ne=E.offsetX-15,ae="end";r.yaxis.opposite&&(ae="start"),"left"===a.config.yaxis[0].labels.align?(ne=E.offsetX,ae="start"):"center"===a.config.yaxis[0].labels.align?(ne=E.offsetX,ae="middle"):"right"===a.config.yaxis[0].labels.align&&(ae="end");var ye=o.drawText({x:ne,y:s+t+E.offsetY-Q,text:N,textAnchor:ae,foreColor:Array.isArray(q)?q[L]:q,fontSize:E.style.fontSize,fontFamily:E.style.fontFamily,fontWeight:E.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+E.style.cssClass,maxWidth:E.maxWidth});y.add(ye),ye.on("click",function(se){if("function"==typeof a.config.chart.events.xAxisLabelClick){var Me=Object.assign({},a,{labelIndex:L});a.config.chart.events.xAxisLabelClick(se,r.ctx,Me)}});var xe=document.createElementNS(a.globals.SVGNS,"title");if(xe.textContent=Array.isArray(N)?N.join(" "):N,ye.node.appendChild(xe),0!==a.config.yaxis[e].labels.rotate){var we=o.rotateAroundCenter(ye.node);ye.node.setAttribute("transform","rotate(".concat(a.config.yaxis[e].labels.rotate," 0 ").concat(we.y,")"))}s+=t},P=0;P<=b.length-1;P++)I(P);if(void 0!==a.config.yaxis[0].title.text){var B=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+l+", 0)"}),U=o.drawText({x:a.config.yaxis[0].title.offsetX,y:a.globals.gridHeight/2+a.config.yaxis[0].title.offsetY,text:a.config.yaxis[0].title.text,textAnchor:"middle",foreColor:a.config.yaxis[0].title.style.color,fontSize:a.config.yaxis[0].title.style.fontSize,fontWeight:a.config.yaxis[0].title.style.fontWeight,fontFamily:a.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+a.config.yaxis[0].title.style.cssClass});B.add(U),u.add(B)}var j=0;this.isCategoryBarHorizontal&&a.config.yaxis[0].opposite&&(j=a.globals.gridWidth);var p=a.config.xaxis.axisBorder;if(p.show){var T=o.drawLine(a.globals.padHorizontal+p.offsetX+j,1+p.offsetY,a.globals.padHorizontal+p.offsetX+j,a.globals.gridHeight+p.offsetY,p.color,0);this.elgrid&&this.elgrid.elGridBorders&&a.config.grid.show?this.elgrid.elGridBorders.add(T):u.add(T)}return a.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(j,b.length,a.config.yaxis[0].axisBorder,a.config.yaxis[0].axisTicks,0,t,u),u}},{key:"drawXaxisTicks",value:function(e,t,s){var r=this.w,a=e;if(!(e<0||e-2>r.globals.gridWidth)){var o=this.offY+r.config.xaxis.axisTicks.offsetY;if(t=t+o+r.config.xaxis.axisTicks.height,"top"===r.config.xaxis.position&&(t=o-r.config.xaxis.axisTicks.height),r.config.xaxis.axisTicks.show){var l=new D(this.ctx).drawLine(e+r.config.xaxis.axisTicks.offsetX,o+r.config.xaxis.offsetY,a+r.config.xaxis.axisTicks.offsetX,t+r.config.xaxis.offsetY,r.config.xaxis.axisTicks.color);s.add(l),l.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],s=this.xaxisLabels.length,r=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var a=0;a<s;a++)t.push(r=this.xaxisLabels[a].position);else for(var o=s,l=0;l<o;l++){var u=o;e.globals.isXNumeric&&"bar"!==e.config.chart.type&&(u-=1),t.push(r+=e.globals.gridWidth/u)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new D(this.ctx),s=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var l=0;l<r.length;l++){var u=t.rotateAroundCenter(r[l]);u.y=u.y-1,u.x=u.x+1,r[l].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(u.x," ").concat(u.y,")")),r[l].setAttribute("text-anchor","end"),s.setAttribute("transform","translate(0, ".concat(-10,")")),e.config.xaxis.labels.trim&&Array.prototype.forEach.call(r[l].childNodes,function(E){t.placeTextWithEllipsis(E,E.textContent,e.globals.xAxisLabelsHeight-("bottom"===e.config.legend.position?20:10))})}else!function(){for(var E=e.globals.gridWidth/(e.globals.labels.length+1),I=0;I<r.length;I++)e.config.xaxis.labels.trim&&"datetime"!==e.config.xaxis.type&&Array.prototype.forEach.call(r[I].childNodes,function(B){t.placeTextWithEllipsis(B,B.textContent,E)})}();if(a.length>0){var b=a[a.length-1].getBBox(),w=a[0].getBBox();b.x<-20&&a[a.length-1].parentNode.removeChild(a[a.length-1]),w.x+w.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&a[0].parentNode.removeChild(a[0]);for(var k=0;k<o.length;k++)t.placeTextWithEllipsis(o[k],o[k].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),R}(),vt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new $e(e),this.isRangeBar=t.globals.seriesRange.length,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return Se(R,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,s=new D(this.ctx);null===e&&(e=s.group({class:"apexcharts-grid"}));var r=s.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),a=s.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(a),e.add(r),e}},{key:"drawGrid",value:function(){var e=null;return this.w.globals.axisCharts&&(e=this.renderGrid(),this.drawGridArea(e.el)),e}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,s=new D(this.ctx),r=Array.isArray(e.config.stroke.width)?0:e.config.stroke.width;if(Array.isArray(e.config.stroke.width)){var a=0;e.config.stroke.width.forEach(function(w){a=Math.max(a,w)}),r=a}t.dom.elGridRectMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elForecastMask.setAttribute("id","forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(t.cuid));var o=e.config.chart.type,l=0,u=0;("bar"===o||"rangeBar"===o||"candlestick"===o||"boxPlot"===o||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(u=e.config.grid.padding.right,t.barPadForNumericAxis>(l=e.config.grid.padding.left)&&(l=t.barPadForNumericAxis,u=t.barPadForNumericAxis)),t.dom.elGridRect=s.drawRect(-r/2-l-2,-r/2,t.gridWidth+r+u+l+4,t.gridHeight+r,0,"#fff");var y=e.globals.markers.largestSize+1;t.dom.elGridRectMarker=s.drawRect(2*-y,2*-y,t.gridWidth+4*y,t.gridHeight+4*y,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var b=t.dom.baseEl.querySelector("defs");b.appendChild(t.dom.elGridRectMask),b.appendChild(t.dom.elForecastMask),b.appendChild(t.dom.elNonForecastMask),b.appendChild(t.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,s=e.x1,l=e.xCount,y=this.w;if(!(0===t&&y.globals.skipFirstTimelinelabel||t===l-1&&y.globals.skipLastTimelinelabel&&!y.config.xaxis.labels.formatter||"radar"===y.config.chart.type)){y.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:s,y1:e.y1,x2:e.x2,y2:e.y2,xCount:l,parent:e.parent});var b=0;if(y.globals.hasXaxisGroups&&"between"===y.config.xaxis.tickPlacement){var w=y.globals.groups;if(w){for(var k=0,E=0;k<t&&E<w.length;E++)k+=w[E].cols;k===t&&(b=.6*y.globals.xAxisLabelsHeight)}}new Rt(this.ctx).drawXaxisTicks(s,b,y.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,s=e.x1,r=e.y1,a=e.x2,o=e.y2,l=e.xCount,u=e.parent,y=this.w,b=!1,w=u.node.classList.contains("apexcharts-gridlines-horizontal"),k=y.config.grid.strokeDashArray,E=y.globals.barPadForNumericAxis;(0===r&&0===o||0===s&&0===a)&&(b=!0),r===y.globals.gridHeight&&o===y.globals.gridHeight&&(b=!0),!y.globals.isBarHorizontal||0!==t&&t!==l-1||(b=!0);var I=new D(this).drawLine(s-(w?E:0),r,a+(w?E:0),o,y.config.grid.borderColor,k);I.node.classList.add("apexcharts-gridline"),b&&y.config.grid.show?this.elGridBorders.add(I):u.add(I)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,s=e.x1,r=e.y1,a=e.x2,o=e.y2,l=e.type,u=this.w,y=new D(this.ctx),b=u.globals.barPadForNumericAxis;if("column"!==l||"datetime"!==u.config.xaxis.type){var k=y.drawRect(s-("row"===l?b:0),r,a+("row"===l?2*b:0),o,0,u.config.grid[l].colors[t],u.config.grid[l].opacity);this.elg.add(k),k.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),k.node.classList.add("apexcharts-grid-".concat(l))}}},{key:"_drawXYLines",value:function(e){var t=this,s=e.xCount,r=e.tickAmount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show){var o,l=a.globals.padHorizontal,u=a.globals.gridHeight;a.globals.timescaleLabels.length?function(I){for(var P=I.xC,U=I.y1,p=I.y2,T=0;T<P;T++)t._drawGridLines({i:T,x1:t.xaxisLabels[T].position,y1:U,x2:t.xaxisLabels[T].position,y2:p,xCount:s,parent:t.elgridLinesV})}({xC:s,x1:l,y1:0,x2:o,y2:u}):(a.globals.isXNumeric&&(s=a.globals.xAxisScale.result.length),function(I){for(var P=I.xC,B=I.x1,U=I.y1,j=I.x2,p=I.y2,T=0;T<P+(a.globals.isXNumeric?0:1);T++)0===T&&1===P&&1===a.globals.dataPoints&&(j=B=a.globals.gridWidth/2),t._drawGridLines({i:T,x1:B,y1:U,x2:j,y2:p,xCount:s,parent:t.elgridLinesV}),j=B+=a.globals.gridWidth/(a.globals.isXNumeric?P-1:P)}({xC:s,x1:l,y1:0,x2:o,y2:u}))}if(a.config.grid.yaxis.lines.show){var y=0,b=0,w=a.globals.gridWidth,k=r+1;this.isRangeBar&&(k=a.globals.labels.length);for(var E=0;E<k+(this.isRangeBar?1:0);E++)this._drawGridLine({i:E,xCount:k+(this.isRangeBar?1:0),x1:0,y1:y,x2:w,y2:b,parent:this.elgridLinesH}),b=y+=a.globals.gridHeight/(this.isRangeBar?k:r)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show)for(var r,a=s.globals.padHorizontal,o=s.globals.gridHeight,l=0;l<t+1;l++)s.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,xCount:t+1,x1:a,y1:0,x2:r,y2:o,parent:this.elgridLinesV}),new Rt(this.ctx).drawXaxisTicks(a,0,s.globals.dom.elGraphical),r=a=a+s.globals.gridWidth/t+.3;if(s.config.grid.yaxis.lines.show)for(var u=0,y=0,b=s.globals.gridWidth,w=0;w<s.globals.dataPoints+1;w++)this._drawGridLine({i:w,xCount:s.globals.dataPoints+1,x1:0,y1:u,x2:b,y2:y,parent:this.elgridLinesH}),y=u+=s.globals.gridHeight/s.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=new D(this.ctx);this.elg=t.group({class:"apexcharts-grid"}),this.elgridLinesH=t.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=t.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=t.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var s,r=e.globals.yAxisScale.length?e.globals.yAxisScale[0].result.length-1:5,a=0;a<e.globals.series.length&&(void 0!==e.globals.yAxisScale[a]&&(r=e.globals.yAxisScale[a].result.length-1),!(r>2));a++);return!e.globals.isBarHorizontal||this.isRangeBar?(s=this.xaxisLabels.length,this.isRangeBar&&(s--,r=e.globals.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(s=e.config.xaxis.tickAmount)),this._drawXYLines({xCount:s,tickAmount:r})):this._drawInvertedXYLines({xCount:s=r,tickAmount:r=e.globals.xTickAmount}),this.drawGridBands(s,r),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:e.globals.gridWidth/s}}},{key:"drawGridBands",value:function(e,t){var s=this.w;if(void 0!==s.config.grid.row.colors&&s.config.grid.row.colors.length>0)for(var r=0,a=s.globals.gridHeight/t,o=s.globals.gridWidth,l=0,u=0;l<t;l++,u++)u>=s.config.grid.row.colors.length&&(u=0),this._drawGridBandRect({c:u,x1:0,y1:r,x2:o,y2:a,type:"row"}),r+=s.globals.gridHeight/t;if(void 0!==s.config.grid.column.colors&&s.config.grid.column.colors.length>0)for(var y=s.globals.isBarHorizontal||"category"!==s.config.xaxis.type&&!s.config.xaxis.convertedCatToNumeric?e:e-1,b=s.globals.padHorizontal,w=s.globals.padHorizontal+s.globals.gridWidth/y,k=s.globals.gridHeight,E=0,I=0;E<e;E++,I++)I>=s.config.grid.column.colors.length&&(I=0),this._drawGridBandRect({c:I,x1:b,y1:0,x2:w,y2:k,type:"column"}),b+=s.globals.gridWidth/y}}]),R}(),Tt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"niceScale",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=this.w,l=Math.abs(t-e);if("dataPoints"===(s=this._adjustTicksForSmallRange(s,r,l))&&(s=o.globals.dataPoints-1),e===Number.MIN_VALUE&&0===t||!f.isNumber(e)&&!f.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)return this.linearScale(e=0,t=s,s);e>t?(console.warn("axis.min cannot be greater than axis.max"),t=e+.1):e===t&&(e=0===e?0:e-.5,t=0===t?2:t+.5);var u=[];l<1&&a&&("candlestick"===o.config.chart.type||"candlestick"===o.config.series[r].type||"boxPlot"===o.config.chart.type||"boxPlot"===o.config.series[r].type||o.globals.isRangeData)&&(t*=1.01);var y=s+1;y<2?y=2:y>2&&(y-=2);var b=l/y,w=Math.floor(f.log10(b)),k=Math.pow(10,w),E=Math.round(b/k);E<1&&(E=1);var I=E*k,P=I*Math.floor(e/I),B=I*Math.ceil(t/I),U=P;if(a&&l>2){for(;u.push(U),!((U+=I)>B););return{result:u,niceMin:u[0],niceMax:u[u.length-1]}}var j=e;(u=[]).push(j);for(var p=Math.abs(t-e)/s,T=0;T<=s;T++)u.push(j+=p);return u[u.length-2]>=t&&u.pop(),{result:u,niceMin:u[0],niceMax:u[u.length-1]}}},{key:"linearScale",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3?arguments[3]:void 0,a=Math.abs(t-e);"dataPoints"===(s=this._adjustTicksForSmallRange(s,r,a))&&(s=this.w.globals.dataPoints-1);var o=a/s;s===Number.MAX_VALUE&&(s=10,o=1);for(var l=[],u=e;s>=0;)l.push(u),u+=o,s-=1;return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var r=[],a=Math.ceil(Math.log(t)/Math.log(s)+1),o=Math.floor(Math.log(e)/Math.log(s));o<a;o++)r.push(Math.pow(s,o));return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScale",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var r=[],a=Math.log(t)/Math.log(s),o=Math.log(e)/Math.log(s),l=a-o,u=Math.round(l),y=l/u,b=0,w=o;b<u;b++,w+=y)r.push(Math.pow(s,w));return r.push(Math.pow(s,a)),{result:r,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,s){var r=e;if(void 0!==t&&this.w.config.yaxis[t].labels.formatter&&void 0===this.w.config.yaxis[t].tickAmount){var a=Number(this.w.config.yaxis[t].labels.formatter(1));f.isNumber(a)&&0===this.w.globals.yValueDecimal&&(r=Math.ceil(s))}return r<e?r:e}},{key:"setYScaleForIndex",value:function(e,t,s){var r=this.w.globals,a=this.w.config,o=r.isBarHorizontal?a.xaxis:a.yaxis[e];void 0===r.yAxisScale[e]&&(r.yAxisScale[e]=[]);var l=Math.abs(s-t);o.logarithmic&&l<=5&&(r.invalidLogScale=!0),o.logarithmic&&l>5?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=this.logarithmicScale(t,s,o.logBase),r.yAxisScale[e]=o.forceNiceScale?this.logarithmicScaleNice(t,s,o.logBase):this.logarithmicScale(t,s,o.logBase)):s!==-Number.MAX_VALUE&&f.isNumber(s)?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=void 0===o.min&&void 0===o.max||o.forceNiceScale?this.niceScale(t,s,o.tickAmount?o.tickAmount:l<5&&l>1?l+1:5,e,void 0===a.yaxis[e].max&&void 0===a.yaxis[e].min||a.yaxis[e].forceNiceScale):this.linearScale(t,s,o.tickAmount,e)):r.yAxisScale[e]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(e,t){var s=this.w,r=s.globals,a=s.config.xaxis,o=Math.abs(t-e);return r.xAxisScale=t!==-Number.MAX_VALUE&&f.isNumber(t)?this.linearScale(e,t,a.tickAmount?a.tickAmount:o<5&&o>1?o+1:5,0):this.linearScale(0,5,5),r.xAxisScale}},{key:"setMultipleYScales",value:function(){var e=this,t=this.w.globals,s=this.w.config,r=t.minYArr.concat([]),a=t.maxYArr.concat([]),o=[];s.yaxis.forEach(function(l,u){var y=u;s.series.forEach(function(k,E){k.name===l.seriesName&&(y=E,o.push(u!==E?{index:E,similarIndex:u,alreadyExists:!0}:{index:E}))}),e.setYScaleForIndex(u,r[y],a[y])}),this.sameScaleInMultipleAxes(r,a,o)}},{key:"sameScaleInMultipleAxes",value:function(e,t,s){var r=this,a=this.w.config,o=this.w.globals,l=[];s.forEach(function(P){P.alreadyExists&&(void 0===l[P.index]&&(l[P.index]=[]),l[P.index].push(P.index),l[P.index].push(P.similarIndex))}),o.yAxisSameScaleIndices=l,l.forEach(function(P,B){l.forEach(function(U,j){var p,T;B!==j&&(p=P,T=U,p.filter(function(L){return-1!==T.indexOf(L)})).length>0&&(l[B]=l[B].concat(l[j]))})});var u=l.map(function(P){return P.filter(function(B,U){return P.indexOf(B)===U})}).map(function(P){return P.sort()});l=l.filter(function(P){return!!P});var y=u.slice(),b=y.map(function(P){return JSON.stringify(P)});y=y.filter(function(P,B){return b.indexOf(JSON.stringify(P))===B});var w=[],k=[];e.forEach(function(P,B){y.forEach(function(U,j){U.indexOf(B)>-1&&(void 0===w[j]&&(w[j]=[],k[j]=[]),w[j].push({key:B,value:P}),k[j].push({key:B,value:t[B]}))})});var E=Array.apply(null,Array(y.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),I=Array.apply(null,Array(y.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);w.forEach(function(P,B){P.forEach(function(U,j){E[B]=Math.min(U.value,E[B])})}),k.forEach(function(P,B){P.forEach(function(U,j){I[B]=Math.max(U.value,I[B])})}),e.forEach(function(P,B){k.forEach(function(U,j){var p=E[j],T=I[j];a.chart.stacked&&(T=0,U.forEach(function(L,N){L.value!==-Number.MAX_VALUE&&(T+=L.value),p!==Number.MIN_VALUE&&(p+=w[j][N].value)})),U.forEach(function(L,N){U[N].key===B&&(void 0!==a.yaxis[B].min&&(p="function"==typeof a.yaxis[B].min?a.yaxis[B].min(o.minY):a.yaxis[B].min),void 0!==a.yaxis[B].max&&(T="function"==typeof a.yaxis[B].max?a.yaxis[B].max(o.maxY):a.yaxis[B].max),r.setYScaleForIndex(B,p,T))})})})}},{key:"autoScaleY",value:function(e,t,s){e||(e=this);var r=e.w;if(r.globals.isMultipleYAxis||r.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),t;var a=r.globals.seriesX[0],o=r.config.chart.stacked;return t.forEach(function(l,u){for(var y=0,b=0;b<a.length;b++)if(a[b]>=s.xaxis.min){y=b;break}var w,k,E=r.globals.minYArr[u],I=r.globals.maxYArr[u],P=r.globals.stackedSeriesTotals;r.globals.series.forEach(function(B,U){var j=B[y];o?(w=k=j=P[y],P.forEach(function(p,T){a[T]<=s.xaxis.max&&a[T]>=s.xaxis.min&&(p>k&&null!==p&&(k=p),B[T]<w&&null!==B[T]&&(w=B[T]))})):(w=k=j,B.forEach(function(p,T){if(a[T]<=s.xaxis.max&&a[T]>=s.xaxis.min){var L=p,N=p;r.globals.series.forEach(function(q,Q){null!==p&&(L=Math.min(q[T],L),N=Math.max(q[T],N))}),N>k&&null!==N&&(k=N),L<w&&null!==L&&(w=L)}})),void 0===w&&void 0===k&&(w=E,k=I),k*=k<0?.9:1.1,0==(w*=w<0?1.1:.9)&&0===k&&(w=-1,k=1),k<0&&k<I&&(k=I),w<0&&w>E&&(w=E),t.length>1?(t[U].min=void 0===l.min?w:l.min,t[U].max=void 0===l.max?k:l.max):(t[0].min=void 0===l.min?w:l.min,t[0].max=void 0===l.max?k:l.max)})}),t}}]),R}(),Dt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.scales=new Tt(e)}return Se(R,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w.config,o=this.w.globals,l=-Number.MAX_VALUE,u=Number.MIN_VALUE;null===r&&(r=e+1);var y=o.series,b=y,w=y;"candlestick"===a.chart.type?(b=o.seriesCandleL,w=o.seriesCandleH):"boxPlot"===a.chart.type?(b=o.seriesCandleO,w=o.seriesCandleC):o.isRangeData&&(b=o.seriesRangeStart,w=o.seriesRangeEnd);for(var k=e;k<r;k++){o.dataPoints=Math.max(o.dataPoints,y[k].length),o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter(function(P){return void 0!==P}).length);for(var E=0;E<o.series[k].length;E++){var I=y[k][E];null!==I&&f.isNumber(I)?(void 0!==w[k][E]&&(l=Math.max(l,w[k][E]),t=Math.min(t,w[k][E])),void 0!==b[k][E]&&(t=Math.min(t,b[k][E]),s=Math.max(s,b[k][E])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==o.seriesCandleC[k][E]&&(l=Math.max(l,o.seriesCandleO[k][E]),l=Math.max(l,o.seriesCandleH[k][E]),l=Math.max(l,o.seriesCandleL[k][E]),l=Math.max(l,o.seriesCandleC[k][E]),"boxPlot"===this.w.config.chart.type&&(l=Math.max(l,o.seriesCandleM[k][E]))),!a.series[k].type||"candlestick"===a.series[k].type&&"boxPlot"===a.series[k].type&&"rangeArea"===a.series[k].type&&"rangeBar"===a.series[k].type||(l=Math.max(l,o.series[k][E]),t=Math.min(t,o.series[k][E])),s=l),o.seriesGoals[k]&&o.seriesGoals[k][E]&&Array.isArray(o.seriesGoals[k][E])&&o.seriesGoals[k][E].forEach(function(P){u!==Number.MIN_VALUE&&(u=Math.min(u,P.value),t=u),l=Math.max(l,P.value),s=l}),f.isFloat(I)&&(I=f.noExponents(I),o.yValueDecimal=Math.max(o.yValueDecimal,I.toString().split(".")[1].length)),u>b[k][E]&&b[k][E]<0&&(u=b[k][E])):o.hasNullValues=!0}}return"rangeBar"===a.chart.type&&o.seriesRangeStart.length&&o.isBarHorizontal&&(u=t),"bar"===a.chart.type&&(u<0&&l<0&&(l=0),u===Number.MIN_VALUE&&(u=0)),{minY:u,maxY:l,lowestY:t,highestY:s}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var s=Number.MAX_VALUE;if(e.isMultipleYAxis)for(var r=0;r<e.series.length;r++){var a=this.getMinYMaxY(r,s,null,r+1);e.minYArr.push(a.minY),e.maxYArr.push(a.maxY),s=a.lowestY}var o=this.getMinYMaxY(0,s,null,e.series.length);if(e.minY=o.minY,e.maxY=o.maxY,s=o.lowestY,t.chart.stacked&&this._setStackedMinMax(),("line"===t.chart.type||"area"===t.chart.type||"candlestick"===t.chart.type||"boxPlot"===t.chart.type||"rangeBar"===t.chart.type&&!e.isBarHorizontal)&&e.minY===Number.MIN_VALUE&&s!==-Number.MAX_VALUE&&s!==e.maxY){var l=e.maxY-s;(s>=0&&s<=10||void 0!==t.yaxis[0].min||void 0!==t.yaxis[0].max)&&(l=0),e.minY=s-5*l/100,s>0&&e.minY<0&&(e.minY=0),e.maxY=e.maxY+5*l/100}return t.yaxis.forEach(function(u,y){void 0!==u.max&&("number"==typeof u.max?e.maxYArr[y]=u.max:"function"==typeof u.max&&(e.maxYArr[y]=u.max(e.isMultipleYAxis?e.maxYArr[y]:e.maxY)),e.maxY=e.maxYArr[y]),void 0!==u.min&&("number"==typeof u.min?e.minYArr[y]=u.min:"function"==typeof u.min&&(e.minYArr[y]=u.min(e.isMultipleYAxis?e.minYArr[y]===Number.MIN_VALUE?0:e.minYArr[y]:e.minY)),e.minY=e.minYArr[y])}),e.isBarHorizontal&&["min","max"].forEach(function(u){void 0!==t.xaxis[u]&&"number"==typeof t.xaxis[u]&&("min"===u?e.minY=t.xaxis[u]:e.maxY=t.xaxis[u])}),e.isMultipleYAxis?(this.scales.setMultipleYScales(),e.minY=s,e.yAxisScale.forEach(function(u,y){e.minYArr[y]=u.niceMin,e.maxYArr[y]=u.niceMax})):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.yAxisScale[0].niceMin,e.maxYArr[0]=e.yAxisScale[0].niceMax),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,s="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var l=0;l<e.series.length;l++)if(e.labels[l])for(var u=0;u<e.labels[l].length;u++)null!==e.labels[l][u]&&f.isNumber(e.labels[l][u])&&(e.maxX=Math.max(e.maxX,e.labels[l][u]),e.initialMaxX=Math.max(e.maxX,e.labels[l][u]),e.minX=Math.min(e.minX,e.labels[l][u]),e.initialMinX=Math.min(e.minX,e.labels[l][u]))}(),e.noLabelsProvided&&0===t.xaxis.categories.length&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var r;if(void 0===t.xaxis.tickAmount?(r=Math.round(e.svgWidth/150),"numeric"===t.xaxis.type&&e.dataPoints<30&&(r=e.dataPoints-1),r>e.dataPoints&&0!==e.dataPoints&&(r=e.dataPoints-1)):"dataPoints"===t.xaxis.tickAmount?(e.series.length>1&&(r=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric&&(r=e.maxX-e.minX-1)):r=t.xaxis.tickAmount,e.xTickAmount=r,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(e.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(e.minX=t.xaxis.min),void 0!==t.xaxis.range&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var a=[],o=e.minX-1;o<e.maxX;o++)a.push(o+1);e.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(1,r,r),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,r-1),e.seriesX=e.labels.slice());s&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ)for(var t=0;t<e.series.length;t++)if(void 0!==e.seriesZ[t])for(var s=0;s<e.seriesZ[t].length;s++)null!==e.seriesZ[t][s]&&f.isNumber(e.seriesZ[t][s])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][s]),e.minZ=Math.min(e.minZ,e.seriesZ[t][s]))}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var s=new fe(this.ctx);if("datetime"===t.xaxis.type){var r=s.getDate(e.minX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()-2):r.setDate(r.getDate()-2),e.minX=new Date(r).getTime();var a=s.getDate(e.maxX);t.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()+2):a.setDate(a.getDate()+2),e.maxX=new Date(a).getTime()}else("numeric"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,s){1===t.length&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var r=t.slice();r.sort(function(a,o){return a-o}),r.forEach(function(a,o){if(o>0){var l=a-r[o-1];l>0&&(e.minXDiff=Math.min(l,e.minXDiff))}}),1!==e.dataPoints&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var s=t.seriesGroups;s.length||(s=[this.w.config.series.map(function(o){return o.name})]);var r={},a={};s.forEach(function(o){r[o]=[],a[o]=[],e.w.config.series.map(function(l,u){return o.indexOf(l.name)>-1?u:null}).filter(function(l){return null!==l}).forEach(function(l){for(var u=0;u<t.series[t.maxValsInArrayIndex].length;u++)void 0===r[o][u]&&(r[o][u]=0,a[o][u]=0),null!==t.series[l][u]&&f.isNumber(t.series[l][u])&&(t.series[l][u]>0?r[o][u]+=parseFloat(t.series[l][u])+1e-4:a[o][u]+=parseFloat(t.series[l][u]))})}),Object.entries(r).forEach(function(o){var l=Re(o,1)[0];r[l].forEach(function(u,y){t.maxY=Math.max(t.maxY,r[l][y]),t.minY=Math.min(t.minY,a[l][y])})})}}}]),R}(),ct=function(){function R(e,t){Ce(this,R),this.ctx=e,this.elgrid=t,this.w=e.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===s.config.chart.type&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===s.config.xaxis.position&&(this.xAxisoffX=s.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new $e(e)}return Se(R,[{key:"drawYaxis",value:function(e){var t=this,s=this.w,r=new D(this.ctx),a=s.config.yaxis[e].labels.style,o=a.fontSize,l=a.fontFamily,u=a.fontWeight,y=r.group({class:"apexcharts-yaxis",rel:e,transform:"translate("+s.globals.translateYAxisX[e]+", 0)"});if(this.axesUtils.isYAxisHidden(e))return y;var b=r.group({class:"apexcharts-yaxis-texts-g"});y.add(b);var w=s.globals.yAxisScale[e].result.length-1,k=s.globals.gridHeight/w,E=s.globals.translateY,I=s.globals.yLabelFormatters[e],P=s.globals.yAxisScale[e].result.slice();P=this.axesUtils.checkForReversedLabels(e,P);var B="";if(s.config.yaxis[e].labels.show)for(var U=function(ne){var ae=P[ne];ae=I(ae,ne,s);var ye=s.config.yaxis[e].labels.padding;s.config.yaxis[e].opposite&&0!==s.config.yaxis.length&&(ye*=-1);var xe="end";s.config.yaxis[e].opposite&&(xe="start"),"left"===s.config.yaxis[e].labels.align?xe="start":"center"===s.config.yaxis[e].labels.align?xe="middle":"right"===s.config.yaxis[e].labels.align&&(xe="end");var we=t.axesUtils.getYAxisForeColor(a.colors,e),se=r.drawText({x:ye,y:E+w/10+s.config.yaxis[e].labels.offsetY+1,text:ae,textAnchor:xe,fontSize:o,fontFamily:l,fontWeight:u,maxWidth:s.config.yaxis[e].labels.maxWidth,foreColor:Array.isArray(we)?we[ne]:we,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+a.cssClass});ne===w&&(B=se),b.add(se);var Me=document.createElementNS(s.globals.SVGNS,"title");if(Me.textContent=Array.isArray(ae)?ae.join(" "):ae,se.node.appendChild(Me),0!==s.config.yaxis[e].labels.rotate){var Oe=r.rotateAroundCenter(B.node),Ue=r.rotateAroundCenter(se.node);se.node.setAttribute("transform","rotate(".concat(s.config.yaxis[e].labels.rotate," ").concat(Oe.x," ").concat(Ue.y,")"))}E+=k},j=w;j>=0;j--)U(j);if(void 0!==s.config.yaxis[e].title.text){var p=r.group({class:"apexcharts-yaxis-title"}),T=0;s.config.yaxis[e].opposite&&(T=s.globals.translateYAxisX[e]);var L=r.drawText({x:T,y:s.globals.gridHeight/2+s.globals.translateY+s.config.yaxis[e].title.offsetY,text:s.config.yaxis[e].title.text,textAnchor:"end",foreColor:s.config.yaxis[e].title.style.color,fontSize:s.config.yaxis[e].title.style.fontSize,fontWeight:s.config.yaxis[e].title.style.fontWeight,fontFamily:s.config.yaxis[e].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+s.config.yaxis[e].title.style.cssClass});p.add(L),y.add(p)}var N=s.config.yaxis[e].axisBorder,q=31+N.offsetX;if(s.config.yaxis[e].opposite&&(q=-31-N.offsetX),N.show){var Q=r.drawLine(q,s.globals.translateY+N.offsetY-2,q,s.globals.gridHeight+s.globals.translateY+N.offsetY+2,N.color,0,N.width);y.add(Q)}return s.config.yaxis[e].axisTicks.show&&this.axesUtils.drawYAxisTicks(q,w,N,s.config.yaxis[e].axisTicks,e,k,y),y}},{key:"drawYaxisInversed",value:function(e){var t=this.w,s=new D(this.ctx),r=s.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),a=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});r.add(a);var o=t.globals.yAxisScale[e].result.length-1,l=t.globals.gridWidth/o+.1,u=l+t.config.xaxis.labels.offsetX,y=t.globals.xLabelFormatter,b=t.globals.yAxisScale[e].result.slice(),w=t.globals.timescaleLabels;w.length>0&&(this.xaxisLabels=w.slice(),o=(b=w.slice()).length),b=this.axesUtils.checkForReversedLabels(e,b);var k=w.length;if(t.config.xaxis.labels.show)for(var E=k?0:o;k?E<k:E>=0;k?E++:E--){var I=b[E];I=y(I,E,t);var P=t.globals.gridWidth+t.globals.padHorizontal-(u-l+t.config.xaxis.labels.offsetX);if(w.length){var B=this.axesUtils.getLabel(b,w,P,E,this.drawnLabels,this.xaxisFontSize);P=B.x,I=B.text,this.drawnLabels.push(B.text),0===E&&t.globals.skipFirstTimelinelabel&&(I=""),E===b.length-1&&t.globals.skipLastTimelinelabel&&(I="")}var U=s.drawText({x:P,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-("top"===t.config.xaxis.position?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:I,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+t.config.xaxis.labels.style.cssClass});a.add(U),U.tspan(I);var j=document.createElementNS(t.globals.SVGNS,"title");j.textContent=I,U.node.appendChild(j),u+=l}return this.inversedYAxisTitleText(r),this.inversedYAxisBorder(r),r}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,s=new D(this.ctx),r=t.config.xaxis.axisBorder;if(r.show){var a=0;"bar"===t.config.chart.type&&t.globals.isXNumeric&&(a-=15);var o=s.drawLine(t.globals.padHorizontal+a+r.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,r.color,0,r.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(o):e.add(o)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,s=new D(this.ctx);if(void 0!==t.config.xaxis.title.text){var r=s.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),a=s.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});r.add(a),e.add(r)}}},{key:"yAxisTitleRotate",value:function(e,t){var s=this.w,r=new D(this.ctx),a={width:0,height:0},o={width:0,height:0},l=s.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g"));null!==l&&(a=l.getBoundingClientRect());var u=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text"));if(null!==u&&(o=u.getBoundingClientRect()),null!==u){var y=this.xPaddingForYAxisTitle(e,a,o,t);u.setAttribute("x",y.xPos-(t?10:0))}if(null!==u){var b=r.rotateAroundCenter(u);u.setAttribute("transform","rotate(".concat(t?-1*s.config.yaxis[e].title.rotate:s.config.yaxis[e].title.rotate," ").concat(b.x," ").concat(b.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,s,r){var a=this.w,o=0,l=0,u=10;return void 0===a.config.yaxis[e].title.text||e<0?{xPos:l,padd:0}:(r?(l=t.width+a.config.yaxis[e].title.offsetX+s.width/2+u/2,0===(o+=1)&&(l-=u/2)):(l=-1*t.width+a.config.yaxis[e].title.offsetX+u/2+s.width/2,a.globals.isBarHorizontal&&(l=-1*t.width-a.config.yaxis[e].title.offsetX-(u=25))),{xPos:l,padd:u})}},{key:"setYAxisXPosition",value:function(e,t){var s=this.w,r=0,a=0,o=18,l=1;s.config.yaxis.length>1&&(this.multipleYs=!0),s.config.yaxis.map(function(u,y){var b=s.globals.ignoreYAxisIndexes.indexOf(y)>-1||!u.show||u.floating||0===e[y].width,w=e[y].width+t[y].width;u.opposite?s.globals.isBarHorizontal?s.globals.translateYAxisX[y]=(a=s.globals.gridWidth+s.globals.translateX-1)-u.labels.offsetX:(a=s.globals.gridWidth+s.globals.translateX+l,b||(l=l+w+20),s.globals.translateYAxisX[y]=a-u.labels.offsetX+20):(r=s.globals.translateX-o,b||(o=o+w+20),s.globals.translateYAxisX[y]=r+u.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(t=f.listToArray(t)).forEach(function(s,r){var a=e.config.yaxis[r];if(a&&!a.floating&&void 0!==a.labels.align){var o=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-texts-g")),l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-label"));l=f.listToArray(l);var u=o.getBoundingClientRect();"left"===a.labels.align?(l.forEach(function(y,b){y.setAttribute("text-anchor","start")}),a.opposite||o.setAttribute("transform","translate(-".concat(u.width,", 0)"))):"center"===a.labels.align?(l.forEach(function(y,b){y.setAttribute("text-anchor","middle")}),o.setAttribute("transform","translate(".concat(u.width/2*(a.opposite?1:-1),", 0)"))):"right"===a.labels.align&&(l.forEach(function(y,b){y.setAttribute("text-anchor","end")}),a.opposite&&o.setAttribute("transform","translate(".concat(u.width,", 0)")))}})}}]),R}(),Zt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.documentEvent=f.bind(this.documentEvent,this)}return Se(R,[{key:"addEventListener",value:function(e,t){var s=this.w;s.globals.events.hasOwnProperty(e)?s.globals.events[e].push(t):s.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){var r=s.globals.events[e].indexOf(t);-1!==r&&s.globals.events[e].splice(r,1)}}},{key:"fireEvent",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var r=s.globals.events[e],a=r.length,o=0;o<a;o++)r[o].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,s=this.ctx,r=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(a){r.addEventListener(a,function(o){var l=Object.assign({},t,{seriesIndex:t.globals.capturedSeriesIndex,dataPointIndex:t.globals.capturedDataPointIndex});"mousemove"===o.type||"touchmove"===o.type?"function"==typeof t.config.chart.events.mouseMove&&t.config.chart.events.mouseMove(o,s,l):"mouseleave"===o.type||"touchleave"===o.type?"function"==typeof t.config.chart.events.mouseLeave&&t.config.chart.events.mouseLeave(o,s,l):("mouseup"===o.type&&1===o.which||"touchend"===o.type)&&("function"==typeof t.config.chart.events.click&&t.config.chart.events.click(o,s,l),s.ctx.events.fireEvent("click",[o,s,l]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(a){t.globals.dom.baseEl.addEventListener(a,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,s=e.target.className;if("click"===e.type){var r=t.globals.dom.baseEl.querySelector(".apexcharts-menu");r&&r.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==s&&r.classList.remove("apexcharts-menu-open")}t.globals.clientX="touchmove"===e.type?e.touches[0].clientX:e.clientX,t.globals.clientY="touchmove"===e.type?e.touches[0].clientY:e.clientY}}]),R}(),Yt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var s=t.filter(function(a){return a.name===e})[0];if(!s)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var r=f.extend(K,s);this.w.globals.locale=r.options}}]),R}(),$t=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"drawAxis",value:function(e,t){var s,r,a=this,o=this.w.globals,l=this.w.config,u=new Rt(this.ctx,t),y=new ct(this.ctx,t);o.axisCharts&&"radar"!==e&&(o.isBarHorizontal?(r=y.drawYaxisInversed(0),s=u.drawXaxisInversed(0),o.dom.elGraphical.add(s),o.dom.elGraphical.add(r)):(s=u.drawXaxis(),o.dom.elGraphical.add(s),l.yaxis.map(function(b,w){if(-1===o.ignoreYAxisIndexes.indexOf(w)&&(r=y.drawYaxis(w),o.dom.Paper.add(r),"back"===a.w.config.grid.position)){var k=o.dom.Paper.children()[1];k.remove(),o.dom.Paper.add(k)}})))}}]),R}(),jt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new D(this.ctx),s=new Y(this.ctx),r=e.config.xaxis.crosshairs.fill.gradient,a=e.config.xaxis.crosshairs.dropShadow,k=a.enabled,E=a.left,I=a.top,P=a.blur,B=a.color,U=a.opacity,j=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){"gradient"===e.config.xaxis.crosshairs.fill.type&&(j=t.drawGradient("vertical",r.colorFrom,r.colorTo,r.opacityFrom,r.opacityTo,null,r.stops,null));var p=t.drawRect();1===e.config.xaxis.crosshairs.width&&(p=t.drawLine());var T=e.globals.gridHeight;(!f.isNumber(T)||T<0)&&(T=0);var L=e.config.xaxis.crosshairs.width;(!f.isNumber(L)||L<0)&&(L=0),p.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:T,width:L,height:T,fill:j,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),k&&(p=s.dropShadow(p,{left:E,top:I,blur:P,color:B,opacity:U})),e.globals.dom.elGraphical.add(p)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new D(this.ctx),s=e.config.yaxis[0].crosshairs,r=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var a=t.drawLine(-r,0,e.globals.gridWidth+r,0,s.stroke.color,s.stroke.dashArray,s.stroke.width);a.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(a)}var o=t.drawLine(-r,0,e.globals.gridWidth+r,0,s.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(o)}}]),R}(),ri=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"checkResponsiveConfig",value:function(e){var t=this,s=this.w,r=s.config;if(0!==r.responsive.length){var a=r.responsive.slice();a.sort(function(y,b){return y.breakpoint>b.breakpoint?1:b.breakpoint>y.breakpoint?-1:0}).reverse();var o=new He({}),l=function(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=window.innerWidth>0?window.innerWidth:screen.width;if(w>a[0].breakpoint){var k=z.extendArrayProps(o,s.globals.initialConfig,s);y=f.extend(k,y),y=f.extend(s.config,y),t.overrideResponsiveOptions(y)}else for(var E=0;E<a.length;E++)w<a[E].breakpoint&&(y=z.extendArrayProps(o,a[E].options,s),y=f.extend(s.config,y),t.overrideResponsiveOptions(y))};if(e){var u=z.extendArrayProps(o,e,s);u=f.extend(s.config,u),l(u=f.extend(u,e))}else l({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new He(e).init({responsiveOverride:!0});this.w.config=t}}]),R}(),Ft=function(){function R(e){Ce(this,R),this.ctx=e,this.colors=[],this.w=e.w;var t=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===t.config.chart.type&&t.config.plotOptions.treemap.distributed||"heatmap"===t.config.chart.type&&t.config.plotOptions.heatmap.distributed,this.isBarDistributed=t.config.plotOptions.bar.distributed&&("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)}return Se(R,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this,t=this.w,s=new f;if(t.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(t.config.theme.mode)),void 0===t.config.colors?t.globals.colors=this.predefined():(t.globals.colors=t.config.colors,Array.isArray(t.config.colors)&&t.config.colors.length>0&&"function"==typeof t.config.colors[0]&&(t.globals.colors=t.config.series.map(function(E,I){var P=t.config.colors[I];return P||(P=t.config.colors[0]),"function"==typeof P?(e.isColorFn=!0,P({value:t.globals.axisCharts?t.globals.series[I][0]?t.globals.series[I][0]:0:t.globals.series[I],seriesIndex:I,dataPointIndex:I,w:t})):P}))),t.globals.seriesColors.map(function(E,I){E&&(t.globals.colors[I]=E)}),t.config.theme.monochrome.enabled){var r=[],a=t.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(a=t.globals.series[0].length*t.globals.series.length);for(var o=t.config.theme.monochrome.color,l=1/(a/t.config.theme.monochrome.shadeIntensity),u=t.config.theme.monochrome.shadeTo,y=0,b=0;b<a;b++){var w=void 0;"dark"===u?(w=s.shadeColor(-1*y,o),y+=l):(w=s.shadeColor(y,o),y+=l),r.push(w)}t.globals.colors=r.slice()}var k=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),["fill","stroke"].forEach(function(E){t.globals[E].colors=void 0===t.config[E].colors?e.isColorFn?t.config.colors:k:t.config[E].colors.slice(),e.pushExtraColors(t.globals[E].colors)}),t.globals.dataLabels.style.colors=void 0===t.config.dataLabels.style.colors?k:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50),t.globals.radarPolygons.fill.colors=void 0===t.config.plotOptions.radar.polygons.fill.colors?["dark"===t.config.theme.mode?"#424242":"none"]:t.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(t.globals.radarPolygons.fill.colors,20),t.globals.markers.colors=void 0===t.config.markers.colors?k:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.w,a=t||r.globals.series.length;if(null===s&&(s=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===r.config.chart.type&&r.config.plotOptions.heatmap.colorScale.inverse),s&&r.globals.series.length&&(a=r.globals.series[r.globals.maxValsInArrayIndex].length*r.globals.series.length),e.length<a)for(var o=a-e.length,l=0;l<o;l++)e.push(e[l])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode||"light",s=e.theme.palette?e.theme.palette:"dark"===t?"palette4":"palette1",r=e.chart.foreColor?e.chart.foreColor:"dark"===t?"#f6f7f8":"#373d3f";return e.tooltip.theme=t,e.chart.foreColor=r,e.theme.palette=s,e}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),R}(),Vt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,s="title"===e?t.config.title:t.config.subtitle,r=t.globals.svgWidth/2,a=s.offsetY,o="middle";if("left"===s.align?(r=10,o="start"):"right"===s.align&&(r=t.globals.svgWidth-10,o="end"),r+=s.offsetX,a=a+parseInt(s.style.fontSize,10)+s.margin/2,void 0!==s.text){var l=new D(this.ctx).drawText({x:r,y:a,text:s.text,textAnchor:o,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,fontWeight:s.style.fontWeight,foreColor:s.style.color,opacity:1});l.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(l)}}}]),R}(),lt=function(){function R(e){Ce(this,R),this.w=e.w,this.dCtx=e}return Se(R,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,s=0,r=0,a="title"===e?t.config.title.floating:t.config.subtitle.floating,o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(null!==o&&!a){var l=o.getBoundingClientRect();s=l.width,r=t.globals.axisCharts?l.height+5:l.height}return{width:s,height:r}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||(t.style.maxHeight=e.globals.svgHeight/2+"px");var s=Object.assign({},f.getBoundingClientRect(t));return this.dCtx.lgRect=null!==t&&!e.config.legend.floating&&e.config.legend.show?{x:s.x,y:s.y,height:s.height,width:0===s.height?0:s.width}:{x:0,y:0,height:0,width:0},"left"!==e.config.legend.position&&"right"!==e.config.legend.position||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(e,t){var s=e;if(this.w.globals.isMultiLineX){var r=t.map(function(o,l){return Array.isArray(o)?o.length:1}),a=Math.max.apply(Math,be(r));s=t[r.indexOf(a)]}return s}}]),R}(),xt=function(){function R(e){Ce(this,R),this.w=e.w,this.dCtx=e}return Se(R,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,s=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&0===s.length&&(s=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var r=this.getxAxisTimeScaleLabelsCoords();e={width:r.width,height:r.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==t.config.legend.position&&"right"!==t.config.legend.position||t.config.legend.floating?0:this.dCtx.lgRect.width;var a=t.globals.xLabelFormatter,o=f.getLargestStringFromArr(s),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,s);t.globals.isBarHorizontal&&(l=o=t.globals.yAxisScale[0].result.reduce(function(I,P){return I.length>P.length?I:P},0));var u=new Ae(this.dCtx.ctx),y=o;o=u.xLabelFormat(a,o,y,{i:void 0,dateFormatter:new fe(this.dCtx.ctx).formatDate,w:t}),l=u.xLabelFormat(a,l,y,{i:void 0,dateFormatter:new fe(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&void 0===o||""===String(o).trim())&&(l=o="1");var b=new D(this.dCtx.ctx),w=b.getTextRects(o,t.config.xaxis.labels.style.fontSize),k=w;if(o!==l&&(k=b.getTextRects(l,t.config.xaxis.labels.style.fontSize)),(e={width:w.width>=k.width?w.width:k.width,height:w.height>=k.height?w.height:k.height}).width*s.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==t.config.xaxis.labels.rotate||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var E=function(I){return b.getTextRects(I,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};w=E(o),o!==l&&(k=E(l)),e.height=(w.height>k.height?w.height:k.height)/1.5,e.width=w.width>k.width?w.width:k.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var s,r=(null===(e=t.config.xaxis.group.style)||void 0===e?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,a=t.globals.groups.map(function(w){return w.title}),o=f.getLargestStringFromArr(a),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,a),u=new D(this.dCtx.ctx),y=u.getTextRects(o,r),b=y;return o!==l&&(b=u.getTextRects(l,r)),s={width:y.width>=b.width?y.width:b.width,height:y.height>=b.height?y.height:b.height},t.config.xaxis.labels.show||(s={width:0,height:0}),{width:s.width,height:s.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,s=0;if(void 0!==e.config.xaxis.title.text){var r=new D(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=r.width,s=r.height}return{width:t,height:s}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var s=this.dCtx.timescaleLabels.map(function(a){return a.value}),r=s.reduce(function(a,o){return void 0===a?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):a.length>o.length?a:o},0);return 1.05*(e=new D(this.dCtx.ctx).getTextRects(r,t.config.xaxis.labels.style.fontSize)).width*s.length>t.globals.gridWidth&&0!==t.config.xaxis.labels.rotate&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,s=this.w,r=s.globals,a=s.config,o=a.xaxis.type,l=e.width;r.skipLastTimelinelabel=!1,r.skipFirstTimelinelabel=!1;var u=s.config.yaxis[0].opposite&&s.globals.isBarHorizontal;a.yaxis.forEach(function(b,w){u?(t.dCtx.gridPad.left<l&&(t.dCtx.xPadLeft=l/2+1),t.dCtx.xPadRight=l/2+1):function(b,w){a.yaxis.length>1&&-1!==r.collapsedSeriesIndices.indexOf(w)||function(k){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var P=t.dCtx.timescaleLabels[0].position-l/1.75+t.dCtx.yAxisWidthLeft;t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+l/1.75-t.dCtx.yAxisWidthRight>r.svgWidth-r.translateX-("right"===s.config.legend.position&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0)&&(r.skipLastTimelinelabel=!0),P<-(k.show&&!k.floating||"bar"!==a.chart.type&&"candlestick"!==a.chart.type&&"rangeBar"!==a.chart.type&&"boxPlot"!==a.chart.type?10:l/1.75)&&(r.skipFirstTimelinelabel=!0)}else"datetime"===o?t.dCtx.gridPad.right<l&&!r.rotateXLabels&&(r.skipLastTimelinelabel=!0):"datetime"!==o&&t.dCtx.gridPad.right<l/2-t.dCtx.yAxisWidthRight&&!r.rotateXLabels&&!s.config.xaxis.labels.trim&&("between"!==s.config.xaxis.tickPlacement||s.globals.isBarHorizontal)&&(t.dCtx.xPadRight=l/2+1)}(b)}(b,w)})}}]),R}(),Ct=function(){function R(e){Ce(this,R),this.w=e.w,this.dCtx=e}return Se(R,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,s=[],r=10,a=new $e(this.dCtx.ctx);return t.config.yaxis.map(function(o,l){var u=t.globals.yAxisScale[l],y=0;if(!a.isYAxisHidden(l)&&o.labels.show&&void 0!==o.labels.minWidth&&(y=o.labels.minWidth),!a.isYAxisHidden(l)&&o.labels.show&&u.result.length){var b=t.globals.yLabelFormatters[l],w=u.niceMin===Number.MIN_VALUE?0:u.niceMin,k=String(w).length>String(u.niceMax).length?w:u.niceMax,E=b(k,{seriesIndex:l,dataPointIndex:-1,w:t}),I=E;if(void 0!==E&&0!==E.length||(E=k),t.globals.isBarHorizontal){r=0;var P=t.globals.labels.slice();E=b(E=f.getLargestStringFromArr(P),{seriesIndex:l,dataPointIndex:-1,w:t}),I=e.dCtx.dimHelpers.getLargestStringFromMultiArr(E,P)}var B=new D(e.dCtx.ctx),U="rotate(".concat(o.labels.rotate," 0 0)"),j=B.getTextRects(E,o.labels.style.fontSize,o.labels.style.fontFamily,U,!1),p=j;E!==I&&(p=B.getTextRects(I,o.labels.style.fontSize,o.labels.style.fontFamily,U,!1)),s.push({width:(y>p.width||y>j.width?y:p.width>j.width?p.width:j.width)+r,height:p.height>j.height?p.height:j.height})}else s.push({width:0,height:0})}),s}},{key:"getyAxisTitleCoords",value:function(){var e=this,s=[];return this.w.config.yaxis.map(function(r,a){if(r.show&&void 0!==r.title.text){var o=new D(e.dCtx.ctx),l="rotate(".concat(r.title.rotate," 0 0)"),u=o.getTextRects(r.title.text,r.title.style.fontSize,r.title.style.fontFamily,l,!1);s.push({width:u.width,height:u.height})}else s.push({width:0,height:0})}),s}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,s=0,r=0,a=e.globals.yAxisScale.length>1?10:0,o=new $e(this.dCtx.ctx),l=function(u,y){var b=e.config.yaxis[y].floating,w=0;u.width>0&&!b?(w=u.width+a,e.globals.ignoreYAxisIndexes.indexOf(y)>-1&&(w=w-u.width-a)):w=b||o.isYAxisHidden(y)?0:5,e.config.yaxis[y].opposite?r+=w:s+=w,t+=w};return e.globals.yLabelsCoords.map(function(u,y){l(u,y)}),e.globals.yTitleCoords.map(function(u,y){l(u,y)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=s,this.dCtx.yAxisWidthRight=r,t}}]),R}(),Ht=function(){function R(e){Ce(this,R),this.w=e.w,this.dCtx=e}return Se(R,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w;if(t.globals.noData||t.globals.allSeriesCollapsed)return 0;var s=function(b){return"bar"===b||"rangeBar"===b||"candlestick"===b||"boxPlot"===b},r=t.config.chart.type,a=0,o=s(r)?t.config.series.length:1;if(t.globals.comboBarCount>0&&(o=t.globals.comboBarCount),t.globals.collapsedSeries.forEach(function(b){s(b.type)&&(o-=1)}),t.config.chart.stacked&&(o=1),(s(r)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&o>0){var l,u,y=Math.abs(t.globals.initialMaxX-t.globals.initialMinX);y<=3&&(y=t.globals.dataPoints),l=y/e,t.globals.minXDiff&&t.globals.minXDiff/l>0&&(u=t.globals.minXDiff/l),u>e/2&&(u/=2),(a=u/o*parseInt(t.config.plotOptions.bar.columnWidth,10)/100)<1&&(a=1),t.globals.barPadForNumericAxis=a=a/(o>1?1:1.5)+5}return a}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,s=t.globals,r=this.dCtx.isSparkline||!t.globals.axisCharts?0:10;["title","subtitle"].forEach(function(l){r+=void 0!==t.config[l].text?t.config[l].margin:e.dCtx.isSparkline||!t.globals.axisCharts?0:5}),!t.config.legend.show||"bottom"!==t.config.legend.position||t.config.legend.floating||t.globals.axisCharts||(r+=10);var a=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");s.gridHeight=s.gridHeight-a.height-o.height-r,s.translateY=s.translateY+a.height+o.height+r}},{key:"setGridXPosForDualYAxis",value:function(e,t){var s=this.w,r=new $e(this.dCtx.ctx);s.config.yaxis.map(function(a,o){-1!==s.globals.ignoreYAxisIndexes.indexOf(o)||a.floating||r.isYAxisHidden(o)||(a.opposite&&(s.globals.translateX=s.globals.translateX-(t[o].width+e[o].width)-parseInt(s.config.yaxis[o].labels.style.fontSize,10)/1.2-12),s.globals.translateX<2&&(s.globals.translateX=2))})}}]),R}(),Bt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new lt(this),this.dimYAxis=new Ct(this),this.dimXAxis=new xt(this),this.dimGrid=new Ht(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return Se(R,[{key:"plotCoords",value:function(){var e=this,t=this.w,s=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(a){var o=Re(a,2);e.gridPad[o[0]]=Math.max(o[1],e.w.globals.markers.largestSize/1.5)}),s.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),s.gridHeight=s.gridHeight-this.gridPad.top-this.gridPad.bottom,s.gridWidth=s.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var r=this.dimGrid.gridPadForColumnsInNumericAxis(s.gridWidth);s.gridWidth=s.gridWidth-2*r,s.translateX=s.translateX+this.gridPad.left+this.xPadLeft+(r>0?r+4:0),s.translateY=s.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,s=t.globals,r=this.dimYAxis.getyAxisLabelsCoords(),a=this.dimYAxis.getyAxisTitleCoords();t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(E,I){t.globals.yLabelsCoords.push({width:r[I].width,index:I}),t.globals.yTitleCoords.push({width:a[I].width,index:I})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),l=this.dimXAxis.getxAxisGroupLabelsCoords(),u=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,u,l),s.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,s.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(s.rotateXLabels=!1,s.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),s.translateXAxisY=s.translateXAxisY+t.config.xaxis.labels.offsetY,s.translateXAxisX=s.translateXAxisX+t.config.xaxis.labels.offsetX;var y=this.yAxisWidth,b=this.xAxisHeight;s.xAxisLabelsHeight=this.xAxisHeight-u.height,s.xAxisGroupLabelsHeight=s.xAxisLabelsHeight-o.height,s.xAxisLabelsWidth=this.xAxisWidth,s.xAxisHeight=this.xAxisHeight;var w=10;("radar"===t.config.chart.type||this.isSparkline)&&(y=0,b=s.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===t.config.chart.type)&&(y=0,b=0,w=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(o);var k=function(){s.translateX=y,s.gridHeight=s.svgHeight-e.lgRect.height-b-(e.isSparkline||"treemap"===t.config.chart.type?0:t.globals.rotateXLabels?10:15),s.gridWidth=s.svgWidth-y};switch("top"===t.config.xaxis.position&&(w=s.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":s.translateY=w,k();break;case"top":s.translateY=this.lgRect.height+w,k();break;case"left":s.translateY=w,s.translateX=this.lgRect.width+y,s.gridHeight=s.svgHeight-b-12,s.gridWidth=s.svgWidth-this.lgRect.width-y;break;case"right":s.translateY=w,s.translateX=y,s.gridHeight=s.svgHeight-b-12,s.gridWidth=s.svgWidth-this.lgRect.width-y-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(a,r),new ct(this.ctx).setYAxisXPosition(r,a)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=e.config,r=0;e.config.legend.show&&!e.config.legend.floating&&(r=20);var a="pie"===s.chart.type||"polarArea"===s.chart.type||"donut"===s.chart.type?"pie":"radialBar",o=s.plotOptions[a].offsetY,l=s.plotOptions[a].offsetX;if(!s.legend.show||s.legend.floating)return t.gridHeight=t.svgHeight-s.grid.padding.left+s.grid.padding.right,t.gridWidth=t.gridHeight,t.translateY=o,void(t.translateX=l+(t.svgWidth-t.gridWidth)/2);switch(s.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=o-10,t.translateX=l+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+o+10,t.translateX=l+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-r,t.gridHeight="auto"!==s.chart.height?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=l+this.lgRect.width+r;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-r-5,t.gridHeight="auto"!==s.chart.height?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=l+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,s){var r=this.w;this.xAxisHeight=(s.height+e.height+t.height)*(r.globals.isMultiLineX?1.2:r.globals.LINE_HEIGHT_RATIO)+(r.globals.hasXaxisGroups?2:1)*(r.globals.rotateXLabels?22:10)+(r.globals.rotateXLabels&&"bottom"===r.config.legend.position?10:0),this.xAxisWidth=e.width,this.xAxisHeight-t.height>r.config.xaxis.labels.maxHeight&&(this.xAxisHeight=r.config.xaxis.labels.maxHeight),r.config.xaxis.labels.minHeight&&this.xAxisHeight<r.config.xaxis.labels.minHeight&&(this.xAxisHeight=r.config.xaxis.labels.minHeight),r.config.xaxis.floating&&(this.xAxisHeight=0);var b=0,w=0;r.config.yaxis.forEach(function(k){b+=k.labels.minWidth,w+=k.labels.maxWidth}),this.yAxisWidth<b&&(this.yAxisWidth=b),this.yAxisWidth>w&&(this.yAxisWidth=w)}}]),R}(),ai=function(){function R(e){Ce(this,R),this.w=e.w,this.lgCtx=e}return Se(R,[{key:"getLegendStyles",value:function(){var e=document.createElement("style");e.setAttribute("type","text/css");var t=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return e.appendChild(t),e}},{key:"getLegendBBox",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:e.height,clww:e.width}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var s=this,r=this.w;if(r.globals.axisCharts||"radialBar"===r.config.chart.type){r.globals.resized=!0;var a=null,o=null;r.globals.risingSeries=[],r.globals.axisCharts?(a=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),o=parseInt(a.getAttribute("data:realIndex"),10)):(a=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),o=parseInt(a.getAttribute("rel"),10)-1),t?[{cs:r.globals.collapsedSeries,csi:r.globals.collapsedSeriesIndices},{cs:r.globals.ancillaryCollapsedSeries,csi:r.globals.ancillaryCollapsedSeriesIndices}].forEach(function(b){s.riseCollapsedSeries(b.cs,b.csi,o)}):this.hideSeries({seriesEl:a,realIndex:o})}else{var l=r.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(e+1,"'] path")),u=r.config.chart.type;if("pie"===u||"polarArea"===u||"donut"===u){var y=r.config.plotOptions.pie.donut.labels;new D(this.lgCtx.ctx).pathMouseDown(l.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(l.members[0].node,y)}l.fire("click")}}},{key:"hideSeries",value:function(e){var t=e.seriesEl,s=e.realIndex,r=this.w,a=f.clone(r.config.series);if(r.globals.axisCharts){var o=!1;if(r.config.yaxis[s]&&r.config.yaxis[s].show&&r.config.yaxis[s].showAlways&&(o=!0,r.globals.ancillaryCollapsedSeriesIndices.indexOf(s)<0&&(r.globals.ancillaryCollapsedSeries.push({index:s,data:a[s].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),r.globals.ancillaryCollapsedSeriesIndices.push(s))),!o){r.globals.collapsedSeries.push({index:s,data:a[s].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),r.globals.collapsedSeriesIndices.push(s);var l=r.globals.risingSeries.indexOf(s);r.globals.risingSeries.splice(l,1)}}else r.globals.collapsedSeries.push({index:s,data:a[s]}),r.globals.collapsedSeriesIndices.push(s);for(var u=t.childNodes,y=0;y<u.length;y++)u[y].classList.contains("apexcharts-series-markers-wrap")&&(u[y].classList.contains("apexcharts-hide")?u[y].classList.remove("apexcharts-hide"):u[y].classList.add("apexcharts-hide"));r.globals.allSeriesCollapsed=r.globals.collapsedSeries.length===r.config.series.length,a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,r.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,s){var r=this.w,a=f.clone(r.config.series);if(e.length>0){for(var o=0;o<e.length;o++)e[o].index===s&&(r.globals.axisCharts?(a[s].data=e[o].data.slice(),e.splice(o,1),t.splice(o,1),r.globals.risingSeries.push(s)):(a[s]=e[o].data,e.splice(o,1),t.splice(o,1),r.globals.risingSeries.push(s)));a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,r.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w;return e.forEach(t.globals.axisCharts?function(s,r){t.globals.collapsedSeriesIndices.indexOf(r)>-1&&(e[r].data=[])}:function(s,r){t.globals.collapsedSeriesIndices.indexOf(r)>-1&&(e[r]=0)}),e}}]),R}(),Fe=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new ai(this)}return Se(R,[{key:"init",value:function(){var e=this.w,t=e.globals,s=e.config;if((s.legend.showForSingleSeries&&1===t.series.length||this.isBarsDistributed||t.series.length>1||!t.axisCharts)&&s.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),f.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===s.legend.position||"top"===s.legend.position?this.legendAlignHorizontal():"right"!==s.legend.position&&"left"!==s.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var e=this,t=this.w,s=t.config.legend.fontFamily,r=t.globals.seriesNames,a=t.globals.colors.slice();if("heatmap"===t.config.chart.type){var o=t.config.plotOptions.heatmap.colorScale.ranges;r=o.map(function(xe){return xe.name?xe.name:xe.from+" - "+xe.to}),a=o.map(function(xe){return xe.color})}else this.isBarsDistributed&&(r=t.globals.labels.slice());t.config.legend.customLegendItems.length&&(r=t.config.legend.customLegendItems);for(var l=t.globals.legendFormatter,u=t.config.legend.inverseOrder,y=u?r.length-1:0;u?y>=0:y<=r.length-1;u?y--:y++){var b=l(r[y],{seriesIndex:y,w:t}),w=!1,k=!1;if(t.globals.collapsedSeries.length>0)for(var E=0;E<t.globals.collapsedSeries.length;E++)t.globals.collapsedSeries[E].index===y&&(w=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var I=0;I<t.globals.ancillaryCollapsedSeriesIndices.length;I++)t.globals.ancillaryCollapsedSeriesIndices[I]===y&&(k=!0);var P=document.createElement("span");P.classList.add("apexcharts-legend-marker");var B=t.config.legend.markers.offsetX,U=t.config.legend.markers.offsetY,j=t.config.legend.markers.height,p=t.config.legend.markers.width,T=t.config.legend.markers.strokeWidth,L=t.config.legend.markers.strokeColor,N=t.config.legend.markers.radius,q=P.style;q.background=a[y],q.color=a[y],q.setProperty("background",a[y],"important"),t.config.legend.markers.fillColors&&t.config.legend.markers.fillColors[y]&&(q.background=t.config.legend.markers.fillColors[y]),void 0!==t.globals.seriesColors[y]&&(q.background=t.globals.seriesColors[y],q.color=t.globals.seriesColors[y]),q.height=Array.isArray(j)?parseFloat(j[y])+"px":parseFloat(j)+"px",q.width=Array.isArray(p)?parseFloat(p[y])+"px":parseFloat(p)+"px",q.left=(Array.isArray(B)?parseFloat(B[y]):parseFloat(B))+"px",q.top=(Array.isArray(U)?parseFloat(U[y]):parseFloat(U))+"px",q.borderWidth=Array.isArray(T)?T[y]:T,q.borderColor=Array.isArray(L)?L[y]:L,q.borderRadius=Array.isArray(N)?parseFloat(N[y])+"px":parseFloat(N)+"px",t.config.legend.markers.customHTML&&(Array.isArray(t.config.legend.markers.customHTML)?t.config.legend.markers.customHTML[y]&&(P.innerHTML=t.config.legend.markers.customHTML[y]()):P.innerHTML=t.config.legend.markers.customHTML()),D.setAttrs(P,{rel:y+1,"data:collapsed":w||k}),(w||k)&&P.classList.add("apexcharts-inactive-legend");var Q=document.createElement("div"),ne=document.createElement("span");ne.classList.add("apexcharts-legend-text"),ne.innerHTML=Array.isArray(b)?b.join(" "):b;var ae=t.config.legend.labels.useSeriesColors?t.globals.colors[y]:t.config.legend.labels.colors;ae||(ae=t.config.chart.foreColor),ne.style.color=ae,ne.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",ne.style.fontWeight=t.config.legend.fontWeight,ne.style.fontFamily=s||t.config.chart.fontFamily,D.setAttrs(ne,{rel:y+1,i:y,"data:default-text":encodeURIComponent(b),"data:collapsed":w||k}),Q.appendChild(P),Q.appendChild(ne);var ye=new z(this.ctx);t.config.legend.showForZeroSeries||0===ye.getSeriesTotalByIndex(y)&&ye.seriesHaveSameValues(y)&&!ye.isSeriesNull(y)&&-1===t.globals.collapsedSeriesIndices.indexOf(y)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(y)&&Q.classList.add("apexcharts-hidden-zero-series"),t.config.legend.showForNullSeries||ye.isSeriesNull(y)&&-1===t.globals.collapsedSeriesIndices.indexOf(y)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(y)&&Q.classList.add("apexcharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(Q),t.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(t.config.legend.horizontalAlign)),t.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+t.config.legend.position),Q.classList.add("apexcharts-legend-series"),Q.style.margin="".concat(t.config.legend.itemMargin.vertical,"px ").concat(t.config.legend.itemMargin.horizontal,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",D.setAttrs(Q,{rel:y+1,seriesName:f.escapeString(r[y]),"data:collapsed":w||k}),(w||k)&&Q.classList.add("apexcharts-inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||Q.classList.add("apexcharts-no-click")}t.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&0===t.config.legend.customLegendItems.length&&(t.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var s=this.w,r=s.globals.dom.elLegendWrap,a=r.getBoundingClientRect(),o=0,l=0;if("bottom"===s.config.legend.position)l+=s.globals.svgHeight-a.height/2;else if("top"===s.config.legend.position){var u=new Bt(this.ctx),y=u.dimHelpers.getTitleSubtitleCoords("title").height,b=u.dimHelpers.getTitleSubtitleCoords("subtitle").height;l=l+(y>0?y-10:0)+(b>0?b-10:0)}r.style.position="absolute",l=l+t+s.config.legend.offsetY,r.style.left=(o=o+e+s.config.legend.offsetX)+"px",r.style.top=l+"px","bottom"===s.config.legend.position?(r.style.top="auto",r.style.bottom=5-s.config.legend.offsetY+"px"):"right"===s.config.legend.position&&(r.style.left="auto",r.style.right=25+s.config.legend.offsetX+"px"),["width","height"].forEach(function(w){r.style[w]&&(r.style[w]=parseInt(s.config.legend[w],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=this.legendHelpers.getLegendBBox(),s=new Bt(this.ctx),r=s.dimHelpers.getTitleSubtitleCoords("title"),a=s.dimHelpers.getTitleSubtitleCoords("subtitle"),o=0;"bottom"===e.config.legend.position?o=-t.clwh/1.8:"top"===e.config.legend.position&&(o=r.height+a.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,o)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendBBox(),s=0;"left"===e.config.legend.position&&(s=20),"right"===e.config.legend.position&&(s=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(s,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,s=e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if("heatmap"===t.config.chart.type||this.isBarsDistributed){if(s){var r=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,r,this.w]),new We(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&s&&new We(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var s=parseInt(e.target.getAttribute("rel"),10)-1,r="true"===e.target.getAttribute("data:collapsed"),a=this.w.config.chart.events.legendClick;"function"==typeof a&&a(this.ctx,s,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,s,this.w]);var o=this.w.config.legend.markers.onClick;"function"==typeof o&&e.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,s,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,s,this.w])),"treemap"!==t.config.chart.type&&"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(s,r)}}}]),R}(),Wt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return Se(R,[{key:"createToolbar",value:function(){var e=this,t=this.w,s=function(){return document.createElement("div")},r=s();if(r.setAttribute("class","apexcharts-toolbar"),r.style.top=t.config.chart.toolbar.offsetY+"px",r.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(r),this.elZoom=s(),this.elZoomIn=s(),this.elZoomOut=s(),this.elPan=s(),this.elSelection=s(),this.elZoomReset=s(),this.elMenuIcon=s(),this.elMenu=s(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var a=0;a<this.t.customIcons.length;a++)this.elCustomIcons.push(s());var o=[],l=function(w,k,E){var I=w.toLowerCase();e.t[I]&&t.config.chart.zoom.enabled&&o.push({el:k,icon:"string"==typeof e.t[I]?e.t[I]:E,title:e.localeValues[w],class:"apexcharts-".concat(I,"-icon")})};l("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),l("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var u=function(w){e.t[w]&&t.config.chart[w].enabled&&o.push({el:"zoom"===w?e.elZoom:e.elSelection,icon:"string"==typeof e.t[w]?e.t[w]:"zoom"===w?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:e.localeValues["zoom"===w?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(w,"-icon")})};u("zoom"),u("selection"),this.t.pan&&t.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),l("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&o.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var y=0;y<this.elCustomIcons.length;y++)o.push({el:this.elCustomIcons[y],icon:this.t.customIcons[y].icon,title:this.t.customIcons[y].title,index:this.t.customIcons[y].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[y].class});o.forEach(function(w,k){w.index&&f.moveIndexInArray(o,k,w.index)});for(var b=0;b<o.length;b++)D.setAttrs(o[b].el,{class:o[b].class,title:o[b].title}),o[b].el.innerHTML=o[b].icon,r.appendChild(o[b].el);this._createHamburgerMenu(r),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),D.setAttrs(this.elMenu,{class:"apexcharts-menu"});var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||t.splice(2,1);for(var s=0;s<t.length;s++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[s].innerHTML=t[s].title,D.setAttrs(this.elMenuItems[s],{class:"apexcharts-menu-item ".concat(t[s].name),title:t[s].title}),this.elMenu.appendChild(this.elMenuItems[s])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(s){s.classList.contains("exportSVG")?s.addEventListener("click",e.handleDownload.bind(e,"svg")):s.classList.contains("exportPNG")?s.addEventListener("click",e.handleDownload.bind(e,"png")):s.classList.contains("exportCSV")&&s.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var s="selection"===e?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,r="selection"===e?"selectionEnabled":"zoomEnabled";t.w.globals[r]=!t.w.globals[r],s.classList.contains(t.ctx.toolbar.selectedClass)?s.classList.remove(t.ctx.toolbar.selectedClass):s.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),"pan"===e?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t="pan"===e?this.elPan:this.elZoom,s="pan"===e?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),s&&s.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(s){s&&s.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,a=this._getNewMinXMaxX((this.minX+t)/2,(this.maxX+t)/2);e.globals.disableZoomIn||this.zoomUpdateOptions(a.minX,a.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!("datetime"===e.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,a=this._getNewMinXMaxX(this.minX-(t-this.minX),this.maxX-(t-this.maxX));e.globals.disableZoomOut||this.zoomUpdateOptions(a.minX,a.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var s=this.w.config.xaxis.convertedCatToNumeric;return{minX:s?Math.floor(e):e,maxX:s?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var s=this.w;if(void 0!==e||void 0!==t){if(!(s.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=s.globals.dataPoints),t-e<2))){var r={min:e,max:t},a=this.getBeforeZoomRange(r);a&&(r=a.xaxis);var o={xaxis:r},l=f.clone(s.globals.initialConfig.yaxis);s.config.chart.zoom.autoScaleYaxis&&(l=new Tt(this.ctx).autoScaleY(this.ctx,l,{xaxis:r})),s.config.chart.group||(o.yaxis=l),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(r,l)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var s=null;return"function"==typeof this.ev.beforeZoom&&(s=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),s}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,s=new ot(this.ctx);switch(e){case"svg":s.exportToSVG(this.ctx);break;case"png":s.exportToPng(this.ctx);break;case"csv":s.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var s=t.w;if(s.globals.lastXAxis.min=void 0,s.globals.lastXAxis.max=void 0,t.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof s.config.chart.events.beforeResetZoom){var r=s.config.chart.events.beforeResetZoom(t,s);r&&t.updateHelpers.revertDefaultAxisMinMax(r)}"function"==typeof s.config.chart.events.zoomed&&t.ctx.toolbar.zoomCallback({min:s.config.xaxis.min,max:s.config.xaxis.max}),s.globals.zoomed=!1;var a=t.ctx.series.emptyCollapsedSeries(f.clone(s.globals.initialSeries));t.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),R}(),Di=function(R){_e(t,R);var e=Le(t);function t(s){var r;return Ce(this,t),(r=e.call(this,s)).ctx=s,r.w=s.w,r.dragged=!1,r.graphics=new D(r.ctx),r.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],r.clientX=0,r.clientY=0,r.startX=0,r.endX=0,r.dragX=0,r.startY=0,r.endY=0,r.dragY=0,r.moveDirection="none",r}return Se(t,[{key:"init",value:function(s){var r=this,a=s.xyRatios,o=this.w,l=this;this.xyRatios=a,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=o.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),o.globals.dom.elGraphical.add(this.zoomRect),o.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===o.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===o.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:o.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=o.globals.dom.baseEl.querySelector("".concat(o.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(u){r.hoverArea.addEventListener(u,l.svgMouseEvents.bind(l,a),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(s,r){var a=this.w,o=this,l=this.ctx.toolbar,u=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type,y=a.config.chart.toolbar.autoSelected;if(r.shiftKey?(this.shiftWasPressed=!0,l.enableZoomPanFromToolbar("pan"===y?"zoom":"pan")):this.shiftWasPressed&&(l.enableZoomPanFromToolbar(y),this.shiftWasPressed=!1),r.target){var b,w=r.target.classList;if(r.target.parentNode&&null!==r.target.parentNode&&(b=r.target.parentNode.classList),!(w.contains("apexcharts-selection-rect")||w.contains("apexcharts-legend-marker")||w.contains("apexcharts-legend-text")||b&&b.contains("apexcharts-toolbar"))){if(o.clientX="touchmove"===r.type||"touchstart"===r.type?r.touches[0].clientX:"touchend"===r.type?r.changedTouches[0].clientX:r.clientX,o.clientY="touchmove"===r.type||"touchstart"===r.type?r.touches[0].clientY:"touchend"===r.type?r.changedTouches[0].clientY:r.clientY,"mousedown"===r.type&&1===r.which){var k=o.gridRect.getBoundingClientRect();o.startX=o.clientX-k.left,o.startY=o.clientY-k.top,o.dragged=!1,o.w.globals.mousedown=!0}if(("mousemove"===r.type&&1===r.which||"touchmove"===r.type)&&(o.dragged=!0,a.globals.panEnabled?(a.globals.selection=null,o.w.globals.mousedown&&o.panDragging({context:o,zoomtype:u,xyRatios:s})):(o.w.globals.mousedown&&a.globals.zoomEnabled||o.w.globals.mousedown&&a.globals.selectionEnabled)&&(o.selection=o.selectionDrawing({context:o,zoomtype:u}))),"mouseup"===r.type||"touchend"===r.type||"mouseleave"===r.type){var E=o.gridRect.getBoundingClientRect();o.w.globals.mousedown&&(o.endX=o.clientX-E.left,o.endY=o.clientY-E.top,o.dragX=Math.abs(o.endX-o.startX),o.dragY=Math.abs(o.endY-o.startY),(a.globals.zoomEnabled||a.globals.selectionEnabled)&&o.selectionDrawn({context:o,zoomtype:u}),a.globals.panEnabled&&a.config.xaxis.convertedCatToNumeric&&o.delayedPanScrolled()),a.globals.zoomEnabled&&o.hideSelectionRect(this.selectionRect),o.dragged=!1,o.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var s=this.w;if(this.selectionRect){var r=this.selectionRect.node.getBoundingClientRect();r.width>0&&r.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:s.globals.gridWidth,maxY:s.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var s=this.w,r=this.xyRatios;if(!s.globals.zoomEnabled)if(null!=s.globals.selection)this.drawSelectionRect(s.globals.selection);else if(void 0!==s.config.chart.selection.xaxis.min&&void 0!==s.config.chart.selection.xaxis.max){var a=(s.config.chart.selection.xaxis.min-s.globals.minX)/r.xRatio;this.drawSelectionRect({x:a,y:0,width:s.globals.gridWidth-(s.globals.maxX-s.config.chart.selection.xaxis.max)/r.xRatio-a,height:s.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof s.config.chart.events.selection&&s.config.chart.events.selection(this.ctx,{xaxis:{min:s.config.chart.selection.xaxis.min,max:s.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(s){var r=s.x,a=s.y,o=s.width,l=s.height,u=s.translateX,b=s.translateY,k=this.w,E=this.zoomRect,I=this.selectionRect;if(this.dragged||null!==k.globals.selection){var P={transform:"translate("+(void 0===u?0:u)+", "+(void 0===b?0:b)+")"};k.globals.zoomEnabled&&this.dragged&&(o<0&&(o=1),E.attr({x:r,y:a,width:o,height:l,fill:k.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":k.config.chart.zoom.zoomedArea.fill.opacity,stroke:k.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":k.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":k.config.chart.zoom.zoomedArea.stroke.opacity}),D.setAttrs(E.node,P)),k.globals.selectionEnabled&&(I.attr({x:r,y:a,width:o>0?o:0,height:l>0?l:0,fill:k.config.chart.selection.fill.color,"fill-opacity":k.config.chart.selection.fill.opacity,stroke:k.config.chart.selection.stroke.color,"stroke-width":k.config.chart.selection.stroke.width,"stroke-dasharray":k.config.chart.selection.stroke.dashArray,"stroke-opacity":k.config.chart.selection.stroke.opacity}),D.setAttrs(I.node,P))}}},{key:"hideSelectionRect",value:function(s){s&&s.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(s){var P,a=s.zoomtype,o=this.w,l=s.context,u=this.gridRect.getBoundingClientRect(),y=l.startX-1,b=l.startY,w=!1,k=!1,E=l.clientX-u.left-y,I=l.clientY-u.top-b;return Math.abs(E+y)>o.globals.gridWidth?E=o.globals.gridWidth-y:l.clientX-u.left<0&&(E=y),y>l.clientX-u.left&&(w=!0,E=Math.abs(E)),b>l.clientY-u.top&&(k=!0,I=Math.abs(I)),l.drawSelectionRect(P="x"===a?{x:w?y-E:y,y:0,width:E,height:o.globals.gridHeight}:"y"===a?{x:0,y:k?b-I:b,width:o.globals.gridWidth,height:I}:{x:w?y-E:y,y:k?b-I:b,width:E,height:I}),l.selectionDragging("resizing"),P}},{key:"selectionDragging",value:function(s,r){var a=this,o=this.w,l=this.xyRatios,u=this.selectionRect,y=0;"resizing"===s&&(y=30);var b=function(k){return parseFloat(u.node.getAttribute(k))},w={x:b("x"),y:b("y"),width:b("width"),height:b("height")};o.globals.selection=w,"function"==typeof o.config.chart.events.selection&&o.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var k=a.gridRect.getBoundingClientRect(),E=u.node.getBoundingClientRect(),I={xaxis:{min:o.globals.xAxisScale.niceMin+(E.left-k.left)*l.xRatio,max:o.globals.xAxisScale.niceMin+(E.right-k.left)*l.xRatio},yaxis:{min:o.globals.yAxisScale[0].niceMin+(k.bottom-E.bottom)*l.yRatio[0],max:o.globals.yAxisScale[0].niceMax-(E.top-k.top)*l.yRatio[0]}};o.config.chart.events.selection(a.ctx,I),o.config.chart.brush.enabled&&void 0!==o.config.chart.events.brushScrolled&&o.config.chart.events.brushScrolled(a.ctx,I)},y))}},{key:"selectionDrawn",value:function(s){var a=s.zoomtype,o=this.w,l=s.context,u=this.xyRatios,y=this.ctx.toolbar;if(l.startX>l.endX){var b=l.startX;l.startX=l.endX,l.endX=b}if(l.startY>l.endY){var w=l.startY;l.startY=l.endY,l.endY=w}var k=void 0,E=void 0;o.globals.isRangeBar?(k=o.globals.yAxisScale[0].niceMin+l.startX*u.invertedYRatio,E=o.globals.yAxisScale[0].niceMin+l.endX*u.invertedYRatio):(k=o.globals.xAxisScale.niceMin+l.startX*u.xRatio,E=o.globals.xAxisScale.niceMin+l.endX*u.xRatio);var I=[],P=[];if(o.config.yaxis.forEach(function(q,Q){I.push(o.globals.yAxisScale[Q].niceMax-u.yRatio[Q]*l.startY),P.push(o.globals.yAxisScale[Q].niceMax-u.yRatio[Q]*l.endY)}),l.dragged&&(l.dragX>10||l.dragY>10)&&k!==E)if(o.globals.zoomEnabled){var B=f.clone(o.globals.initialConfig.yaxis),U=f.clone(o.globals.initialConfig.xaxis);if(o.globals.zoomed=!0,o.config.xaxis.convertedCatToNumeric&&(k=Math.floor(k),E=Math.floor(E),k<1&&(k=1,E=o.globals.dataPoints),E-k<2&&(E=k+1)),"xy"!==a&&"x"!==a||(U={min:k,max:E}),"xy"!==a&&"y"!==a||B.forEach(function(q,Q){B[Q].min=P[Q],B[Q].max=I[Q]}),o.config.chart.zoom.autoScaleYaxis){var j=new Tt(l.ctx);B=j.autoScaleY(l.ctx,B,{xaxis:U})}if(y){var p=y.getBeforeZoomRange(U,B);p&&(U=p.xaxis?p.xaxis:U,B=p.yaxis?p.yaxis:B)}var T={xaxis:U};o.config.chart.group||(T.yaxis=B),l.ctx.updateHelpers._updateOptions(T,!1,l.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof o.config.chart.events.zoomed&&y.zoomCallback(U,B)}else if(o.globals.selectionEnabled){var L,N=null;L={min:k,max:E},"xy"!==a&&"y"!==a||(N=f.clone(o.config.yaxis)).forEach(function(q,Q){N[Q].min=P[Q],N[Q].max=I[Q]}),o.globals.selection=l.selection,"function"==typeof o.config.chart.events.selection&&o.config.chart.events.selection(l.ctx,{xaxis:L,yaxis:N})}}},{key:"panDragging",value:function(s){var a=this.w,o=s.context;if(void 0!==a.globals.lastClientPosition.x){var l=a.globals.lastClientPosition.x-o.clientX,u=a.globals.lastClientPosition.y-o.clientY;Math.abs(l)>Math.abs(u)&&l>0?this.moveDirection="left":Math.abs(l)>Math.abs(u)&&l<0?this.moveDirection="right":Math.abs(u)>Math.abs(l)&&u>0?this.moveDirection="up":Math.abs(u)>Math.abs(l)&&u<0&&(this.moveDirection="down")}a.globals.lastClientPosition={x:o.clientX,y:o.clientY},a.config.xaxis.convertedCatToNumeric||o.panScrolled(a.globals.isRangeBar?a.globals.minY:a.globals.minX,a.globals.isRangeBar?a.globals.maxY:a.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var s=this.w,r=s.globals.minX,a=s.globals.maxX,o=(s.globals.maxX-s.globals.minX)/2;"left"===this.moveDirection?(r=s.globals.minX+o,a=s.globals.maxX+o):"right"===this.moveDirection&&(r=s.globals.minX-o,a=s.globals.maxX-o),r=Math.floor(r),a=Math.floor(a),this.updateScrolledChart({xaxis:{min:r,max:a}},r,a)}},{key:"panScrolled",value:function(s,r){var a=this.w,o=this.xyRatios,l=f.clone(a.globals.initialConfig.yaxis),u=o.xRatio,y=a.globals.minX,b=a.globals.maxX;a.globals.isRangeBar&&(u=o.invertedYRatio,y=a.globals.minY,b=a.globals.maxY),"left"===this.moveDirection?(s=y+a.globals.gridWidth/15*u,r=b+a.globals.gridWidth/15*u):"right"===this.moveDirection&&(s=y-a.globals.gridWidth/15*u,r=b-a.globals.gridWidth/15*u),a.globals.isRangeBar||(s<a.globals.initialMinX||r>a.globals.initialMaxX)&&(s=y,r=b);var w={min:s,max:r};a.config.chart.zoom.autoScaleYaxis&&(l=new Tt(this.ctx).autoScaleY(this.ctx,l,{xaxis:w}));var k={xaxis:{min:s,max:r}};a.config.chart.group||(k.yaxis=l),this.updateScrolledChart(k,s,r)}},{key:"updateScrolledChart",value:function(s,r,a){var o=this.w;this.ctx.updateHelpers._updateOptions(s,!1,!1),"function"==typeof o.config.chart.events.scrolled&&o.config.chart.events.scrolled(this.ctx,{xaxis:{min:r,max:a}})}}]),t}(Wt),Gt=function(){function R(e){Ce(this,R),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return Se(R,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,r=e.clientX,a=e.clientY,o=this.w,l=e.elGrid.getBoundingClientRect(),u=l.width,y=l.height,b=u/(o.globals.dataPoints-1),w=y/o.globals.dataPoints,k=this.hasBars();!o.globals.comboCharts&&!k||o.config.xaxis.convertedCatToNumeric||(b=u/o.globals.dataPoints);var E=r-l.left-o.globals.barPadForNumericAxis,I=a-l.top;E<0||I<0||E>u||I>y?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):o.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):o.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var P=Math.round(E/b),B=Math.floor(I/w);k&&!o.config.xaxis.convertedCatToNumeric&&(P=Math.ceil(E/b),P-=1);var U=null,j=null,p=[],T=[];if(o.globals.seriesXvalues.forEach(function(Q){p.push([Q[0]+1e-6].concat(Q))}),o.globals.seriesYvalues.forEach(function(Q){T.push([Q[0]+1e-6].concat(Q))}),p=p.map(function(Q){return Q.filter(function(ne){return f.isNumber(ne)})}),T=T.map(function(Q){return Q.filter(function(ne){return f.isNumber(ne)})}),o.globals.isXNumeric){var L=this.ttCtx.getElGrid().getBoundingClientRect(),N=E*(L.width/u);U=(j=this.closestInMultiArray(N,I*(L.height/y),p,T)).index,P=j.j,null!==U&&(P=(j=this.closestInArray(N,p=o.globals.seriesXvalues[U])).index)}return o.globals.capturedSeriesIndex=null===U?-1:U,(!P||P<1)&&(P=0),o.globals.capturedDataPointIndex=o.globals.isBarHorizontal?B:P,{capturedSeries:U,j:o.globals.isBarHorizontal?B:P,hoverX:E,hoverY:I}}},{key:"closestInMultiArray",value:function(e,t,s,r){var o=0,l=null,u=-1;this.w.globals.series.length>1?o=this.getFirstActiveXArray(s):l=0;var b=Math.abs(e-s[o][0]);if(s.forEach(function(E){E.forEach(function(I,P){var B=Math.abs(e-I);B<b&&(b=B,u=P)})}),-1!==u){var k=Math.abs(t-r[o][u]);l=o,r.forEach(function(E,I){var P=Math.abs(t-E[u]);P<k&&(k=P,l=I)})}return{index:l,j:u}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,s=0,r=e.map(function(o,l){return o.length>0?l:-1}),a=0;a<r.length;a++)if(-1!==r[a]&&-1===t.globals.collapsedSeriesIndices.indexOf(a)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(a)){s=r[a];break}return s}},{key:"closestInArray",value:function(e,t){for(var r=null,a=Math.abs(e-t[0]),o=0;o<t.length;o++){var l=Math.abs(e-t[o]);l<a&&(a=l,r=o)}return{index:r}}},{key:"isXoverlap",value:function(e){var t=[],s=this.w.globals.seriesX.filter(function(a){return void 0!==a[0]});if(s.length>0)for(var r=0;r<s.length-1;r++)void 0!==s[r][e]&&void 0!==s[r+1][e]&&s[r][e]!==s[r+1][e]&&t.push("unEqual");return 0===t.length}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,s=0;s<t.length-1;s++)if(t[s].data.length!==t[s+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return be(e).reduce(function(t,s){return t+s.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return this.w.globals.dom.baseEl.querySelectorAll("number"==typeof e?".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *"):".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(e=be(e)).sort(function(s,r){var a=Number(s.getAttribute("data:realIndex")),o=Number(r.getAttribute("data:realIndex"));return o<a?1:o>a?-1:0});var t=[];return e.forEach(function(s){t.push(s.querySelector(".apexcharts-marker"))}),t}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,s=t.config.markers.hover.size;return void 0===s&&(s=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),s}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,s=this.ttCtx;0===s.allTooltipSeriesGroups.length&&(s.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var r=s.allTooltipSeriesGroups,a=0;a<r.length;a++)"enable"===e?(r[a].classList.add("apexcharts-active"),r[a].style.display=t.config.tooltip.items.display):(r[a].classList.remove("apexcharts-active"),r[a].style.display="none")}}]),R}(),wi=function(){function R(e){Ce(this,R),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new Gt(e)}return Se(R,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,s=void 0===t||t,r=e.ttItems,a=e.i,o=void 0===a?0:a,l=e.j,u=void 0===l?null:l,w=e.e,k=this.w;void 0!==k.config.tooltip.custom?this.handleCustomTooltip({i:o,j:u,y1:e.y1,y2:e.y2,w:k}):this.toggleActiveInactiveSeries(s);var E=this.getValuesToPrint({i:o,j:u});this.printLabels({i:o,j:u,values:E,ttItems:r,shared:s,e:w});var I=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=I.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=I.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,s=this,r=e.i,a=e.j,o=e.values,l=e.ttItems,u=e.shared,y=e.e,b=this.w,w=[],k=function(L){return b.globals.seriesGoals[L]&&b.globals.seriesGoals[L][a]&&Array.isArray(b.globals.seriesGoals[L][a])},E=o.xVal,I=o.zVal,P=o.xAxisTTVal,B="",U=b.globals.colors[r];null!==a&&b.config.plotOptions.bar.distributed&&(U=b.globals.colors[a]);for(var j=function(L,N){var q=s.getFormatters(r);B=s.getSeriesName({fn:q.yLbTitleFormatter,index:r,seriesIndex:r,j:a}),"treemap"===b.config.chart.type&&(B=q.yLbTitleFormatter(String(b.config.series[r].data[a].x),{series:b.globals.series,seriesIndex:r,dataPointIndex:a,w:b}));var Q=b.config.tooltip.inverseOrder?N:L;if(b.globals.axisCharts){var ne=function(xe){var we,se,Me,Oe;return b.globals.isRangeData?q.yLbFormatter(null===(we=b.globals.seriesRangeStart)||void 0===we||null===(se=we[xe])||void 0===se?void 0:se[a],{series:b.globals.seriesRangeStart,seriesIndex:xe,dataPointIndex:a,w:b})+" - "+q.yLbFormatter(null===(Me=b.globals.seriesRangeEnd)||void 0===Me||null===(Oe=Me[xe])||void 0===Oe?void 0:Oe[a],{series:b.globals.seriesRangeEnd,seriesIndex:xe,dataPointIndex:a,w:b}):q.yLbFormatter(b.globals.series[xe][a],{series:b.globals.series,seriesIndex:xe,dataPointIndex:a,w:b})};if(u)q=s.getFormatters(Q),B=s.getSeriesName({fn:q.yLbTitleFormatter,index:Q,seriesIndex:r,j:a}),U=b.globals.colors[Q],t=ne(Q),k(Q)&&(w=b.globals.seriesGoals[Q][a].map(function(xe){return{attrs:xe,val:q.yLbFormatter(xe.value,{seriesIndex:Q,dataPointIndex:a,w:b})}}));else{var ae,ye=null==y||null===(ae=y.target)||void 0===ae?void 0:ae.getAttribute("fill");ye&&(U=-1!==ye.indexOf("url")?document.querySelector(ye.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):ye),t=ne(r),k(r)&&Array.isArray(b.globals.seriesGoals[r][a])&&(w=b.globals.seriesGoals[r][a].map(function(xe){return{attrs:xe,val:q.yLbFormatter(xe.value,{seriesIndex:r,dataPointIndex:a,w:b})}}))}}null===a&&(t=q.yLbFormatter(b.globals.series[r],ue(ue({},b),{},{seriesIndex:r,dataPointIndex:r}))),s.DOMHandling({i:r,t:Q,j:a,ttItems:l,values:{val:t,goalVals:w,xVal:E,xAxisTTVal:P,zVal:I},seriesName:B,shared:u,pColor:U})},p=0,T=b.globals.series.length-1;p<b.globals.series.length;p++,T--)j(p,T)}},{key:"getFormatters",value:function(e){var t,s=this.w,r=s.globals.yLabelFormatters[e];return void 0!==s.globals.ttVal?Array.isArray(s.globals.ttVal)?(r=s.globals.ttVal[e]&&s.globals.ttVal[e].formatter,t=s.globals.ttVal[e]&&s.globals.ttVal[e].title&&s.globals.ttVal[e].title.formatter):(r=s.globals.ttVal.formatter,"function"==typeof s.globals.ttVal.title.formatter&&(t=s.globals.ttVal.title.formatter)):t=s.config.tooltip.y.title.formatter,"function"!=typeof r&&(r=s.globals.yLabelFormatters[0]?s.globals.yLabelFormatters[0]:function(a){return a}),"function"!=typeof t&&(t=function(a){return a}),{yLbFormatter:r,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var r=e.seriesIndex,a=e.j,o=this.w;return(0,e.fn)(String(o.globals.seriesNames[e.index]),{series:o.globals.series,seriesIndex:r,dataPointIndex:a,w:o})}},{key:"DOMHandling",value:function(e){var t=e.t,s=e.j,r=e.ttItems,a=e.values,o=e.seriesName,l=e.shared,u=e.pColor,y=this.w,b=this.ttCtx,w=a.val,k=a.goalVals,E=a.xVal,I=a.xAxisTTVal,P=a.zVal,B=null;B=r[t].children,y.config.tooltip.fillSeriesColor&&(r[t].style.backgroundColor=u,B[0].style.display="none"),b.showTooltipTitle&&(null===b.tooltipTitle&&(b.tooltipTitle=y.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),b.tooltipTitle.innerHTML=E),b.isXAxisTooltipEnabled&&(b.xaxisTooltipText.innerHTML=""!==I?I:E);var U=r[t].querySelector(".apexcharts-tooltip-text-y-label");U&&(U.innerHTML=o||"");var j=r[t].querySelector(".apexcharts-tooltip-text-y-value");j&&(j.innerHTML=void 0!==w?w:""),B[0]&&B[0].classList.contains("apexcharts-tooltip-marker")&&(y.config.tooltip.marker.fillColors&&Array.isArray(y.config.tooltip.marker.fillColors)&&(u=y.config.tooltip.marker.fillColors[t]),B[0].style.backgroundColor=u),y.config.tooltip.marker.show||(B[0].style.display="none");var p=r[t].querySelector(".apexcharts-tooltip-text-goals-label"),T=r[t].querySelector(".apexcharts-tooltip-text-goals-value");if(k.length&&y.globals.seriesGoals[t]){var L=function(){var N="<div >",q="<div>";k.forEach(function(Q,ne){N+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Q.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Q.attrs.name,"</div>"),q+="<div>".concat(Q.val,"</div>")}),p.innerHTML=N+"</div>",T.innerHTML=q+"</div>"};l?y.globals.seriesGoals[t][s]&&Array.isArray(y.globals.seriesGoals[t][s])?L():(p.innerHTML="",T.innerHTML=""):L()}else p.innerHTML="",T.innerHTML="";null!==P&&(r[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=y.config.tooltip.z.title,r[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==P?P:""),l&&B[0]&&(B[0].parentNode.style.display=null==w||y.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||y.globals.collapsedSeriesIndices.indexOf(t)>-1?"none":y.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(e){var t=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var s=t.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");s&&(s.classList.add("apexcharts-active"),s.style.display=t.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,s=e.j,r=this.w,a=this.ctx.series.filteredSeriesX(),o="",l="",u=null,y=null,b={series:r.globals.series,seriesIndex:t,dataPointIndex:s,w:r},w=r.globals.ttZFormatter;null===s?y=r.globals.series[t]:r.globals.isXNumeric&&"treemap"!==r.config.chart.type?(o=a[t][s],0===a[t].length&&(o=a[this.tooltipUtil.getFirstActiveXArray(a)][s])):o=void 0!==r.globals.labels[s]?r.globals.labels[s]:"";var k=o;return o=r.globals.isXNumeric&&"datetime"===r.config.xaxis.type?new Ae(this.ctx).xLabelFormat(r.globals.ttKeyFormatter,k,k,{i:void 0,dateFormatter:new fe(this.ctx).formatDate,w:this.w}):r.globals.isBarHorizontal?r.globals.yLabelFormatters[0](k,b):r.globals.xLabelFormatter(k,b),void 0!==r.config.tooltip.x.formatter&&(o=r.globals.ttKeyFormatter(k,b)),r.globals.seriesZ.length>0&&r.globals.seriesZ[t].length>0&&(u=w(r.globals.seriesZ[t][s],r)),l="function"==typeof r.config.xaxis.tooltip.formatter?r.globals.xaxisTooltipFormatter(k,b):o,{val:Array.isArray(y)?y.join(" "):y,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(l)?l.join(" "):l,zVal:u}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,s=e.j,r=e.y1,a=e.y2,o=e.w,l=this.ttCtx.getElTooltip(),u=o.config.tooltip.custom;Array.isArray(u)&&u[t]&&(u=u[t]),l.innerHTML=u({ctx:this.ctx,series:o.globals.series,seriesIndex:t,dataPointIndex:s,y1:r,y2:a,w:o})}}]),R}(),Ei=function(){function R(e){Ce(this,R),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return Se(R,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.ttCtx,r=this.w,a=s.getElXCrosshairs(),o=e-s.xcrosshairsWidth/2,l=r.globals.labels.slice().length;if(null!==t&&(o=r.globals.gridWidth/l*t),null===a||r.globals.isBarHorizontal||(a.setAttribute("x",o),a.setAttribute("x1",o),a.setAttribute("x2",o),a.setAttribute("y2",r.globals.gridHeight),a.classList.add("apexcharts-active")),o<0&&(o=0),o>r.globals.gridWidth&&(o=r.globals.gridWidth),s.isXAxisTooltipEnabled){var u=o;"tickWidth"!==r.config.xaxis.crosshairs.width&&"barWidth"!==r.config.xaxis.crosshairs.width||(u=o+s.xcrosshairsWidth/2),this.moveXAxisTooltip(u)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;null!==t.ycrosshairs&&D.setAttrs(t.ycrosshairs,{y1:e,y2:e}),null!==t.ycrosshairsHidden&&D.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;if(null!==s.xaxisTooltip&&0!==s.xcrosshairsWidth){s.xaxisTooltip.classList.add("apexcharts-active");var a,r=s.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;e-=s.xaxisTooltip.getBoundingClientRect().width/2,isNaN(e)||(e+=t.globals.translateX,a=new D(this.ctx).getTextRects(s.xaxisTooltipText.innerHTML),s.xaxisTooltipText.style.minWidth=a.width+"px",s.xaxisTooltip.style.left=e+"px",s.xaxisTooltip.style.top=r+"px")}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;null===s.yaxisTTEls&&(s.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var r=parseInt(s.ycrosshairsHidden.getAttribute("y1"),10),a=t.globals.translateY+r,o=s.yaxisTTEls[e].getBoundingClientRect().height,l=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(l-=26),a-=o/2,-1===t.globals.ignoreYAxisIndexes.indexOf(e)?(s.yaxisTTEls[e].classList.add("apexcharts-active"),s.yaxisTTEls[e].style.top=a+"px",s.yaxisTTEls[e].style.left=l+t.config.yaxis[e].tooltip.offsetX+"px"):s.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.w,a=this.ttCtx,o=a.getElTooltip(),l=a.tooltipRect,u=null!==s?parseFloat(s):1,y=parseFloat(e)+u+5,b=parseFloat(t)+u/2;if(y>r.globals.gridWidth/2&&(y=y-l.ttWidth-u-10),y>r.globals.gridWidth-l.ttWidth-10&&(y=r.globals.gridWidth-l.ttWidth),y<-20&&(y=-20),r.config.tooltip.followCursor){var w=a.getElGrid().getBoundingClientRect();(y=a.e.clientX-w.left)>r.globals.gridWidth/2&&(y-=a.tooltipRect.ttWidth),(b=a.e.clientY+r.globals.translateY-w.top)>r.globals.gridHeight/2&&(b-=a.tooltipRect.ttHeight)}else r.globals.isBarHorizontal||l.ttHeight/2+b>r.globals.gridHeight&&(b=r.globals.gridHeight-l.ttHeight+r.globals.translateY);isNaN(y)||(o.style.left=(y+=r.globals.translateX)+"px",o.style.top=b+"px")}},{key:"moveMarkers",value:function(e,t){var s=this.w,r=this.ttCtx;if(s.globals.markers.size[e]>0)for(var a=s.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),o=0;o<a.length;o++)parseInt(a[o].getAttribute("rel"),10)===t&&(r.marker.resetPointsSize(),r.marker.enlargeCurrentPoint(t,a[o]));else r.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var s,r,a=this.w,o=this.ttCtx,l=a.globals.pointsArray,u=o.tooltipUtil.getHoverMarkerSize(t),y=a.config.series[t].type;if(!y||"column"!==y&&"candlestick"!==y&&"boxPlot"!==y){s=l[t][e][0],r=l[t][e][1]?l[t][e][1]:0;var b=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers circle"));b&&r<a.globals.gridHeight&&r>0&&(b.setAttribute("r",u),b.setAttribute("cx",s),b.setAttribute("cy",r)),this.moveXCrosshairs(s),o.fixedTooltip||this.moveTooltip(s,r,u)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,s=this.ttCtx,r=s.w,a=0,o=0,l=r.globals.pointsArray;t=new We(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=s.tooltipUtil.getHoverMarkerSize(t);l[t]&&(a=l[t][e][0],o=l[t][e][1]);var y=s.tooltipUtil.getAllMarkers();if(null!==y)for(var b=0;b<r.globals.series.length;b++){var w=l[b];if(r.globals.comboCharts&&void 0===w&&y.splice(b,0,null),w&&w.length){var k=l[b][e][1];y[b].setAttribute("cx",a),"rangeArea"!==r.config.chart.type||r.globals.comboCharts||(k-=Math.abs(k-l[b][e+r.globals.series[b].length][1])/2),null!==k&&!isNaN(k)&&k<r.globals.gridHeight+u&&k+u>0?(y[b]&&y[b].setAttribute("r",u),y[b]&&y[b].setAttribute("cy",k)):y[b]&&y[b].setAttribute("r",0)}}this.moveXCrosshairs(a),s.fixedTooltip||this.moveTooltip(a,o||r.globals.gridHeight,u)}},{key:"moveStickyTooltipOverBars",value:function(e,t){var s=this.w,r=this.ttCtx,a=s.globals.columnSeries?s.globals.columnSeries.length:s.globals.series.length,o=a>=2&&a%2==0?Math.floor(a/2):Math.floor(a/2)+1;s.globals.isBarHorizontal&&(o=new We(this.ctx).getActiveConfigSeriesIndex("desc")+1);var l=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"']"));l||"number"!=typeof t||(l=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"']")));var u=l?parseFloat(l.getAttribute("cx")):0,y=l?parseFloat(l.getAttribute("cy")):0,b=l?parseFloat(l.getAttribute("barWidth")):0,w=r.getElGrid().getBoundingClientRect(),k=l&&(l.classList.contains("apexcharts-candlestick-area")||l.classList.contains("apexcharts-boxPlot-area"));s.globals.isXNumeric?(l&&!k&&(u-=a%2!=0?b/2:0),l&&k&&s.globals.comboCharts&&(u-=b/2)):s.globals.isBarHorizontal||(u=r.xAxisTicksPositions[e-1]+r.dataPointsDividedWidth/2,isNaN(u)&&(u=r.xAxisTicksPositions[e]-r.dataPointsDividedWidth/2)),s.globals.isBarHorizontal?y-=r.tooltipRect.ttHeight:s.config.tooltip.followCursor?y=r.e.clientY-w.top-r.tooltipRect.ttHeight/2:y+r.tooltipRect.ttHeight+15>s.globals.gridHeight&&(y=s.globals.gridHeight),s.globals.isBarHorizontal||this.moveXCrosshairs(u),r.fixedTooltip||this.moveTooltip(u,y||s.globals.gridHeight)}}]),R}(),_i=function(){function R(e){Ce(this,R),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new Ei(e)}return Se(R,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new D(this.ctx),s=new qe(this.ctx),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");r=be(r),e.config.chart.stacked&&r.sort(function(w,k){return parseFloat(w.getAttribute("data:realIndex"))-parseFloat(k.getAttribute("data:realIndex"))});for(var a=0;a<r.length;a++){var o=r[a].querySelector(".apexcharts-series-markers-wrap");if(null!==o){var l=void 0,u="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==e.config.chart.type&&"area"!==e.config.chart.type||e.globals.comboCharts||e.config.tooltip.intersect||(u+=" no-pointer-events");var y=s.getMarkerConfig({cssClass:u,seriesIndex:Number(o.getAttribute("data:realIndex"))});(l=t.drawMarker(0,0,y)).node.setAttribute("default-marker-size",0);var b=document.createElementNS(e.globals.SVGNS,"g");b.classList.add("apexcharts-series-markers"),b.appendChild(l.node),o.appendChild(b)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w;"bubble"!==a.config.chart.type&&this.newPointSize(e,t);var o=t.getAttribute("cx"),l=t.getAttribute("cy");if(null!==s&&null!==r&&(o=s,l=r),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if("radar"===a.config.chart.type){var u=this.ttCtx.getElGrid().getBoundingClientRect();o=this.ttCtx.e.clientX-u.left}this.tooltipPosition.moveTooltip(o,l,a.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,s=this,r=this.ttCtx,a=e,o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=t.config.markers.hover.size,u=0;u<o.length;u++){var y=o[u].getAttribute("rel"),b=o[u].getAttribute("index");if(void 0===l&&(l=t.globals.markers.size[b]+t.config.markers.hover.sizeOffset),a===parseInt(y,10)){s.newPointSize(a,o[u]);var w=o[u].getAttribute("cx"),k=o[u].getAttribute("cy");s.tooltipPosition.moveXCrosshairs(w),r.fixedTooltip||s.tooltipPosition.moveTooltip(w,k,l)}else s.oldPointSize(o[u])}}},{key:"newPointSize",value:function(e,t){var s=this.w,r=s.config.markers.hover.size,a=0===e?t.parentNode.firstChild:t.parentNode.lastChild;if("0"!==a.getAttribute("default-marker-size")){var o=parseInt(a.getAttribute("index"),10);void 0===r&&(r=s.globals.markers.size[o]+s.config.markers.hover.sizeOffset),r<0&&(r=0),a.setAttribute("r",r)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size"));e.setAttribute("r",t)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var s=parseFloat(e[t].getAttribute("default-marker-size"));f.isNumber(s)&&s>=0?e[t].setAttribute("r",s):e[t].setAttribute("r",0)}}}]),R}(),rt=function(){function R(e){Ce(this,R),this.w=e.w,this.ttCtx=e}return Se(R,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,s=e.opt,r=e.x,a=e.y,l=this.ttCtx,u=this.w;if(t.target.classList.contains("apexcharts-".concat(e.type,"-rect"))){var y=this.getAttr(t,"i"),b=this.getAttr(t,"j"),w=this.getAttr(t,"cx"),k=this.getAttr(t,"cy"),E=this.getAttr(t,"width"),I=this.getAttr(t,"height");if(l.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:y,j:b,shared:!1,e:t}),u.globals.capturedSeriesIndex=y,u.globals.capturedDataPointIndex=b,r=w+l.tooltipRect.ttWidth/2+E,a=k+l.tooltipRect.ttHeight/2-I/2,l.tooltipPosition.moveXCrosshairs(w+E/2),r>u.globals.gridWidth/2&&(r=w-l.tooltipRect.ttWidth/2+E),l.w.config.tooltip.followCursor){var P=u.globals.dom.elWrap.getBoundingClientRect();r=u.globals.clientX-P.left-(r>u.globals.gridWidth/2?l.tooltipRect.ttWidth:0),a=u.globals.clientY-P.top-(a>u.globals.gridHeight/2?l.tooltipRect.ttHeight:0)}}return{x:r,y:a}}},{key:"handleMarkerTooltip",value:function(e){var t,s,r=e.e,a=e.opt,o=e.x,l=e.y,u=this.w,y=this.ttCtx;if(r.target.classList.contains("apexcharts-marker")){var b=parseInt(a.paths.getAttribute("cx"),10),w=parseInt(a.paths.getAttribute("cy"),10),k=parseFloat(a.paths.getAttribute("val"));if(s=parseInt(a.paths.getAttribute("rel"),10),t=parseInt(a.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,y.intersect){var E=f.findAncestor(a.paths,"apexcharts-series");E&&(t=parseInt(E.getAttribute("data:realIndex"),10))}if(y.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:t,j:s,shared:!y.showOnIntersect&&u.config.tooltip.shared,e:r}),"mouseup"===r.type&&y.markerClick(r,t,s),u.globals.capturedSeriesIndex=t,u.globals.capturedDataPointIndex=s,o=b,l=w+u.globals.translateY-1.4*y.tooltipRect.ttHeight,y.w.config.tooltip.followCursor){var I=y.getElGrid().getBoundingClientRect();l=y.e.clientY+u.globals.translateY-I.top}k<0&&(l=w),y.marker.enlargeCurrentPoint(s,a.paths,o,l)}return{x:o,y:l}}},{key:"handleBarTooltip",value:function(e){var t,s,r=e.e,a=e.opt,o=this.w,l=this.ttCtx,u=l.getElTooltip(),y=0,b=0,w=0,k=this.getBarTooltipXY({e:r,opt:a}),E=k.barHeight,I=k.j;o.globals.capturedSeriesIndex=t=k.i,o.globals.capturedDataPointIndex=I,o.globals.isBarHorizontal&&l.tooltipUtil.hasBars()||!o.config.tooltip.shared?(b=k.x,w=k.y,s=Array.isArray(o.config.stroke.width)?o.config.stroke.width[t]:o.config.stroke.width,y=b):o.globals.comboCharts||o.config.tooltip.shared||(y/=2),isNaN(w)&&(w=o.globals.svgHeight-l.tooltipRect.ttHeight);var P=parseInt(a.paths.parentNode.getAttribute("data:realIndex"),10),B=o.globals.isMultipleYAxis?o.config.yaxis[P]&&o.config.yaxis[P].reversed:o.config.yaxis[0].reversed;if(b+l.tooltipRect.ttWidth>o.globals.gridWidth&&!B?b-=l.tooltipRect.ttWidth:b<0&&(b=0),l.w.config.tooltip.followCursor){var U=l.getElGrid().getBoundingClientRect();w=l.e.clientY-U.top}null===l.tooltip&&(l.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||l.tooltipPosition.moveXCrosshairs(o.globals.comboBarCount>0?y+s/2:y),!l.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&l.tooltipUtil.hasBars())&&(B&&(b-=l.tooltipRect.ttWidth)<0&&(b=0),!B||o.globals.isBarHorizontal&&l.tooltipUtil.hasBars()||(w=w+E-2*(o.globals.series[t][I]<0?E:0)),w=w+o.globals.translateY-l.tooltipRect.ttHeight/2,u.style.left=b+o.globals.translateX+"px",u.style.top=w+"px")}},{key:"getBarTooltipXY",value:function(e){var t=e.e,s=e.opt,r=this.w,a=null,o=this.ttCtx,l=0,u=0,y=0,b=0,w=0,k=t.target.classList;if(k.contains("apexcharts-bar-area")||k.contains("apexcharts-candlestick-area")||k.contains("apexcharts-boxPlot-area")||k.contains("apexcharts-rangebar-area")){var E=t.target,I=E.getBoundingClientRect(),P=s.elGrid.getBoundingClientRect(),B=I.height;w=I.height;var U=I.width,j=parseInt(E.getAttribute("cx"),10),p=parseInt(E.getAttribute("cy"),10);b=parseFloat(E.getAttribute("barWidth"));var T="touchmove"===t.type?t.touches[0].clientX:t.clientX;a=parseInt(E.getAttribute("j"),10),l=parseInt(E.parentNode.getAttribute("rel"),10)-1;var L=E.getAttribute("data-range-y1"),N=E.getAttribute("data-range-y2");r.globals.comboCharts&&(l=parseInt(E.parentNode.getAttribute("data:realIndex"),10)),o.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:l,j:a,y1:L?parseInt(L,10):null,y2:N?parseInt(N,10):null,shared:!o.showOnIntersect&&r.config.tooltip.shared,e:t}),r.config.tooltip.followCursor?r.globals.isBarHorizontal?(u=T-P.left+15,y=p-o.dataPointsDividedHeight+B/2-o.tooltipRect.ttHeight/2):(u=r.globals.isXNumeric?j-U/2:j-o.dataPointsDividedWidth+U/2,y=t.clientY-P.top-o.tooltipRect.ttHeight/2-15):r.globals.isBarHorizontal?((u=j)<o.xyRatios.baseLineInvertedY&&(u=j-o.tooltipRect.ttWidth),y=p-o.dataPointsDividedHeight+B/2-o.tooltipRect.ttHeight/2):(u=r.globals.isXNumeric?j-U/2:j-o.dataPointsDividedWidth+U/2,y=p)}return{x:u,y,barHeight:w,barWidth:b,i:l,j:a}}}]),R}(),li=function(){function R(e){Ce(this,R),this.w=e.w,this.ttCtx=e}return Se(R,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,s="bottom"===e.config.xaxis.position;t.xaxisOffY=s?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var r=s?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",a=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&null===e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,s=function(a){var o=e.config.yaxis[a].opposite||e.config.yaxis[a].crosshairs.opposite;t.yaxisOffX=o?e.globals.gridWidth+1:1;var l="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(a,o?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");e.globals.yAxisSameScaleIndices.map(function(y,b){y.map(function(w,k){k===a&&(l+=e.config.yaxis[k].show?" ":" apexcharts-yaxistooltip-hidden")})});var u=e.globals.dom.elWrap;null===e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(a))&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",l+" apexcharts-theme-"+e.config.tooltip.theme),u.appendChild(t.yaxisTooltip),0===a&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[a]=document.createElement("div"),t.yaxisTooltipText[a].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[a]))},r=0;r<e.config.yaxis.length;r++)s(r)}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,s=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var r=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==r&&"barWidth"===e.config.xaxis.crosshairs.width){var a=parseFloat(r.getAttribute("barWidth"));t.xcrosshairsWidth=a}else"tickWidth"===e.config.xaxis.crosshairs.width&&(t.xcrosshairsWidth=e.globals.gridWidth/e.globals.labels.length)}else if("tickWidth"===e.config.xaxis.crosshairs.width)t.xcrosshairsWidth=e.globals.gridWidth/e.globals.labels.length;else if("barWidth"===e.config.xaxis.crosshairs.width){var u=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==u){var y=parseFloat(u.getAttribute("barWidth"));t.xcrosshairsWidth=y}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),null!==s&&t.xcrosshairsWidth>0&&s.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,s){var r=this.ttCtx,a=this.w,o=a.globals.yLabelFormatters[e];if(r.yaxisTooltips[e]){var l=r.getElGrid().getBoundingClientRect(),b=a.globals.minYArr[e]+(a.globals.maxYArr[e]-a.globals.minYArr[e]-(t-l.top)*s.yRatio[e]);r.tooltipPosition.moveYCrosshairs(t-l.top),r.yaxisTooltipText[e].innerHTML=o(b),r.tooltipPosition.moveYAxisTooltip(e)}}}]),R}(),_t=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new Gt(this),this.tooltipLabels=new wi(this),this.tooltipPosition=new Ei(this),this.marker=new _i(this),this.intersect=new rt(this),this.axesTooltip=new li(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return Se(R,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(o,l){return!!(o.show&&o.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var s=document.createElement("div");if(s.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&s.classList.add(t.config.tooltip.cssClass),s.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(s),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var r=new Rt(this.ctx);this.xAxisTicksPositions=r.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==t.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==t.config.markers.size&&0!==t.globals.markers.largestSize||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,s.appendChild(this.tooltipTitle));var a=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(a=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(a),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,s=this.w,r=[],a=this.getElTooltip(),o=function(u){var y=document.createElement("div");y.classList.add("apexcharts-tooltip-series-group"),y.style.order=s.config.tooltip.inverseOrder?e-u:u+1,t.tConfig.shared&&t.tConfig.enabledOnSeries&&Array.isArray(t.tConfig.enabledOnSeries)&&t.tConfig.enabledOnSeries.indexOf(u)<0&&y.classList.add("apexcharts-tooltip-series-group-hidden");var b=document.createElement("span");b.classList.add("apexcharts-tooltip-marker"),b.style.backgroundColor=s.globals.colors[u],y.appendChild(b);var w=document.createElement("div");w.classList.add("apexcharts-tooltip-text"),w.style.fontFamily=t.tConfig.style.fontFamily||s.config.chart.fontFamily,w.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(k){var E=document.createElement("div");E.classList.add("apexcharts-tooltip-".concat(k,"-group"));var I=document.createElement("span");I.classList.add("apexcharts-tooltip-text-".concat(k,"-label")),E.appendChild(I);var P=document.createElement("span");P.classList.add("apexcharts-tooltip-text-".concat(k,"-value")),E.appendChild(P),w.appendChild(E)}),y.appendChild(w),a.appendChild(y),r.push(y)},l=0;l<e;l++)o(l);return r}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,s=this.getElTooltip(),r=!("bar"!==t&&"candlestick"!==t&&"boxPlot"!==t&&"rangeBar"!==t),a="area"===t||"line"===t||"scatter"===t||"bubble"===t||"radar"===t,o=e.globals.dom.Paper.node,l=this.getElGrid();l&&(this.seriesBound=l.getBoundingClientRect());var u,y=[],b=[],w={hoverArea:o,elGrid:l,tooltipEl:s,tooltipY:y,tooltipX:b,ttItems:this.ttItems};if(e.globals.axisCharts&&(a?u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):r?u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==t&&"treemap"!==t||(u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),u&&u.length))for(var k=0;k<u.length;k++)y.push(u[k].getAttribute("cy")),b.push(u[k].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||r&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],w);else if(r&&!e.globals.comboCharts||a&&this.showOnIntersect)this.addDatapointEventsListeners(w);else if(!e.globals.axisCharts||"heatmap"===t||"treemap"===t){var E=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(E,w)}if(this.showOnIntersect){var I=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");I.length>0&&this.addPathsEventListeners(I,w),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(w)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),s=t.getBoundingClientRect(),r=s.width+10,a=s.height+10,o=this.tConfig.fixed.offsetX,l=this.tConfig.fixed.offsetY,u=this.tConfig.fixed.position.toLowerCase();return u.indexOf("right")>-1&&(o=o+e.globals.svgWidth-r+10),u.indexOf("bottom")>-1&&(l=l+e.globals.svgHeight-a-10),t.style.left=o+"px",t.style.top=l+"px",{x:o,y:l,ttWidth:r,ttHeight:a}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var s=this,r=function(o){var l={paths:e[o],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(u){return e[o].addEventListener(u,s.onSeriesHover.bind(s,l),{capture:!1,passive:!0})})},a=0;a<e.length;a++)r(a)}},{key:"onSeriesHover",value:function(e,t){var s=this,r=Date.now()-this.lastHoverTime;r>=100?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){s.seriesHover(e,t)},100-r))}},{key:"seriesHover",value:function(e,t){var s=this;this.lastHoverTime=Date.now();var r=[],a=this.w;a.config.chart.group&&(r=this.ctx.getGroupedCharts()),a.globals.axisCharts&&(a.globals.minX===-1/0&&a.globals.maxX===1/0||0===a.globals.dataPoints)||(r.length?r.forEach(function(o){var l=s.getElTooltip(o);o.w.globals.minX===s.w.globals.minX&&o.w.globals.maxX===s.w.globals.maxX&&o.w.globals.tooltip.seriesHoverByContext({chartCtx:o,ttCtx:o.w.globals.tooltip,opt:{paths:e.paths,tooltipEl:l,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:o.w.globals.tooltip.ttItems},e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,s=e.ttCtx,r=e.opt,a=e.e,o=t.w,l=this.getElTooltip();l&&(s.tooltipRect={x:0,y:0,ttWidth:l.getBoundingClientRect().width,ttHeight:l.getBoundingClientRect().height},s.e=a,s.tooltipUtil.hasBars()&&!o.globals.comboCharts&&!s.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new We(t).toggleSeriesOnHover(a,a.target.parentNode),s.fixedTooltip&&s.drawFixedTooltipRect(),o.globals.axisCharts?s.axisChartsTooltips({e:a,opt:r,tooltipRect:s.tooltipRect}):s.nonAxisChartsTooltips({e:a,opt:r,tooltipRect:s.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,s,r=e.e,a=e.opt,o=this.w,l=a.elGrid.getBoundingClientRect(),u="touchmove"===r.type?r.touches[0].clientX:r.clientX,y="touchmove"===r.type?r.touches[0].clientY:r.clientY;if(this.clientY=y,this.clientX=u,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,y<l.top||y>l.top+l.height)this.handleMouseOut(a);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var b=parseInt(a.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(b)<0)return void this.handleMouseOut(a)}var w=this.getElTooltip(),k=this.getElXCrosshairs(),E=o.globals.xyCharts||"bar"===o.config.chart.type&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===r.type||"touchmove"===r.type||"mouseup"===r.type){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;null!==k&&k.classList.add("apexcharts-active");var I=this.yaxisTooltips.filter(function(U){return!0===U});if(null!==this.ycrosshairs&&I.length&&this.ycrosshairs.classList.add("apexcharts-active"),E&&!this.showOnIntersect)this.handleStickyTooltip(r,u,y,a);else if("heatmap"===o.config.chart.type||"treemap"===o.config.chart.type){var P=this.intersect.handleHeatTreeTooltip({e:r,opt:a,x:t,y:s,type:o.config.chart.type});s=P.y,w.style.left=(t=P.x)+"px",w.style.top=s+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:r,opt:a}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:r,opt:a,x:t,y:s});if(this.yaxisTooltips.length)for(var B=0;B<o.config.yaxis.length;B++)this.axesTooltip.drawYaxisTooltipText(B,y,this.xyRatios);a.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==r.type&&"touchend"!==r.type||this.handleMouseOut(a)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,s=e.opt,r=e.tooltipRect,a=this.w,o=s.paths.getAttribute("rel"),l=this.getElTooltip(),u=a.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===t.type||"touchmove"===t.type){l.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:parseInt(o,10)-1,shared:!1});var b=a.globals.clientY-u.top-r.ttHeight-10;if(l.style.left=a.globals.clientX-u.left-r.ttWidth/2+"px",l.style.top=b+"px",a.config.legend.tooltipHoverFormatter){var w=o-1,k=(0,a.config.legend.tooltipHoverFormatter)(this.legendLabels[w].getAttribute("data:default-text"),{seriesIndex:w,dataPointIndex:w,w:a});this.legendLabels[w].innerHTML=k}}else"mouseout"!==t.type&&"touchend"!==t.type||(l.classList.remove("apexcharts-active"),a.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(E){var I=E.getAttribute("data:default-text");E.innerHTML=decodeURIComponent(I)}))}},{key:"handleStickyTooltip",value:function(e,t,s,r){var a=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:r.hoverArea,elGrid:r.elGrid,clientX:t,clientY:s}),l=o.j,u=o.capturedSeries;a.globals.collapsedSeriesIndices.includes(u)&&(u=null);var y=r.elGrid.getBoundingClientRect();if(o.hoverX<0||o.hoverX>y.width)this.handleMouseOut(r);else if(null!==u)this.handleStickyCapturedSeries(e,u,r,l);else if(this.tooltipUtil.isXoverlap(l)||a.globals.isBarHorizontal){var b=a.globals.series.findIndex(function(w,k){return!a.globals.collapsedSeriesIndices.includes(k)});this.create(e,this,b,l,r.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,s,r){var a=this.w;if(this.tConfig.shared||null!==a.globals.series[t][r]){if(void 0!==a.globals.series[t][r])this.tConfig.shared&&this.tooltipUtil.isXoverlap(r)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,r,s.ttItems):this.create(e,this,t,r,s.ttItems,!1);else if(this.tooltipUtil.isXoverlap(r)){var o=a.globals.series.findIndex(function(l,u){return!a.globals.collapsedSeriesIndices.includes(u)});this.create(e,this,o,r,s.ttItems)}}else this.handleMouseOut(s)}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new D(this.ctx),s=e.globals.dom.Paper.select(".apexcharts-bar-area"),r=0;r<s.length;r++)t.pathMouseLeave(s[r])}},{key:"handleMouseOut",value:function(e){var t=this.w,s=this.getElXCrosshairs();if(e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==t.config.chart.type&&this.marker.resetPointsSize(),null!==s&&s.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var r=0;r<this.yaxisTTEls.length;r++)this.yaxisTTEls[r].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(a){var o=a.getAttribute("data:default-text");a.innerHTML=decodeURIComponent(o)})}},{key:"markerClick",value:function(e,t,s){var r=this.w;"function"==typeof r.config.chart.events.markerClick&&r.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:r}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:r}])}},{key:"create",value:function(e,t,s,r,a){var o,l,u,y,b,w,k,E,I,P,B,U,j,p,T,L,N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,q=this.w,Q=t;"mouseup"===e.type&&this.markerClick(e,s,r),null===N&&(N=this.tConfig.shared);var ne=this.tooltipUtil.hasMarkers(s),ae=this.tooltipUtil.getElBars();if(q.config.legend.tooltipHoverFormatter){var ye=q.config.legend.tooltipHoverFormatter,xe=Array.from(this.legendLabels);xe.forEach(function(ii){var Et=ii.getAttribute("data:default-text");ii.innerHTML=decodeURIComponent(Et)});for(var we=0;we<xe.length;we++){var se=xe[we],Me=parseInt(se.getAttribute("i"),10),Oe=decodeURIComponent(se.getAttribute("data:default-text")),Ue=ye(Oe,{seriesIndex:N?Me:s,dataPointIndex:r,w:q});if(N)se.innerHTML=q.globals.collapsedSeriesIndices.indexOf(Me)<0?Ue:Oe;else if(se.innerHTML=Me===s?Ue:Oe,s===Me)break}}var je=ue(ue({ttItems:a,i:s,j:r},void 0!==(null===(o=q.globals.seriesRange)||void 0===o||null===(l=o[s])||void 0===l||null===(u=l[r])||void 0===u||null===(y=u.y[0])||void 0===y?void 0:y.y1)&&{y1:null===(b=q.globals.seriesRange)||void 0===b||null===(w=b[s])||void 0===w||null===(k=w[r])||void 0===k||null===(E=k.y[0])||void 0===E?void 0:E.y1}),void 0!==(null===(I=q.globals.seriesRange)||void 0===I||null===(P=I[s])||void 0===P||null===(B=P[r])||void 0===B||null===(U=B.y[0])||void 0===U?void 0:U.y2)&&{y2:null===(j=q.globals.seriesRange)||void 0===j||null===(p=j[s])||void 0===p||null===(T=p[r])||void 0===T||null===(L=T.y[0])||void 0===L?void 0:L.y2});if(N){if(Q.tooltipLabels.drawSeriesTexts(ue(ue({},je),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),ne)q.globals.markers.largestSize>0?Q.marker.enlargePoints(r):Q.tooltipPosition.moveDynamicPointsOnHover(r);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(ae),this.barSeriesHeight>0)){var mt=new D(this.ctx),dt=q.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(r,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(r,s);for(var bt=0;bt<dt.length;bt++)mt.pathMouseEnter(dt[bt])}}else Q.tooltipLabels.drawSeriesTexts(ue({shared:!1},je)),this.tooltipUtil.hasBars()&&Q.tooltipPosition.moveStickyTooltipOverBars(r,s),ne&&Q.tooltipPosition.moveMarkers(s,r)}}]),R}(),Ui=function(){function R(e){Ce(this,R),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return Se(R,[{key:"handleBarDataLabels",value:function(e){var t=e.x,s=e.y,r=e.y1,a=e.y2,o=e.i,l=e.j,u=e.realIndex,y=e.groupIndex,b=e.series,w=e.barHeight,k=e.barWidth,E=e.barYPosition,I=e.visibleSeries,P=e.renderedPath,B=this.w,U=new D(this.barCtx.ctx),j=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth,p=t+parseFloat(k*I),T=s+parseFloat(w*I);B.globals.isXNumeric&&!B.globals.isBarHorizontal&&(p=t+parseFloat(k*(I+1)),T=s+parseFloat(w*(I+1))-j);var L,ne,N=null,q=t,Q=s,ae=B.config.dataLabels,ye=this.barCtx.barOptions.dataLabels,xe=this.barCtx.barOptions.dataLabels.total;void 0!==E&&this.barCtx.isRangeBar&&(T=E,Q=E);var we=ae.offsetX,se=ae.offsetY,Me={width:0,height:0};B.config.dataLabels.enabled&&(Me=U.getTextRects(B.globals.yLabelFormatters[0](this.barCtx.series[o][l]),parseFloat(ae.style.fontSize)));var Ue={x:t,y:s,i:o,j:l,realIndex:u,groupIndex:y||-1,renderedPath:P,bcx:p,bcy:T,barHeight:w,barWidth:k,textRects:Me,strokeWidth:j,dataLabelsX:q,dataLabelsY:Q,dataLabelsConfig:ae,barDataLabelsConfig:ye,barTotalDataLabelsConfig:xe,offX:we,offY:se};return ne=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Ue):this.calculateColumnsDataLabelsPosition(Ue),P.attr({cy:ne.bcy,cx:ne.bcx,j:l,val:b[o][l],barHeight:w,barWidth:k}),L=this.drawCalculatedDataLabels({x:ne.dataLabelsX,y:ne.dataLabelsY,val:this.barCtx.isRangeBar?[r,a]:b[o][l],i:u,j:l,barWidth:k,barHeight:w,textRects:Me,dataLabelsConfig:ae}),B.config.chart.stacked&&xe.enabled&&(N=this.drawTotalDataLabels({x:ne.totalDataLabelsX,y:ne.totalDataLabelsY,realIndex:u,textAnchor:ne.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:l}),dataLabelsConfig:ae,barTotalDataLabelsConfig:xe})),{dataLabels:L,totalDataLabels:N}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,s=e.j,r=this.w,a=this.barCtx.stackedSeriesTotals[s];return this.totalFormatter&&(a=this.totalFormatter(a,ue(ue({},r),{},{seriesIndex:t,dataPointIndex:s,w:r}))),a}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t,s,r,a=this.w,o=e.i,l=e.j,u=e.realIndex,y=e.groupIndex,b=e.y,w=e.bcx,k=e.barWidth,E=e.barHeight,I=e.textRects,P=e.dataLabelsY,B=e.dataLabelsConfig,U=e.barDataLabelsConfig,j=e.barTotalDataLabelsConfig,p=e.strokeWidth,T=e.offX,L=e.offY;E=Math.abs(E);var N="vertical"===a.config.plotOptions.bar.dataLabels.orientation;w=w-p/2+(-1!==y?y*k:0),t=a.globals.isXNumeric?w-k/2+T:w-a.globals.gridWidth/a.globals.dataPoints+k/2+T,N&&(t=t+I.height/2-p/2-2);var Q=this.barCtx.series[o][l]<0,ne=b;switch(this.barCtx.isReversed&&(ne=b-E+(Q?2*E:0),b-=E),U.position){case"center":P=N?Q?ne+E/2+L:ne+E/2-L:Q?ne-E/2+I.height/2+L:ne+E/2+I.height/2-L;break;case"bottom":P=N?Q?ne+E+L:ne+E-L:Q?ne-E+I.height+p+L:ne+E-I.height/2+p-L;break;case"top":P=N?Q?ne+L:ne-L:Q?ne-I.height/2-L:ne+I.height+L}if(this.barCtx.lastActiveBarSerieIndex===u&&j.enabled){var ae=new D(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:u,j:l}),B.fontSize);s=Q?ne-ae.height/2-L-j.offsetY+18:ne+ae.height+L+j.offsetY-18,r=t+j.offsetX}return a.config.chart.stacked||(P<0?P=0+p:P+I.height/3>a.globals.gridHeight&&(P=a.globals.gridHeight-p)),{bcx:w,bcy:b,dataLabelsX:t,dataLabelsY:P,totalDataLabelsX:r,totalDataLabelsY:s,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this.w,s=e.x,r=e.i,a=e.j,o=e.realIndex,l=e.groupIndex,u=e.bcy,y=e.barHeight,b=e.barWidth,w=e.textRects,k=e.dataLabelsX,E=e.strokeWidth,I=e.dataLabelsConfig,P=e.barDataLabelsConfig,B=e.barTotalDataLabelsConfig,U=e.offX,j=e.offY,p=t.globals.gridHeight/t.globals.dataPoints;b=Math.abs(b);var T,L,N=(u+=-1!==l?l*y:0)-(this.barCtx.isRangeBar?0:p)+y/2+w.height/2+j-3,q="start",Q=this.barCtx.series[r][a]<0,ne=s;switch(this.barCtx.isReversed&&(ne=s+b-(Q?2*b:0),s=t.globals.gridWidth-b),P.position){case"center":k=Q?ne+b/2-U:Math.max(w.width/2,ne-b/2)+U;break;case"bottom":k=Q?ne+b-E-Math.round(w.width/2)-U:ne-b+E+Math.round(w.width/2)+U;break;case"top":k=Q?ne-E+Math.round(w.width/2)-U:ne-E-Math.round(w.width/2)+U}if(this.barCtx.lastActiveBarSerieIndex===o&&B.enabled){var ae=new D(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:a}),I.fontSize);Q?(T=ne-E+Math.round(ae.width/2)-U-B.offsetX-15,q="end"):T=ne-E-Math.round(ae.width/2)+U+B.offsetX+15,L=N+B.offsetY}return t.config.chart.stacked||(k<0?k=k+w.width+E:k+w.width/2>t.globals.gridWidth&&(k=t.globals.gridWidth-w.width-E)),{bcx:s,bcy:u,dataLabelsX:k,dataLabelsY:N,totalDataLabelsX:T,totalDataLabelsY:L,totalDataLabelsAnchor:q}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,s=e.y,r=e.val,a=e.i,o=e.j,l=e.textRects,u=e.barHeight,y=e.barWidth,b=e.dataLabelsConfig,w=this.w,k="rotate(0)";"vertical"===w.config.plotOptions.bar.dataLabels.orientation&&(k="rotate(-90, ".concat(t,", ").concat(s,")"));var E=new at(this.barCtx.ctx),I=new D(this.barCtx.ctx),P=b.formatter,B=null,U=w.globals.collapsedSeriesIndices.indexOf(a)>-1;if(b.enabled&&!U){B=I.group({class:"apexcharts-data-labels",transform:k});var j="";void 0!==r&&(j=P(r,ue(ue({},w),{},{seriesIndex:a,dataPointIndex:o,w}))),!r&&w.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(j="");var p=w.globals.series[a][o]<0,T=w.config.plotOptions.bar.dataLabels.position;"vertical"===w.config.plotOptions.bar.dataLabels.orientation&&("top"===T&&(b.textAnchor=p?"end":"start"),"center"===T&&(b.textAnchor="middle"),"bottom"===T&&(b.textAnchor=p?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&y<I.getTextRects(j,parseFloat(b.style.fontSize)).width&&(j=""),w.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?l.width/1.6>Math.abs(y)&&(j=""):l.height/1.6>Math.abs(u)&&(j=""));var L=ue({},b);this.barCtx.isHorizontal&&r<0&&("start"===b.textAnchor?L.textAnchor="end":"end"===b.textAnchor&&(L.textAnchor="start")),E.plotDataLabelsText({x:t,y:s,text:j,i:a,j:o,parent:B,dataLabelsConfig:L,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return B}},{key:"drawTotalDataLabels",value:function(e){var t,s=e.x,r=e.y,a=e.val,o=e.realIndex,l=e.textAnchor,u=e.barTotalDataLabelsConfig,y=new D(this.barCtx.ctx);return u.enabled&&void 0!==s&&void 0!==r&&this.barCtx.lastActiveBarSerieIndex===o&&(t=y.drawText({x:s,y:r,foreColor:u.style.color,text:a,textAnchor:l,fontFamily:u.style.fontFamily,fontSize:u.style.fontSize,fontWeight:u.style.fontWeight})),t}}]),R}(),Zi=function(){function R(e){Ce(this,R),this.w=e.w,this.barCtx=e}return Se(R,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var s=0;s<e.length;s++)if(e[s].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[s].length),t.globals.isXNumeric)for(var r=0;r<e[s].length;r++)t.globals.seriesX[s][r]>t.globals.minX&&t.globals.seriesX[s][r]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(){var e,t,s,r,a,o,l,u,y=this.w,b=y.globals.dataPoints;this.barCtx.isRangeBar&&(b=y.globals.labels.length);var w=this.barCtx.seriesLen;if(y.config.plotOptions.bar.rangeBarGroupRows&&(w=1),this.barCtx.isHorizontal)a=(s=y.globals.gridHeight/b)/w,y.globals.isXNumeric&&(a=(s=y.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(a=parseInt(this.barCtx.barOptions.barHeight,10)),u=this.barCtx.baseLineInvertedY+y.globals.padHorizontal+(this.barCtx.isReversed?y.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),t=(s-a*this.barCtx.seriesLen)/2;else{if(r=y.globals.gridWidth/this.barCtx.visibleItems,y.config.xaxis.convertedCatToNumeric&&(r=y.globals.gridWidth/y.globals.dataPoints),o=r/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,y.globals.isXNumeric){var k=this.barCtx.xRatio;y.config.xaxis.convertedCatToNumeric&&(k=this.barCtx.initialXRatio),y.globals.minXDiff&&.5!==y.globals.minXDiff&&y.globals.minXDiff/k>0&&(r=y.globals.minXDiff/k),(o=r/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),l=y.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?y.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),e=y.globals.padHorizontal+(r-o*this.barCtx.seriesLen)/2}return{x:e,y:t,yDivision:s,xDivision:r,barHeight:a,barWidth:o,zeroH:l,zeroW:u}}},{key:"initializeStackedPrevVars",value:function(e){var t=e.w;t.globals.hasSeriesGroups?t.globals.seriesGroups.forEach(function(s){e[s]||(e[s]={}),e[s].prevY=[],e[s].prevX=[],e[s].prevYF=[],e[s].prevXF=[],e[s].prevYVal=[],e[s].prevXVal=[]}):(e.prevY=[],e.prevX=[],e.prevYF=[],e.prevXF=[],e.prevYVal=[],e.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(e){var t=e.w;t.globals.hasSeriesGroups?t.globals.seriesGroups.forEach(function(s){e[s]||(e[s]={}),e[s].xArrj=[],e[s].xArrjF=[],e[s].xArrjVal=[],e[s].yArrj=[],e[s].yArrjF=[],e[s].yArrjVal=[]}):(e.xArrj=[],e.xArrjF=[],e.xArrjVal=[],e.yArrj=[],e.yArrjF=[],e.yArrjVal=[])}},{key:"getPathFillColor",value:function(e,t,s,r){var a,o,l,u,y=this.w,b=new De(this.barCtx.ctx),w=null,k=this.barCtx.barOptions.distributed?s:t;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(E){e[t][s]>=E.from&&e[t][s]<=E.to&&(w=E.color)}),y.config.series[t].data[s]&&y.config.series[t].data[s].fillColor&&(w=y.config.series[t].data[s].fillColor),b.fillPath({seriesNumber:this.barCtx.barOptions.distributed?k:r,dataPointIndex:s,color:w,value:e[t][s],fillConfig:null===(a=y.config.series[t].data[s])||void 0===a?void 0:a.fill,fillType:null!==(o=y.config.series[t].data[s])&&void 0!==o&&null!==(l=o.fill)&&void 0!==l&&l.type?null===(u=y.config.series[t].data[s])||void 0===u?void 0:u.fill.type:y.config.fill.type})}},{key:"getStrokeWidth",value:function(e,t,s){var r=0,a=this.w;return this.barCtx.isNullValue=!this.barCtx.series[e][t],a.config.stroke.show&&(this.barCtx.isNullValue||(r=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth)),r}},{key:"shouldApplyRadius",value:function(e){var t=this.w,s=!1;return t.config.plotOptions.bar.borderRadius>0&&(t.config.chart.stacked&&"last"===t.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===e&&(s=!0):s=!0),s}},{key:"barBackground",value:function(e){var t=e.j,s=e.i,r=e.x1,a=e.x2,o=e.y1,l=e.y2,u=e.elSeries,y=this.w,b=new D(this.barCtx.ctx),w=new We(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&w===s){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var E=b.drawRect(void 0!==r?r:0,void 0!==o?o:0,void 0!==a?a:y.globals.gridWidth,void 0!==l?l:y.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[t],this.barCtx.barOptions.colors.backgroundBarOpacity);u.add(E),E.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,s=e.barWidth,r=e.barXPosition,a=e.y1,o=e.y2,l=e.strokeWidth,u=e.seriesGroup,y=e.realIndex,b=e.i,w=e.j,k=e.w,E=new D(this.barCtx.ctx);(l=Array.isArray(l)?l[y]:l)||(l=0);var I=s,P=r;null!==(t=k.config.series[y].data[w])&&void 0!==t&&t.columnWidthOffset&&(P=r-k.config.series[y].data[w].columnWidthOffset/2,I=s+k.config.series[y].data[w].columnWidthOffset);var B=P,U=P+I;o+=.001;var j=E.move(B,a+=.001),p=E.move(B,a),T=E.line(U-l,a);if(k.globals.previousPaths.length>0&&(p=this.barCtx.getPreviousPath(y,w,!1)),j=j+E.line(B,o)+E.line(U-l,o)+E.line(U-l,a)+("around"===k.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),p=p+E.line(B,a)+T+T+T+T+T+E.line(B,a)+("around"===k.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(y)&&(j=E.roundPathCorners(j,k.config.plotOptions.bar.borderRadius)),k.config.chart.stacked){var L=this.barCtx;k.globals.hasSeriesGroups&&u&&(L=this.barCtx[u]),L.yArrj.push(o),L.yArrjF.push(Math.abs(a-o)),L.yArrjVal.push(this.barCtx.series[b][w])}return{pathTo:j,pathFrom:p}}},{key:"getBarpaths",value:function(e){var t,s=e.barYPosition,r=e.barHeight,a=e.x1,o=e.x2,l=e.strokeWidth,u=e.seriesGroup,y=e.realIndex,b=e.i,w=e.j,k=e.w,E=new D(this.barCtx.ctx);(l=Array.isArray(l)?l[y]:l)||(l=0);var I=s,P=r;null!==(t=k.config.series[y].data[w])&&void 0!==t&&t.barHeightOffset&&(I=s-k.config.series[y].data[w].barHeightOffset/2,P=r+k.config.series[y].data[w].barHeightOffset);var B=I,U=I+P;o+=.001;var j=E.move(a+=.001,B),p=E.move(a,B);k.globals.previousPaths.length>0&&(p=this.barCtx.getPreviousPath(y,w,!1));var T=E.line(a,U-l);if(j=j+E.line(o,B)+E.line(o,U-l)+T+("around"===k.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),p=p+E.line(a,B)+T+T+T+T+T+E.line(a,B)+("around"===k.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(y)&&(j=E.roundPathCorners(j,k.config.plotOptions.bar.borderRadius)),k.config.chart.stacked){var L=this.barCtx;k.globals.hasSeriesGroups&&u&&(L=this.barCtx[u]),L.xArrj.push(o),L.xArrjF.push(Math.abs(a-o)),L.xArrjVal.push(this.barCtx.series[b][w])}return{pathTo:j,pathFrom:p}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,s=this.w,r=0;r<t.length;r++){for(var a=0,o=0;o<t[s.globals.maxValsInArrayIndex].length;o++)a+=t[r][o];0===a&&this.barCtx.zeroSerieses.push(r)}}},{key:"getXForValue",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:t;return null!=e&&(s=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:t;return null!=e&&(s=t-e/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),s}},{key:"getGoalValues",value:function(e,t,s,r,a){var o=this,l=this.w,u=[],y=function(k,E){var I;u.push((wt(I={},e,"x"===e?o.getXForValue(k,t,!1):o.getYForValue(k,s,!1)),wt(I,"attrs",E),I))};if(l.globals.seriesGoals[r]&&l.globals.seriesGoals[r][a]&&Array.isArray(l.globals.seriesGoals[r][a])&&l.globals.seriesGoals[r][a].forEach(function(k){y(k.value,k)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var b=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,w={strokeHeight:"x"===e?0:l.globals.markers.size[r],strokeWidth:"x"===e?l.globals.markers.size[r]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(b[r])?b[r][0]:b[r]};y(l.globals.seriesRangeStart[r][a],w),y(l.globals.seriesRangeEnd[r][a],ue(ue({},w),{},{strokeColor:Array.isArray(b[r])?b[r][1]:b[r]}))}return u}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,s=e.barYPosition,r=e.goalX,a=e.goalY,o=e.barWidth,l=e.barHeight,u=new D(this.barCtx.ctx),y=u.group({className:"apexcharts-bar-goals-groups"});y.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:y.node}),y.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var b=null;return this.barCtx.isHorizontal?Array.isArray(r)&&r.forEach(function(w){var k=void 0!==w.attrs.strokeHeight?w.attrs.strokeHeight:l/2,E=s+k+l/2;b=u.drawLine(w.x,E-2*k,w.x,E,w.attrs.strokeColor?w.attrs.strokeColor:void 0,w.attrs.strokeDashArray,w.attrs.strokeWidth?w.attrs.strokeWidth:2,w.attrs.strokeLineCap),y.add(b)}):Array.isArray(a)&&a.forEach(function(w){var k=void 0!==w.attrs.strokeWidth?w.attrs.strokeWidth:o/2,E=t+k+o/2;b=u.drawLine(E-2*k,w.y,E,w.y,w.attrs.strokeColor?w.attrs.strokeColor:void 0,w.attrs.strokeDashArray,w.attrs.strokeHeight?w.attrs.strokeHeight:2,w.attrs.strokeLineCap),y.add(b)}),y}}]),R}(),Qt=function(){function R(e,t){Ce(this,R),this.ctx=e,this.w=e.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.xyRatios=t,null!==this.xyRatios&&(this.xRatio=t.xRatio,this.initialXRatio=t.initialXRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0;var r=new We(this.ctx);this.lastActiveBarSerieIndex=r.getActiveConfigSeriesIndex("desc",["bar","column"]);var a=r.getBarSeriesIndices(),o=new z(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map(function(l,u){return-1===a.indexOf(u)?u:-1}).filter(function(l){return-1!==l})),this.barHelpers=new Zi(this)}return Se(R,[{key:"draw",value:function(e,t){var s=this.w,r=new D(this.ctx),a=new z(this.ctx,s);e=a.getLogSeries(e),this.series=e,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var o=r.group({class:"apexcharts-bar-series apexcharts-plot-series"});s.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var l=0,u=0;l<e.length;l++,u++){var y,b,w,k,E=void 0,I=void 0,P=[],B=[],U=s.globals.comboCharts?t[l]:l,j=r.group({class:"apexcharts-series",rel:l+1,seriesName:f.escapeString(s.globals.seriesNames[U]),"data:realIndex":U});this.ctx.series.addCollapsedClassToSeries(j,U),e[l].length>0&&(this.visibleI=this.visibleI+1);var p=0,T=0;this.yRatio.length>1&&(this.yaxisIndex=U),this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed;var L=this.barHelpers.initialPositions();I=L.y,p=L.barHeight,b=L.yDivision,k=L.zeroW,E=L.x,T=L.barWidth,y=L.xDivision,w=L.zeroH,this.horizontal||B.push(E+T/2);for(var N=r.group({class:"apexcharts-datalabels","data:realIndex":U}),q=r.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),Q=0;Q<s.globals.dataPoints;Q++){var ne=this.barHelpers.getStrokeWidth(l,Q,U),ae=null,ye={indexes:{i:l,j:Q,realIndex:U,bc:u},x:E,y:I,strokeWidth:ne,elSeries:j};this.isHorizontal?(ae=this.drawBarPaths(ue(ue({},ye),{},{barHeight:p,zeroW:k,yDivision:b})),T=this.series[l][Q]/this.invertedYRatio):(ae=this.drawColumnPaths(ue(ue({},ye),{},{xDivision:y,barWidth:T,zeroH:w})),p=this.series[l][Q]/this.yRatio[this.yaxisIndex]);var xe=this.barHelpers.drawGoalLine({barXPosition:ae.barXPosition,barYPosition:ae.barYPosition,goalX:ae.goalX,goalY:ae.goalY,barHeight:p,barWidth:T});xe&&q.add(xe),I=ae.y,E=ae.x,Q>0&&B.push(E+T/2),P.push(I);var we=this.barHelpers.getPathFillColor(e,l,Q,U);this.renderSeries({realIndex:U,pathFill:we,j:Q,i:l,pathFrom:ae.pathFrom,pathTo:ae.pathTo,strokeWidth:ne,elSeries:j,x:E,y:I,series:e,barHeight:ae.barHeight?ae.barHeight:p,barWidth:ae.barWidth?ae.barWidth:T,elDataLabelsWrap:N,elGoalsMarkers:q,visibleSeries:this.visibleI,type:"bar"})}s.globals.seriesXvalues[U]=B,s.globals.seriesYvalues[U]=P,o.add(j)}return o}},{key:"renderSeries",value:function(e){var t=e.realIndex,s=e.pathFill,r=e.lineFill,a=e.j,o=e.i,l=e.groupIndex,u=e.pathFrom,y=e.pathTo,b=e.strokeWidth,w=e.elSeries,k=e.x,E=e.y,I=e.y1,P=e.y2,B=e.series,U=e.barHeight,j=e.barWidth,p=e.barYPosition,T=e.elDataLabelsWrap,L=e.elGoalsMarkers,N=e.visibleSeries,q=e.type,Q=this.w,ne=new D(this.ctx);r||(r=this.barOptions.distributed?Q.globals.stroke.colors[a]:Q.globals.stroke.colors[t]),Q.config.series[o].data[a]&&Q.config.series[o].data[a].strokeColor&&(r=Q.config.series[o].data[a].strokeColor),this.isNullValue&&(s="none");var ye=ne.renderPaths({i:o,j:a,realIndex:t,pathFrom:u,pathTo:y,stroke:r,strokeWidth:b,strokeLineCap:Q.config.stroke.lineCap,fill:s,animationDelay:a/Q.config.chart.animations.animateGradually.delay*(Q.config.chart.animations.speed/Q.globals.dataPoints)/2.4,initialSpeed:Q.config.chart.animations.speed,dataChangeSpeed:Q.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(q,"-area")});ye.attr("clip-path","url(#gridRectMask".concat(Q.globals.cuid,")"));var xe=Q.config.forecastDataPoints;xe.count>0&&a>=Q.globals.dataPoints-xe.count&&(ye.node.setAttribute("stroke-dasharray",xe.dashArray),ye.node.setAttribute("stroke-width",xe.strokeWidth),ye.node.setAttribute("fill-opacity",xe.fillOpacity)),void 0!==I&&void 0!==P&&(ye.attr("data-range-y1",I),ye.attr("data-range-y2",P)),new Y(this.ctx).setSelectionFilter(ye,t,a),w.add(ye);var we=new Ui(this).handleBarDataLabels({x:k,y:E,y1:I,y2:P,i:o,j:a,series:B,realIndex:t,groupIndex:l,barHeight:U,barWidth:j,barYPosition:p,renderedPath:ye,visibleSeries:N});return null!==we.dataLabels&&T.add(we.dataLabels),we.totalDataLabels&&T.add(we.totalDataLabels),w.add(T),L&&w.add(L),w}},{key:"drawBarPaths",value:function(e){var t,l,s=e.indexes,r=e.barHeight,a=e.strokeWidth,o=e.zeroW,u=e.y,y=e.yDivision,b=e.elSeries,w=this.w,k=s.i,E=s.j;if(w.globals.isXNumeric)t=(u=(w.globals.seriesX[k][E]-w.globals.minX)/this.invertedXRatio-r)+r*this.visibleI;else if(w.config.plotOptions.bar.hideZeroBarsWhenGrouped){var I=0,P=0;w.globals.seriesPercent.forEach(function(U,j){U[E]&&I++,j<k&&0===U[E]&&P++}),I>0&&(r=this.seriesLen*r/I),t=u+r*this.visibleI,t-=r*P}else t=u+r*this.visibleI;l=this.barHelpers.getXForValue(this.series[k][E],o);var B=this.barHelpers.getBarpaths({barYPosition:t,barHeight:r,x1:o,x2:l,strokeWidth:a,series:this.series,realIndex:s.realIndex,i:k,j:E,w});return w.globals.isXNumeric||(u+=y),this.barHelpers.barBackground({j:E,i:k,y1:t-r*this.visibleI,y2:r*this.seriesLen,elSeries:b}),{pathTo:B.pathTo,pathFrom:B.pathFrom,x:l,y:u,goalX:this.barHelpers.getGoalValues("x",o,null,k,E),barYPosition:t,barHeight:r}}},{key:"drawColumnPaths",value:function(e){var t,a,s=e.indexes,r=e.x,o=e.xDivision,l=e.barWidth,u=e.zeroH,y=e.strokeWidth,b=e.elSeries,w=this.w,k=s.realIndex,E=s.i,I=s.j,P=s.bc;if(w.globals.isXNumeric){var B=k;w.globals.seriesX[k].length||(B=w.globals.maxValsInArrayIndex),w.globals.seriesX[B][I]&&(r=(w.globals.seriesX[B][I]-w.globals.minX)/this.xRatio-l*this.seriesLen/2),t=r+l*this.visibleI}else if(w.config.plotOptions.bar.hideZeroBarsWhenGrouped){var U=0,j=0;w.globals.seriesPercent.forEach(function(T,L){T[I]&&U++,L<E&&0===T[I]&&j++}),U>0&&(l=this.seriesLen*l/U),t=r+l*this.visibleI,t-=l*j}else t=r+l*this.visibleI;a=this.barHelpers.getYForValue(this.series[E][I],u);var p=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:l,y1:u,y2:a,strokeWidth:y,series:this.series,realIndex:s.realIndex,i:E,j:I,w});return w.globals.isXNumeric||(r+=o),this.barHelpers.barBackground({bc:P,j:I,i:E,x1:t-y/2-l*this.visibleI,x2:l*this.seriesLen+y/2,elSeries:b}),{pathTo:p.pathTo,pathFrom:p.pathFrom,x:r,y:a,goalY:this.barHelpers.getGoalValues("y",null,u,E,I),barXPosition:t,barWidth:l}}},{key:"getPreviousPath",value:function(e,t){for(var s,r=this.w,a=0;a<r.globals.previousPaths.length;a++){var o=r.globals.previousPaths[a];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&void 0!==r.globals.previousPaths[a].paths[t]&&(s=r.globals.previousPaths[a].paths[t].d)}return s}}]),R}(),Jt=function(R){_e(t,R);var e=Le(t);function t(){return Ce(this,t),e.apply(this,arguments)}return Se(t,[{key:"draw",value:function(s,r){var a=this,o=this.w;this.graphics=new D(this.ctx),this.bar=new Qt(this.ctx,this.xyRatios);var l=new z(this.ctx,o);s=l.getLogSeries(s),this.yRatio=l.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s),"100%"===o.config.chart.stackType&&(s=o.globals.seriesPercent.slice()),this.series=s,this.barHelpers.initializeStackedPrevVars(this);for(var u=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),y=0,b=0,w=function(I,P){var B=void 0,U=void 0,j=void 0,p=void 0,T=-1;a.groupCtx=a,o.globals.seriesGroups.forEach(function(dt,bt){dt.indexOf(o.config.series[I].name)>-1&&(T=bt)}),-1!==T&&(a.groupCtx=a[o.globals.seriesGroups[T]]);var L=[],N=[],q=o.globals.comboCharts?r[I]:I;a.yRatio.length>1&&(a.yaxisIndex=q),a.isReversed=o.config.yaxis[a.yaxisIndex]&&o.config.yaxis[a.yaxisIndex].reversed;var Q=a.graphics.group({class:"apexcharts-series",seriesName:f.escapeString(o.globals.seriesNames[q]),rel:I+1,"data:realIndex":q});a.ctx.series.addCollapsedClassToSeries(Q,q);var ne=a.graphics.group({class:"apexcharts-datalabels","data:realIndex":q}),ae=a.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),ye=0,xe=0,we=a.initialPositions(y,b,B,U,j,p);b=we.y,ye=we.barHeight,U=we.yDivision,p=we.zeroW,y=we.x,xe=we.barWidth,B=we.xDivision,j=we.zeroH,a.barHelpers.initializeStackedXYVars(a),1===a.groupCtx.prevY.length&&a.groupCtx.prevY[0].every(function(dt){return isNaN(dt)})&&(a.groupCtx.prevY[0]=a.groupCtx.prevY[0].map(function(dt){return j}),a.groupCtx.prevYF[0]=a.groupCtx.prevYF[0].map(function(dt){return 0}));for(var se=0;se<o.globals.dataPoints;se++){var Me=a.barHelpers.getStrokeWidth(I,se,q),Oe={indexes:{i:I,j:se,realIndex:q,bc:P},strokeWidth:Me,x:y,y:b,elSeries:Q,groupIndex:T,seriesGroup:o.globals.seriesGroups[T]},Ue=null;a.isHorizontal?(Ue=a.drawStackedBarPaths(ue(ue({},Oe),{},{zeroW:p,barHeight:ye,yDivision:U})),xe=a.series[I][se]/a.invertedYRatio):(Ue=a.drawStackedColumnPaths(ue(ue({},Oe),{},{xDivision:B,barWidth:xe,zeroH:j})),ye=a.series[I][se]/a.yRatio[a.yaxisIndex]);var je=a.barHelpers.drawGoalLine({barXPosition:Ue.barXPosition,barYPosition:Ue.barYPosition,goalX:Ue.goalX,goalY:Ue.goalY,barHeight:ye,barWidth:xe});je&&ae.add(je),b=Ue.y,L.push(y=Ue.x),N.push(b);var mt=a.barHelpers.getPathFillColor(s,I,se,q);Q=a.renderSeries({realIndex:q,pathFill:mt,j:se,i:I,groupIndex:T,pathFrom:Ue.pathFrom,pathTo:Ue.pathTo,strokeWidth:Me,elSeries:Q,x:y,y:b,series:s,barHeight:ye,barWidth:xe,elDataLabelsWrap:ne,elGoalsMarkers:ae,type:"bar",visibleSeries:0})}o.globals.seriesXvalues[q]=L,o.globals.seriesYvalues[q]=N,a.groupCtx.prevY.push(a.groupCtx.yArrj),a.groupCtx.prevYF.push(a.groupCtx.yArrjF),a.groupCtx.prevYVal.push(a.groupCtx.yArrjVal),a.groupCtx.prevX.push(a.groupCtx.xArrj),a.groupCtx.prevXF.push(a.groupCtx.xArrjF),a.groupCtx.prevXVal.push(a.groupCtx.xArrjVal),u.add(Q)},k=0,E=0;k<s.length;k++,E++)w(k,E);return u}},{key:"initialPositions",value:function(s,r,a,o,l,u){var y,b,w,k,E=this.w;return this.isHorizontal?(y=(y=o=E.globals.gridHeight/E.globals.dataPoints)*parseInt(E.config.plotOptions.bar.barHeight,10)/100,null!==(w=E.globals.seriesGroups)&&void 0!==w&&w.length&&(y/=E.globals.seriesGroups.length),-1===String(E.config.plotOptions.bar.barHeight).indexOf("%")&&(y=parseInt(E.config.plotOptions.bar.barHeight,10)),u=this.baseLineInvertedY+E.globals.padHorizontal+(this.isReversed?E.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),r=(o-y)/2):(b=a=E.globals.gridWidth/E.globals.dataPoints,b=E.globals.isXNumeric&&E.globals.dataPoints>1?(a=E.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:b*parseInt(E.config.plotOptions.bar.columnWidth,10)/100,null!==(k=E.globals.seriesGroups)&&void 0!==k&&k.length&&(b/=E.globals.seriesGroups.length),-1===String(E.config.plotOptions.bar.columnWidth).indexOf("%")&&(b=parseInt(E.config.plotOptions.bar.columnWidth,10)),l=E.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?E.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),s=E.globals.padHorizontal+(a-b)/2),{x:s,y:r,yDivision:o,xDivision:a,barHeight:y,barWidth:b,zeroH:l,zeroW:u}}},{key:"drawStackedBarPaths",value:function(s){for(var r,y,a=s.indexes,o=s.barHeight,l=s.strokeWidth,u=s.zeroW,b=s.y,w=s.groupIndex,k=s.seriesGroup,E=s.yDivision,I=s.elSeries,P=this.w,B=b+(-1!==w?w*o:0),U=a.i,j=a.j,p=0,T=0;T<this.groupCtx.prevXF.length;T++)p+=this.groupCtx.prevXF[T][j];var L=U;if(k&&(L=k.indexOf(P.config.series[U].name)),L>0){var N=u;this.groupCtx.prevXVal[L-1][j]<0?N=this.series[U][j]>=0?this.groupCtx.prevX[L-1][j]+p-2*(this.isReversed?p:0):this.groupCtx.prevX[L-1][j]:this.groupCtx.prevXVal[L-1][j]>=0&&(N=this.series[U][j]>=0?this.groupCtx.prevX[L-1][j]:this.groupCtx.prevX[L-1][j]-p+2*(this.isReversed?p:0)),r=N}else r=u;var q=this.barHelpers.getBarpaths({barYPosition:B,barHeight:o,x1:r,x2:y=null===this.series[U][j]?r:r+this.series[U][j]/this.invertedYRatio-2*(this.isReversed?this.series[U][j]/this.invertedYRatio:0),strokeWidth:l,series:this.series,realIndex:a.realIndex,seriesGroup:k,i:U,j,w:P});return this.barHelpers.barBackground({j,i:U,y1:B,y2:o,elSeries:I}),b+=E,{pathTo:q.pathTo,pathFrom:q.pathFrom,goalX:this.barHelpers.getGoalValues("x",u,null,U,j),barYPosition:B,x:y,y:b}}},{key:"drawStackedColumnPaths",value:function(s){var o,r=s.indexes,a=s.x,l=s.xDivision,u=s.barWidth,y=s.zeroH,b=s.groupIndex,w=s.seriesGroup,k=s.elSeries,E=this.w,I=r.i,P=r.j,B=r.bc;if(E.globals.isXNumeric){var U=E.globals.seriesX[I][P];U||(U=0),a=(U-E.globals.minX)/this.xRatio-u/2,E.globals.seriesGroups.length&&(a=(U-E.globals.minX)/this.xRatio-u/2*E.globals.seriesGroups.length)}for(var j,p=a+(-1!==b?b*u:0),T=0,L=0;L<this.groupCtx.prevYF.length;L++)T+=isNaN(this.groupCtx.prevYF[L][P])?0:this.groupCtx.prevYF[L][P];var N=I;if(w&&(N=w.indexOf(E.config.series[I].name)),N>0&&!E.globals.isXNumeric||N>0&&E.globals.isXNumeric&&E.globals.seriesX[I-1][P]===E.globals.seriesX[I][P]){var q,Q,ne,ae=Math.min(this.yRatio.length+1,I+1);if(void 0!==this.groupCtx.prevY[N-1]&&this.groupCtx.prevY[N-1].length)for(var ye=1;ye<ae;ye++){var xe;if(!isNaN(null===(xe=this.groupCtx.prevY[N-ye])||void 0===xe?void 0:xe[P])){ne=this.groupCtx.prevY[N-ye][P];break}}for(var we=1;we<ae;we++){var se,Me;if((null===(se=this.groupCtx.prevYVal[N-we])||void 0===se?void 0:se[P])<0){Q=this.series[I][P]>=0?ne-T+2*(this.isReversed?T:0):ne;break}if((null===(Me=this.groupCtx.prevYVal[N-we])||void 0===Me?void 0:Me[P])>=0){Q=this.series[I][P]>=0?ne:ne+T-2*(this.isReversed?T:0);break}}void 0===Q&&(Q=E.globals.gridHeight),j=null!==(q=this.groupCtx.prevYF[0])&&void 0!==q&&q.every(function(Ue){return 0===Ue})&&this.groupCtx.prevYF.slice(1,N).every(function(Ue){return Ue.every(function(je){return isNaN(je)})})?y:Q}else j=y;var Oe=this.barHelpers.getColumnPaths({barXPosition:p,barWidth:u,y1:j,y2:o=this.series[I][P]?j-this.series[I][P]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[I][P]/this.yRatio[this.yaxisIndex]:0):j,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:w,realIndex:r.realIndex,i:I,j:P,w:E});return this.barHelpers.barBackground({bc:B,j:P,i:I,x1:p,x2:u,elSeries:k}),a+=l,{pathTo:Oe.pathTo,pathFrom:Oe.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,y,I,P),barXPosition:p,x:E.globals.isXNumeric?a-l:a,y:o}}}]),t}(Qt),di=function(R){_e(t,R);var e=Le(t);function t(){return Ce(this,t),e.apply(this,arguments)}return Se(t,[{key:"draw",value:function(s,r,a){var o=this,l=this.w,u=new D(this.ctx),y=l.globals.comboCharts?r:l.config.chart.type,b=new De(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=l.config.plotOptions.bar.horizontal;var w=new z(this.ctx,l);s=w.getLogSeries(s),this.series=s,this.yRatio=w.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s);for(var k=u.group({class:"apexcharts-".concat(y,"-series apexcharts-plot-series")}),E=function(P){o.isBoxPlot="boxPlot"===l.config.chart.type||"boxPlot"===l.config.series[P].type;var B,U,j,p,ae,ye,T=void 0,L=void 0,N=[],q=[],Q=l.globals.comboCharts?a[P]:P,ne=u.group({class:"apexcharts-series",seriesName:f.escapeString(l.globals.seriesNames[Q]),rel:P+1,"data:realIndex":Q});o.ctx.series.addCollapsedClassToSeries(ne,Q),s[P].length>0&&(o.visibleI=o.visibleI+1),o.yRatio.length>1&&(o.yaxisIndex=Q);var xe=o.barHelpers.initialPositions();L=xe.y,ae=xe.barHeight,U=xe.yDivision,p=xe.zeroW,B=xe.xDivision,j=xe.zeroH,q.push((T=xe.x)+(ye=xe.barWidth)/2);for(var we=u.group({class:"apexcharts-datalabels","data:realIndex":Q}),se=function(Oe){var Ue=o.barHelpers.getStrokeWidth(P,Oe,Q),je=null,mt={indexes:{i:P,j:Oe,realIndex:Q},x:T,y:L,strokeWidth:Ue,elSeries:ne};je=o.isHorizontal?o.drawHorizontalBoxPaths(ue(ue({},mt),{},{yDivision:U,barHeight:ae,zeroW:p})):o.drawVerticalBoxPaths(ue(ue({},mt),{},{xDivision:B,barWidth:ye,zeroH:j})),L=je.y,T=je.x,Oe>0&&q.push(T+ye/2),N.push(L),je.pathTo.forEach(function(dt,bt){var ii=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?je.color[bt]:l.globals.stroke.colors[P],Et=b.fillPath({seriesNumber:Q,dataPointIndex:Oe,color:je.color[bt],value:s[P][Oe]});o.renderSeries({realIndex:Q,pathFill:Et,lineFill:ii,j:Oe,i:P,pathFrom:je.pathFrom,pathTo:dt,strokeWidth:Ue,elSeries:ne,x:T,y:L,series:s,barHeight:ae,barWidth:ye,elDataLabelsWrap:we,visibleSeries:o.visibleI,type:l.config.chart.type})})},Me=0;Me<l.globals.dataPoints;Me++)se(Me);l.globals.seriesXvalues[Q]=q,l.globals.seriesYvalues[Q]=N,k.add(ne)},I=0;I<s.length;I++)E(I);return k}},{key:"drawVerticalBoxPaths",value:function(s){var r=s.indexes,a=s.x,o=s.xDivision,l=s.barWidth,u=s.zeroH,y=s.strokeWidth,b=this.w,w=new D(this.ctx),k=r.i,E=r.j,I=!0,P=b.config.plotOptions.candlestick.colors.upward,B=b.config.plotOptions.candlestick.colors.downward,U="";this.isBoxPlot&&(U=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var j=this.yRatio[this.yaxisIndex],p=r.realIndex,T=this.getOHLCValue(p,E),L=u,N=u;T.o>T.c&&(I=!1);var q=Math.min(T.o,T.c),Q=Math.max(T.o,T.c),ne=T.m;b.globals.isXNumeric&&(a=(b.globals.seriesX[p][E]-b.globals.minX)/this.xRatio-l/2);var ae=a+l*this.visibleI;null==this.series[k][E]?(q=u,Q=u):(q=u-q/j,Q=u-Q/j,L=u-T.h/j,N=u-T.l/j,ne=u-T.m/j);var ye=w.move(ae,u),xe=w.move(ae+l/2,q);return b.globals.previousPaths.length>0&&(xe=this.getPreviousPath(p,E,!0)),ye=this.isBoxPlot?[w.move(ae,q)+w.line(ae+l/2,q)+w.line(ae+l/2,L)+w.line(ae+l/4,L)+w.line(ae+l-l/4,L)+w.line(ae+l/2,L)+w.line(ae+l/2,q)+w.line(ae+l,q)+w.line(ae+l,ne)+w.line(ae,ne)+w.line(ae,q+y/2),w.move(ae,ne)+w.line(ae+l,ne)+w.line(ae+l,Q)+w.line(ae+l/2,Q)+w.line(ae+l/2,N)+w.line(ae+l-l/4,N)+w.line(ae+l/4,N)+w.line(ae+l/2,N)+w.line(ae+l/2,Q)+w.line(ae,Q)+w.line(ae,ne)+"z"]:[w.move(ae,Q)+w.line(ae+l/2,Q)+w.line(ae+l/2,L)+w.line(ae+l/2,Q)+w.line(ae+l,Q)+w.line(ae+l,q)+w.line(ae+l/2,q)+w.line(ae+l/2,N)+w.line(ae+l/2,q)+w.line(ae,q)+w.line(ae,Q-y/2)],xe+=w.move(ae,q),b.globals.isXNumeric||(a+=o),{pathTo:ye,pathFrom:xe,x:a,y:Q,barXPosition:ae,color:this.isBoxPlot?U:I?[P]:[B]}}},{key:"drawHorizontalBoxPaths",value:function(s){var r=s.indexes,a=s.y,o=s.yDivision,l=s.barHeight,u=s.zeroW,y=s.strokeWidth,b=this.w,w=new D(this.ctx),k=r.i,E=r.j,I=this.boxOptions.colors.lower;this.isBoxPlot&&(I=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var P=this.invertedYRatio,B=r.realIndex,U=this.getOHLCValue(B,E),j=u,p=u,T=Math.min(U.o,U.c),L=Math.max(U.o,U.c),N=U.m;b.globals.isXNumeric&&(a=(b.globals.seriesX[B][E]-b.globals.minX)/this.invertedXRatio-l/2);var q=a+l*this.visibleI;null==this.series[k][E]?(T=u,L=u):(T=u+T/P,L=u+L/P,j=u+U.h/P,p=u+U.l/P,N=u+U.m/P);var Q=w.move(u,q),ne=w.move(T,q+l/2);return b.globals.previousPaths.length>0&&(ne=this.getPreviousPath(B,E,!0)),Q=[w.move(T,q)+w.line(T,q+l/2)+w.line(j,q+l/2)+w.line(j,q+l/2-l/4)+w.line(j,q+l/2+l/4)+w.line(j,q+l/2)+w.line(T,q+l/2)+w.line(T,q+l)+w.line(N,q+l)+w.line(N,q)+w.line(T+y/2,q),w.move(N,q)+w.line(N,q+l)+w.line(L,q+l)+w.line(L,q+l/2)+w.line(p,q+l/2)+w.line(p,q+l-l/4)+w.line(p,q+l/4)+w.line(p,q+l/2)+w.line(L,q+l/2)+w.line(L,q)+w.line(N,q)+"z"],ne+=w.move(T,q),b.globals.isXNumeric||(a+=o),{pathTo:Q,pathFrom:ne,x:L,y:a,barYPosition:q,color:I}}},{key:"getOHLCValue",value:function(s,r){var a=this.w;return{o:this.isBoxPlot?a.globals.seriesCandleH[s][r]:a.globals.seriesCandleO[s][r],h:this.isBoxPlot?a.globals.seriesCandleO[s][r]:a.globals.seriesCandleH[s][r],m:a.globals.seriesCandleM[s][r],l:this.isBoxPlot?a.globals.seriesCandleC[s][r]:a.globals.seriesCandleL[s][r],c:this.isBoxPlot?a.globals.seriesCandleL[s][r]:a.globals.seriesCandleC[s][r]}}}]),t}(Qt),Ii=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,s=e.config.plotOptions[e.config.chart.type];return s.colorScale.ranges.length>0&&s.colorScale.ranges.map(function(r,a){r.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,s,r){var a=this.w,o=1,l=a.config.plotOptions[e].shadeIntensity,u=this.determineColor(e,t,s);a.globals.hasNegs||r?o=a.config.plotOptions[e].reverseNegativeShade?u.percent<0?u.percent/100*(1.25*l):1.25*l*(1-u.percent/100):u.percent<=0?1-(1+u.percent/100)*l:(1-u.percent/100)*l:(o=1-u.percent/100,"treemap"===e&&(o=1.25*l*(1-u.percent/100)));var y=u.color,b=new f;return a.config.plotOptions[e].enableShades&&(y=f.hexToRgba(b.shadeColor("dark"===this.w.config.theme.mode?-1*o:o,u.color),a.config.fill.opacity)),{color:y,colorProps:u}}},{key:"determineColor",value:function(e,t,s){var r=this.w,a=r.globals.series[t][s],o=r.config.plotOptions[e],l=o.colorScale.inverse?s:t;o.distributed&&"treemap"===r.config.chart.type&&(l=s);var u=r.globals.colors[l],y=null,b=Math.min.apply(Math,be(r.globals.series[t])),w=Math.max.apply(Math,be(r.globals.series[t]));o.distributed||"heatmap"!==e||(b=r.globals.minY,w=r.globals.maxY),void 0!==o.colorScale.min&&(b=o.colorScale.min<r.globals.minY?o.colorScale.min:r.globals.minY,w=o.colorScale.max>r.globals.maxY?o.colorScale.max:r.globals.maxY);var k=Math.abs(w)+Math.abs(b),E=100*a/(0===k?k-1e-6:k);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(I,P){if(a>=I.from&&a<=I.to){u=I.color,y=I.foreColor?I.foreColor:null,b=I.from,w=I.to;var B=Math.abs(w)+Math.abs(b);E=100*a/(0===B?B-1e-6:B)}}),{color:u,foreColor:y,percent:E}}},{key:"calculateDataLabels",value:function(e){var t=e.text,s=e.x,r=e.y,a=e.i,o=e.j,l=e.colorProps,u=e.fontSize,y=this.w.config.dataLabels,b=new D(this.ctx),w=new at(this.ctx),k=null;if(y.enabled){k=b.group({class:"apexcharts-data-labels"});var I=y.offsetY,P=s+y.offsetX,B=r+parseFloat(y.style.fontSize)/3+I;w.plotDataLabelsText({x:P,y:B,text:t,i:a,j:o,color:l.foreColor,parent:k,fontSize:u,dataLabelsConfig:y})}return k}},{key:"addListeners",value:function(e){var t=new D(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),R}(),$i=function(){function R(e,t){Ce(this,R),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Ii(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return Se(R,[{key:"draw",value:function(e){var t=this.w,s=new D(this.ctx),r=s.group({class:"apexcharts-heatmap"});r.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var a=t.globals.gridWidth/t.globals.dataPoints,o=t.globals.gridHeight/t.globals.series.length,l=0,u=!1;this.negRange=this.helpers.checkColorRange();var y=e.slice();t.config.yaxis[0].reversed&&(u=!0,y.reverse());for(var b=u?0:y.length-1;u?b<y.length:b>=0;u?b++:b--){var w=s.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:f.escapeString(t.globals.seriesNames[b]),rel:b+1,"data:realIndex":b});if(this.ctx.series.addCollapsedClassToSeries(w,b),t.config.chart.dropShadow.enabled){var k=t.config.chart.dropShadow;new Y(this.ctx).dropShadow(w,k,b)}for(var E=0,I=t.config.plotOptions.heatmap.shadeIntensity,P=0;P<y[b].length;P++){var B=this.helpers.getShadeColor(t.config.chart.type,b,P,this.negRange),U=B.color,j=B.colorProps;"image"===t.config.fill.type&&(U=new De(this.ctx).fillPath({seriesNumber:b,dataPointIndex:P,opacity:t.globals.hasNegs?j.percent<0?1-(1+j.percent/100):I+j.percent/100:j.percent/100,patternID:f.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:a,height:t.config.fill.image.height?t.config.fill.image.height:o}));var T=s.drawRect(E,l,a,o,this.rectRadius);if(T.attr({cx:E,cy:l}),T.node.classList.add("apexcharts-heatmap-rect"),w.add(T),T.attr({fill:U,i:b,index:b,j:P,val:y[b][P],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?U:t.globals.stroke.colors[0],color:U}),this.helpers.addListeners(T),t.config.chart.animations.enabled&&!t.globals.dataChanged){var L=1;t.globals.resized||(L=t.config.chart.animations.speed),this.animateHeatMap(T,E,l,a,o,L)}if(t.globals.dataChanged){var N=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){N=this.dynamicAnim.speed;var q=t.globals.previousPaths[b]&&t.globals.previousPaths[b][P]&&t.globals.previousPaths[b][P].color;q||(q="rgba(255, 255, 255, 0)"),this.animateHeatColor(T,f.isColorHex(q)?q:f.rgb2hex(q),f.isColorHex(U)?U:f.rgb2hex(U),N)}}var Q=(0,t.config.dataLabels.formatter)(t.globals.series[b][P],{value:t.globals.series[b][P],seriesIndex:b,dataPointIndex:P,w:t}),ne=this.helpers.calculateDataLabels({text:Q,x:E+a/2,y:l+o/2,i:b,j:P,colorProps:j,series:y});null!==ne&&w.add(ne),E+=a}l+=o,r.add(w)}var ae=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?ae.unshift(""):ae.push(""),t.globals.yAxisScale[0].result=ae,t.config.yaxis[0].labels.offsetY=-t.globals.gridHeight/t.globals.series.length/2,r}},{key:"animateHeatMap",value:function(e,t,s,r,a,o){var l=new W(this.ctx);l.animateRect(e,{x:t+r/2,y:s+a/2,width:0,height:0},{x:t,y:s,width:r,height:a},o,function(){l.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,s,r){e.attr({fill:t}).animate(r).attr({fill:s})}}]),R}(),Li=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"drawYAxisTexts",value:function(e,t,s,r){var a=this.w,o=a.config.yaxis[0],l=a.globals.yLabelFormatters[0];return new D(this.ctx).drawText({x:e+o.labels.offsetX,y:t+o.labels.offsetY,text:l(r,s),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[s]:o.labels.style.colors})}}]),R}(),qt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==t.globals.stroke.colors?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,this.fullAngle="radialBar"===t.config.chart.type?360:Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return Se(R,[{key:"draw",value:function(e){var t=this,s=this.w,r=new D(this.ctx);if(this.ret=r.group({class:"apexcharts-pie"}),s.globals.noData)return this.ret;for(var a=0,o=0;o<e.length;o++)a+=f.negToZero(e[o]);var l=[],u=r.group();0===a&&(a=1e-5),e.forEach(function(q){t.maxY=Math.max(t.maxY,q)}),s.config.yaxis[0].max&&(this.maxY=s.config.yaxis[0].max),"back"===s.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var y=0;y<e.length;y++){var b=this.fullAngle*f.negToZero(e[y])/a;l.push(b),"polarArea"===this.chartType?(l[y]=this.fullAngle/e.length,this.sliceSizes.push(s.globals.radialSize*e[y]/this.maxY)):this.sliceSizes.push(s.globals.radialSize)}if(s.globals.dataChanged){for(var w,k=0,E=0;E<s.globals.previousPaths.length;E++)k+=f.negToZero(s.globals.previousPaths[E]);for(var I=0;I<s.globals.previousPaths.length;I++)w=this.fullAngle*f.negToZero(s.globals.previousPaths[I])/k,this.prevSectorAngleArr.push(w)}this.donutSize<0&&(this.donutSize=0);var P=s.config.plotOptions.pie.customScale,j=s.globals.gridWidth/2-s.globals.gridWidth/2*P,p=s.globals.gridHeight/2-s.globals.gridHeight/2*P;if("donut"===this.chartType){var T=r.drawCircle(this.donutSize);T.attr({cx:this.centerX,cy:this.centerY,fill:s.config.plotOptions.pie.donut.background?s.config.plotOptions.pie.donut.background:"transparent"}),u.add(T)}var L=this.drawArcs(l,e);if(this.sliceLabels.forEach(function(q){L.add(q)}),u.attr({transform:"translate(".concat(j,", ").concat(p,") scale(").concat(P,")")}),u.add(L),this.ret.add(u),this.donutDataLabels.show){var N=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:j,translateY:p});this.ret.add(N)}return"front"===s.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(e,t){var s=this.w,r=new Y(this.ctx),a=new D(this.ctx),o=new De(this.ctx),l=a.group({class:"apexcharts-slices"}),u=this.initialAngle,y=this.initialAngle,b=this.initialAngle,w=this.initialAngle;this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0;for(var k=0;k<e.length;k++){var E=a.group({class:"apexcharts-series apexcharts-pie-series",seriesName:f.escapeString(s.globals.seriesNames[k]),rel:k+1,"data:realIndex":k});l.add(E),b=(u=b)+e[k],w=(y=w)+this.prevSectorAngleArr[k];var I=b<u?this.fullAngle+b-u:b-u,P=o.fillPath({seriesNumber:k,size:this.sliceSizes[k],value:t[k]}),B=this.getChangedPath(y,w),U=a.drawPath({d:B,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[k]:this.lineColorArr,strokeWidth:0,fill:P,fillOpacity:s.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(k)});U.attr({index:0,j:k}),r.setSelectionFilter(U,0,k),s.config.chart.dropShadow.enabled&&r.dropShadow(U,s.config.chart.dropShadow,k),this.addListeners(U,this.donutDataLabels),D.setAttrs(U.node,{"data:angle":I,"data:startAngle":u,"data:strokeWidth":this.strokeWidth,"data:value":t[k]});var p={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?p=f.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize/1.25+s.config.plotOptions.pie.dataLabels.offset,(u+I/2)%this.fullAngle):"donut"===this.chartType&&(p=f.polarToCartesian(this.centerX,this.centerY,(s.globals.radialSize+this.donutSize)/2+s.config.plotOptions.pie.dataLabels.offset,(u+I/2)%this.fullAngle)),E.add(U);var T=0;if(!this.initialAnim||s.globals.resized||s.globals.dataChanged?this.animBeginArr.push(0):(0==(T=I/this.fullAngle*s.config.chart.animations.speed)&&(T=1),this.animDur=T+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(U,this.dynamicAnim&&s.globals.dataChanged?{size:this.sliceSizes[k],endAngle:b,startAngle:u,prevStartAngle:y,prevEndAngle:w,animateStartingPos:!0,i:k,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:s.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[k],endAngle:b,startAngle:u,i:k,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:T}),s.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&U.click(this.pieClicked.bind(this,k)),void 0!==s.globals.selectedDataPoints[0]&&s.globals.selectedDataPoints[0].indexOf(k)>-1&&this.pieClicked(k),s.config.dataLabels.enabled){var L=p.x,N=p.y,q=100*I/this.fullAngle+"%";if(0!==I&&s.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[k]){var Q=s.config.dataLabels.formatter;void 0!==Q&&(q=Q(s.globals.seriesPercent[k][0],{seriesIndex:k,w:s}));var ne=s.globals.dataLabels.style.colors[k],ae=a.group({class:"apexcharts-datalabels"}),ye=a.drawText({x:L,y:N,text:q,textAnchor:"middle",fontSize:s.config.dataLabels.style.fontSize,fontFamily:s.config.dataLabels.style.fontFamily,fontWeight:s.config.dataLabels.style.fontWeight,foreColor:ne});ae.add(ye),s.config.dataLabels.dropShadow.enabled&&r.dropShadow(ye,s.config.dataLabels.dropShadow),ye.node.classList.add("apexcharts-pie-label"),s.config.chart.animations.animate&&!1===s.globals.resized&&(ye.node.classList.add("apexcharts-pie-label-delay"),ye.node.style.animationDelay=s.config.chart.animations.speed/940+"s"),this.sliceLabels.push(ae)}}}return l}},{key:"addListeners",value:function(e,t){var s=new D(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var r=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,a=r,o=t.startAngle,l=t.startAngle;void 0!==t.prevStartAngle&&void 0!==t.prevEndAngle&&(o=t.prevEndAngle,a=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===this.w.config.series.length-1&&(r+l>this.fullAngle?t.endAngle=t.endAngle-(r+l):r+l<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(r+l)))),r===this.fullAngle&&(r=this.fullAngle-.01),this.animateArc(e,o,l,r,a,t)}},{key:"animateArc",value:function(e,t,s,r,a,o){var l,u=this,y=this.w,b=new W(this.ctx),w=o.size;(isNaN(t)||isNaN(a))&&(t=s,a=r,o.dur=0);var k=r,E=s,I=t<s?this.fullAngle+t-s:t-s;y.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(l=u.getPiePath({me:u,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:w}),e.attr({d:l})),0!==o.dur?e.animate(o.dur,y.globals.easing,o.animBeginArr[o.i]).afterAll(function(){"pie"!==u.chartType&&"donut"!==u.chartType&&"polarArea"!==u.chartType||this.animate(y.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":u.strokeWidth}),o.i===y.config.series.length-1&&b.animationCompleted(e)}).during(function(P){k=I+(r-I)*P,o.animateStartingPos&&(k=a+(r-a)*P,E=t-a+(s-(t-a))*P),l=u.getPiePath({me:u,startAngle:E,angle:k,size:w}),e.node.setAttribute("data:pathOrig",l),e.attr({d:l})}):(l=u.getPiePath({me:u,startAngle:E,angle:r,size:w}),o.isTrack||(y.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",l),e.attr({d:l,"stroke-width":u.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,s=this.w,r=this,a=r.sliceSizes[e]+(s.config.plotOptions.pie.expandOnClick?4:0),o=s.globals.dom.Paper.select(".apexcharts-".concat(r.chartType.toLowerCase(),"-slice-").concat(e)).members[0];if("true"!==o.attr("data:pieClicked")){var l=s.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(l,function(w){w.setAttribute("data:pieClicked","false");var k=w.getAttribute("data:pathOrig");k&&w.setAttribute("d",k)}),o.attr("data:pieClicked","true");var u=parseInt(o.attr("data:startAngle"),10),y=parseInt(o.attr("data:angle"),10);t=r.getPiePath({me:r,startAngle:u,angle:y,size:a}),360!==y&&o.plot(t)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var b=o.attr("data:pathOrig");o.attr({d:b})}}},{key:"getChangedPath",value:function(e,t){var s="";return this.dynamicAnim&&this.w.globals.dataChanged&&(s=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),s}},{key:"getPiePath",value:function(e){var t=e.me,s=e.startAngle,r=e.angle,a=e.size,o=s,l=Math.PI*(o-90)/180,u=r+s;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var y=Math.PI*(u-90)/180,b=t.centerX+a*Math.cos(l),w=t.centerY+a*Math.sin(l),k=t.centerX+a*Math.cos(y),E=t.centerY+a*Math.sin(y),I=f.polarToCartesian(t.centerX,t.centerY,t.donutSize,u),P=f.polarToCartesian(t.centerX,t.centerY,t.donutSize,o),B=r>180?1:0,U=["M",b,w,"A",a,a,0,B,1,k,E];return"donut"===t.chartType?[].concat(U,["L",I.x,I.y,"A",t.donutSize,t.donutSize,0,B,0,P.x,P.y,"L",b,w,"z"]).join(" "):"pie"===t.chartType||"polarArea"===t.chartType?[].concat(U,["L",t.centerX,t.centerY,"L",b,w]).join(" "):[].concat(U).join(" ")}},{key:"drawPolarElements",value:function(e){var t=this.w,s=new Tt(this.ctx),r=new D(this.ctx),a=new Li(this.ctx),o=r.group(),l=r.group(),u=s.niceScale(0,Math.ceil(this.maxY),t.config.yaxis[0].tickAmount,0,!0),y=u.result.reverse(),b=u.result.length;this.maxY=u.niceMax;for(var w=t.globals.radialSize,k=w/(b-1),E=0;E<b-1;E++){var I=r.drawCircle(w);if(I.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var P=a.drawYAxisTexts(this.centerX,this.centerY-w+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,E,y[E]);l.add(P)}o.add(I),w-=k}this.drawSpokes(e),e.add(o),e.add(l)}},{key:"renderInnerDataLabels",value:function(e,t){var s=this.w,r=new D(this.ctx),a=r.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(t.translateX?t.translateX:0,", ").concat(t.translateY?t.translateY:0,") scale(").concat(s.config.plotOptions.pie.customScale,")")}),o=e.total.show;a.node.style.opacity=t.opacity;var l,u,y=t.centerX,b=t.centerY;l=void 0===e.name.color?s.globals.colors[0]:e.name.color;var w=e.name.fontSize,k=e.name.fontFamily,E=e.name.fontWeight;u=void 0===e.value.color?s.config.chart.foreColor:e.value.color;var I=e.value.formatter,P="",B="";if(o?(l=e.total.color,w=e.total.fontSize,k=e.total.fontFamily,E=e.total.fontWeight,B=e.total.label,P=e.total.formatter(s)):1===s.globals.series.length&&(P=I(s.globals.series[0],s),B=s.globals.seriesNames[0]),B&&(B=e.name.formatter(B,e.total.show,s)),e.name.show){var U=r.drawText({x:y,y:b+parseFloat(e.name.offsetY),text:B,textAnchor:"middle",foreColor:l,fontSize:w,fontWeight:E,fontFamily:k});U.node.classList.add("apexcharts-datalabel-label"),a.add(U)}if(e.value.show){var j=e.name.show?parseFloat(e.value.offsetY)+16:e.value.offsetY,p=r.drawText({x:y,y:b+j,text:P,textAnchor:"middle",foreColor:u,fontWeight:e.value.fontWeight,fontSize:e.value.fontSize,fontFamily:e.value.fontFamily});p.node.classList.add("apexcharts-datalabel-value"),a.add(p)}return a}},{key:"printInnerLabels",value:function(e,t,s,r){var a,o=this.w;r?a=void 0===e.name.color?o.globals.colors[parseInt(r.parentNode.getAttribute("rel"),10)-1]:e.name.color:o.globals.series.length>1&&e.total.show&&(a=e.total.color);var l=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),u=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");s=(0,e.value.formatter)(s,o),r||"function"!=typeof e.total.formatter||(s=e.total.formatter(o)),t=e.name.formatter(t,t===e.total.label,o),null!==l&&(l.textContent=t),null!==u&&(u.textContent=s),null!==l&&(l.style.fill=a)}},{key:"printDataLabelsInner",value:function(e,t){var s=this.w,r=e.getAttribute("data:value"),a=s.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];s.globals.series.length>1&&this.printInnerLabels(t,a,r,e);var o=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==o&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,s=this.w,r=new D(this.ctx),a=s.config.plotOptions.polarArea.spokes;if(0!==a.strokeWidth){for(var o=[],l=360/s.globals.series.length,u=0;u<s.globals.series.length;u++)o.push(f.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize,s.config.plotOptions.pie.startAngle+l*u));o.forEach(function(y,b){var w=r.drawLine(y.x,y.y,t.centerX,t.centerY,Array.isArray(a.connectorColors)?a.connectorColors[b]:a.connectorColors);e.add(w)})}}},{key:"revertDataLabelsInner",value:function(e,t,s){var r=this,a=this.w,o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),l=!1,u=a.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),y=function(k){var E=k.makeSliceOut,I=k.printLabel;Array.prototype.forEach.call(u,function(P){"true"===P.getAttribute("data:pieClicked")&&(E&&(l=!0),I&&r.printDataLabelsInner(P,t))})};if(y({makeSliceOut:!0,printLabel:!1}),t.total.show&&a.globals.series.length>1)l&&!t.total.showAlways?y({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(t,t.total.label,t.total.formatter(a));else if(y({makeSliceOut:!1,printLabel:!0}),!l)if(a.globals.selectedDataPoints.length&&a.globals.series.length>1)if(a.globals.selectedDataPoints[0].length>0){var b=a.globals.selectedDataPoints[0],w=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(b));this.printDataLabelsInner(w,t)}else o&&a.globals.selectedDataPoints.length&&0===a.globals.selectedDataPoints[0].length&&(o.style.opacity=0);else o&&a.globals.series.length>1&&(o.style.opacity=0)}}]),R}(),Kt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new D(this.ctx),this.lineColorArr=void 0!==t.globals.stroke.colors?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight+1.5*t.globals.goldenPadding:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.coreUtils=new z(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),void 0!==t.config.plotOptions.radar.size&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return Se(R,[{key:"draw",value:function(e){var t=this,s=this.w,r=new De(this.ctx),a=[],o=new at(this.ctx);e.length&&(this.dataPointsLen=e[s.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var b=s.globals.gridHeight/2+s.config.plotOptions.radar.offsetY,w=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(s.globals.gridWidth/2+s.config.plotOptions.radar.offsetX||0,", ").concat(b||0,")")}),k=[],E=null,I=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(B,U){var j=B.length===s.globals.dataPoints,p=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":j,seriesName:f.escapeString(s.globals.seriesNames[U]),rel:U+1,"data:realIndex":U});t.dataRadiusOfPercent[U]=[],t.dataRadius[U]=[],t.angleArr[U]=[],B.forEach(function(we,se){var Me=Math.abs(t.maxValue-t.minValue);we+=Math.abs(t.minValue),t.isLog&&(we=t.coreUtils.getLogVal(we,0)),t.dataRadiusOfPercent[U][se]=we/Me,t.dataRadius[U][se]=t.dataRadiusOfPercent[U][se]*t.size,t.angleArr[U][se]=se*t.disAngle}),k=t.getDataPointsPos(t.dataRadius[U],t.angleArr[U]);var T=t.createPaths(k,{x:0,y:0});E=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),I=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":U}),s.globals.delayedElements.push({el:E.node,index:U});var L={i:U,realIndex:U,animationDelay:U,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:s.globals.stroke.colors[U],strokeLineCap:s.config.stroke.lineCap},N=null;s.globals.previousPaths.length>0&&(N=t.getPreviousPath(U));for(var q=0;q<T.linePathsTo.length;q++){var Q=t.graphics.renderPaths(ue(ue({},L),{},{pathFrom:null===N?T.linePathsFrom[q]:N,pathTo:T.linePathsTo[q],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[U]:t.strokeWidth,fill:"none",drawShadow:!1}));p.add(Q);var ne=r.fillPath({seriesNumber:U}),ae=t.graphics.renderPaths(ue(ue({},L),{},{pathFrom:null===N?T.areaPathsFrom[q]:N,pathTo:T.areaPathsTo[q],strokeWidth:0,fill:ne,drawShadow:!1}));s.config.chart.dropShadow.enabled&&new Y(t.ctx).dropShadow(ae,Object.assign({},s.config.chart.dropShadow,{noUserSpaceOnUse:!0}),U),p.add(ae)}B.forEach(function(we,se){var Me=new qe(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:U,dataPointIndex:se}),Oe=t.graphics.drawMarker(k[se].x,k[se].y,Me);Oe.attr("rel",se),Oe.attr("j",se),Oe.attr("index",U),Oe.node.setAttribute("default-marker-size",Me.pSize);var Ue=t.graphics.group({class:"apexcharts-series-markers"});Ue&&Ue.add(Oe),E.add(Ue),p.add(E);var je=s.config.dataLabels;if(je.enabled){var mt=je.formatter(s.globals.series[U][se],{seriesIndex:U,dataPointIndex:se,w:s});o.plotDataLabelsText({x:k[se].x,y:k[se].y,text:mt,textAnchor:"middle",i:U,j:U,parent:I,offsetCorrection:!1,dataLabelsConfig:ue({},je)})}p.add(I)}),a.push(p)}),this.drawPolygons({parent:w}),s.config.xaxis.labels.show){var P=this.drawXAxisTexts();w.add(P)}return a.forEach(function(B){w.add(B)}),w.add(this.yaxisLabels),w}},{key:"drawPolygons",value:function(e){for(var t=this,s=this.w,r=e.parent,a=new Li(this.ctx),o=s.globals.yAxisScale[0].result.reverse(),l=o.length,u=[],y=this.size/(l-1),b=0;b<l;b++)u[b]=y*b;u.reverse();var w=[],k=[];u.forEach(function(E,I){var P=f.getPolygonPos(E,t.dataPointsLen),B="";P.forEach(function(U,j){if(0===I){var p=t.graphics.drawLine(U.x,U.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[j]:t.polygons.connectorColors);k.push(p)}0===j&&t.yaxisLabelsTextsPos.push({x:U.x,y:U.y}),B+=U.x+","+U.y+" "}),w.push(B)}),w.forEach(function(E,I){var P=t.polygons.strokeColors,B=t.polygons.strokeWidth,U=t.graphics.drawPolygon(E,Array.isArray(P)?P[I]:P,Array.isArray(B)?B[I]:B,s.globals.radarPolygons.fill.colors[I]);r.add(U)}),k.forEach(function(E){r.add(E)}),s.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(E,I){var P=a.drawYAxisTexts(E.x,E.y,I,o[I]);t.yaxisLabels.add(P)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,s=t.config.xaxis.labels,r=this.graphics.group({class:"apexcharts-xaxis"}),a=f.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(o,l){var u=t.config.xaxis.labels.formatter,y=new at(e.ctx);if(a[l]){var b=e.getTextPos(a[l],e.size),w=u(o,{seriesIndex:-1,dataPointIndex:l,w:t});y.plotDataLabelsText({x:b.newX,y:b.newY,text:w,textAnchor:b.textAnchor,i:l,j:l,parent:r,color:Array.isArray(s.style.colors)&&s.style.colors[l]?s.style.colors[l]:"#a8a8a8",dataLabelsConfig:ue({textAnchor:b.textAnchor,dropShadow:{enabled:!1}},s),offsetCorrection:!1})}}),r}},{key:"createPaths",value:function(e,t){var s=this,r=[],a=[],o=[],l=[];if(e.length){a=[this.graphics.move(t.x,t.y)],l=[this.graphics.move(t.x,t.y)];var u=this.graphics.move(e[0].x,e[0].y),y=this.graphics.move(e[0].x,e[0].y);e.forEach(function(b,w){u+=s.graphics.line(b.x,b.y),y+=s.graphics.line(b.x,b.y),w===e.length-1&&(u+="Z",y+="Z")}),r.push(u),o.push(y)}return{linePathsFrom:a,linePathsTo:r,areaPathsFrom:l,areaPathsTo:o}}},{key:"getTextPos",value:function(e,t){var s="middle",r=e.x,a=e.y;return Math.abs(e.x)>=10?e.x>0?(s="start",r+=10):e.x<0&&(s="end",r-=10):s="middle",Math.abs(e.y)>=t-10&&(e.y<0?a-=10:e.y>0&&(a+=10)),{textAnchor:s,newX:r,newY:a}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,s=null,r=0;r<t.globals.previousPaths.length;r++){var a=t.globals.previousPaths[r];a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&void 0!==t.globals.previousPaths[r].paths[0]&&(s=t.globals.previousPaths[r].paths[0].d)}return s}},{key:"getDataPointsPos",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var r=[],a=0;a<s;a++){var o={};o.x=e[a]*Math.sin(t[a]),o.y=-e[a]*Math.cos(t[a]),r.push(o)}return r}}]),R}(),hi=function(R){_e(t,R);var e=Le(t);function t(s){var r;Ce(this,t),(r=e.call(this,s)).ctx=s,r.w=s.w,r.animBeginArr=[0],r.animDur=0;var a=r.w;return r.startAngle=a.config.plotOptions.radialBar.startAngle,r.endAngle=a.config.plotOptions.radialBar.endAngle,r.totalAngle=Math.abs(a.config.plotOptions.radialBar.endAngle-a.config.plotOptions.radialBar.startAngle),r.trackStartAngle=a.config.plotOptions.radialBar.track.startAngle,r.trackEndAngle=a.config.plotOptions.radialBar.track.endAngle,r.donutDataLabels=r.w.config.plotOptions.radialBar.dataLabels,r.radialDataLabels=r.donutDataLabels,r.trackStartAngle||(r.trackStartAngle=r.startAngle),r.trackEndAngle||(r.trackEndAngle=r.endAngle),360===r.endAngle&&(r.endAngle=359.99),r.margin=parseInt(a.config.plotOptions.radialBar.track.margin,10),r}return Se(t,[{key:"draw",value:function(s){var r=this.w,a=new D(this.ctx),o=a.group({class:"apexcharts-radialbar"});if(r.globals.noData)return o;var l=a.group(),u=this.defaultSize/2,y=r.globals.gridWidth/2,b=this.defaultSize/2.05;r.config.chart.sparkline.enabled||(b=b-r.config.stroke.width-r.config.chart.dropShadow.blur);var w=r.globals.fill.colors;if(r.config.plotOptions.radialBar.track.show){var k=this.drawTracks({size:b,centerX:y,centerY:u,colorArr:w,series:s});l.add(k)}var E=this.drawArcs({size:b,centerX:y,centerY:u,colorArr:w,series:s}),I=360;r.config.plotOptions.radialBar.startAngle<0&&(I=this.totalAngle);var P=(360-I)/360;if(r.globals.radialSize=b-b*P,this.radialDataLabels.value.show){var B=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);r.globals.radialSize+=B*P}return l.add(E.g),"front"===r.config.plotOptions.radialBar.hollow.position&&(E.g.add(E.elHollow),E.dataLabels&&E.g.add(E.dataLabels)),o.add(l),o}},{key:"drawTracks",value:function(s){var r=this.w,a=new D(this.ctx),o=a.group({class:"apexcharts-tracks"}),l=new Y(this.ctx),u=new De(this.ctx),y=this.getStrokeWidth(s);s.size=s.size-y/2;for(var b=0;b<s.series.length;b++){var w=a.group({class:"apexcharts-radialbar-track apexcharts-track"});o.add(w),w.attr({rel:b+1}),s.size=s.size-y-this.margin;var k=r.config.plotOptions.radialBar.track,E=u.fillPath({seriesNumber:0,size:s.size,fillColors:Array.isArray(k.background)?k.background[b]:k.background,solid:!0}),I=this.trackStartAngle,P=this.trackEndAngle;Math.abs(P)+Math.abs(I)>=360&&(P=360-Math.abs(this.startAngle)-.1);var B=a.drawPath({d:"",stroke:E,strokeWidth:y*parseInt(k.strokeWidth,10)/100,fill:"none",strokeOpacity:k.opacity,classes:"apexcharts-radialbar-area"});k.dropShadow.enabled&&l.dropShadow(B,k.dropShadow),w.add(B),B.attr("id","apexcharts-radialbarTrack-"+b),this.animatePaths(B,{centerX:s.centerX,centerY:s.centerY,endAngle:P,startAngle:I,size:s.size,i:b,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:r.globals.easing})}return o}},{key:"drawArcs",value:function(s){var r=this.w,a=new D(this.ctx),o=new De(this.ctx),l=new Y(this.ctx),u=a.group(),y=this.getStrokeWidth(s);s.size=s.size-y/2;var b=r.config.plotOptions.radialBar.hollow.background,w=s.size-y*s.series.length-this.margin*s.series.length-y*parseInt(r.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,k=w-r.config.plotOptions.radialBar.hollow.margin;void 0!==r.config.plotOptions.radialBar.hollow.image&&(b=this.drawHollowImage(s,u,w,b));var E=this.drawHollow({size:k,centerX:s.centerX,centerY:s.centerY,fill:b||"transparent"});r.config.plotOptions.radialBar.hollow.dropShadow.enabled&&l.dropShadow(E,r.config.plotOptions.radialBar.hollow.dropShadow);var P=1;!this.radialDataLabels.total.show&&r.globals.series.length>1&&(P=0);var B=null;this.radialDataLabels.show&&(B=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:w,centerX:s.centerX,centerY:s.centerY,opacity:P})),"back"===r.config.plotOptions.radialBar.hollow.position&&(u.add(E),B&&u.add(B));var U=!1;r.config.plotOptions.radialBar.inverseOrder&&(U=!0);for(var j=U?s.series.length-1:0;U?j>=0:j<s.series.length;U?j--:j++){var p=a.group({class:"apexcharts-series apexcharts-radial-series",seriesName:f.escapeString(r.globals.seriesNames[j])});u.add(p),p.attr({rel:j+1,"data:realIndex":j}),this.ctx.series.addCollapsedClassToSeries(p,j),s.size=s.size-y-this.margin;var T=o.fillPath({seriesNumber:j,size:s.size,value:s.series[j]}),L=this.startAngle,N=void 0,q=f.negToZero(s.series[j]>100?100:s.series[j])/100,Q=Math.round(this.totalAngle*q)+this.startAngle,ne=void 0;r.globals.dataChanged&&(N=this.startAngle,ne=Math.round(this.totalAngle*f.negToZero(r.globals.previousPaths[j])/100)+N),Math.abs(Q)+Math.abs(L)>=360&&(Q-=.01),Math.abs(ne)+Math.abs(N)>=360&&(ne-=.01);var ae=Q-L,ye=Array.isArray(r.config.stroke.dashArray)?r.config.stroke.dashArray[j]:r.config.stroke.dashArray,xe=a.drawPath({d:"",stroke:T,strokeWidth:y,fill:"none",fillOpacity:r.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+j,strokeDashArray:ye});D.setAttrs(xe.node,{"data:angle":ae,"data:value":s.series[j]}),r.config.chart.dropShadow.enabled&&l.dropShadow(xe,r.config.chart.dropShadow,j),l.setSelectionFilter(xe,0,j),this.addListeners(xe,this.radialDataLabels),p.add(xe),xe.attr({index:0,j});var se=0;!this.initialAnim||r.globals.resized||r.globals.dataChanged||(se=r.config.chart.animations.speed),r.globals.dataChanged&&(se=r.config.chart.animations.dynamicAnimation.speed),this.animDur=se/(1.2*s.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(xe,{centerX:s.centerX,centerY:s.centerY,endAngle:Q,startAngle:L,prevEndAngle:ne,prevStartAngle:N,size:s.size,i:j,totalItems:2,animBeginArr:this.animBeginArr,dur:se,shouldSetPrevPaths:!0,easing:r.globals.easing})}return{g:u,elHollow:E,dataLabels:B}}},{key:"drawHollow",value:function(s){var r=new D(this.ctx).drawCircle(2*s.size);return r.attr({class:"apexcharts-radialbar-hollow",cx:s.centerX,cy:s.centerY,r:s.size,fill:s.fill}),r}},{key:"drawHollowImage",value:function(s,r,a,o){var l=this.w,u=new De(this.ctx),y=f.randomId(),b=l.config.plotOptions.radialBar.hollow.image;if(l.config.plotOptions.radialBar.hollow.imageClipped)u.clippedImgArea({width:a,height:a,image:b,patternID:"pattern".concat(l.globals.cuid).concat(y)}),o="url(#pattern".concat(l.globals.cuid).concat(y,")");else{var w=l.config.plotOptions.radialBar.hollow.imageWidth,k=l.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===w&&void 0===k){var E=l.globals.dom.Paper.image(b).loaded(function(P){this.move(s.centerX-P.width/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-P.height/2+l.config.plotOptions.radialBar.hollow.imageOffsetY)});r.add(E)}else{var I=l.globals.dom.Paper.image(b).loaded(function(P){this.move(s.centerX-w/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-k/2+l.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(w,k)});r.add(I)}}return o}},{key:"getStrokeWidth",value:function(s){return s.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(s.series.length+1)-this.margin}}]),t}(qt),Pi=function(R){_e(t,R);var e=Le(t);function t(){return Ce(this,t),e.apply(this,arguments)}return Se(t,[{key:"draw",value:function(s,r){var a=this.w,o=new D(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=s,this.seriesRangeStart=a.globals.seriesRangeStart,this.seriesRangeEnd=a.globals.seriesRangeEnd,this.barHelpers.initVariables(s);for(var l=o.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),u=0;u<s.length;u++){var y,b,w,k=void 0,E=void 0,I=void 0,P=a.globals.comboCharts?r[u]:u,B=o.group({class:"apexcharts-series",seriesName:f.escapeString(a.globals.seriesNames[P]),rel:u+1,"data:realIndex":P});this.ctx.series.addCollapsedClassToSeries(B,P),s[u].length>0&&(this.visibleI=this.visibleI+1);var U=0,j=0;this.yRatio.length>1&&(this.yaxisIndex=P);var p=this.barHelpers.initialPositions();E=p.y,w=p.zeroW,k=p.x,j=p.barWidth,y=p.xDivision,b=p.zeroH;for(var T=o.group({class:"apexcharts-datalabels","data:realIndex":P}),L=o.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),N=0;N<a.globals.dataPoints;N++){var q=this.barHelpers.getStrokeWidth(u,N,P),Q=this.seriesRangeStart[u][N],ne=this.seriesRangeEnd[u][N],ae=null,ye=null,xe={x:k,y:E,strokeWidth:q,elSeries:B};if(I=p.yDivision,U=p.barHeight,this.isHorizontal){ye=E+U*this.visibleI;var we=this.seriesLen;a.config.plotOptions.bar.rangeBarGroupRows&&(we=1);var se=(I-U*we)/2;if(void 0===a.config.series[u].data[N])break;if(a.config.series[u].data[N].x){var Me=this.detectOverlappingBars({i:u,j:N,barYPosition:ye,srty:se,barHeight:U,yDivision:I,initPositions:p});U=Me.barHeight,ye=Me.barYPosition}j=(ae=this.drawRangeBarPaths(ue({indexes:{i:u,j:N,realIndex:P},barHeight:U,barYPosition:ye,zeroW:w,yDivision:I,y1:Q,y2:ne},xe))).barWidth}else U=(ae=this.drawRangeColumnPaths(ue({indexes:{i:u,j:N,realIndex:P},zeroH:b,barWidth:j,xDivision:y},xe))).barHeight;var Oe=this.barHelpers.drawGoalLine({barXPosition:ae.barXPosition,barYPosition:ye,goalX:ae.goalX,goalY:ae.goalY,barHeight:U,barWidth:j});Oe&&L.add(Oe),E=ae.y,k=ae.x;var Ue=this.barHelpers.getPathFillColor(s,u,N,P);this.renderSeries({realIndex:P,pathFill:Ue,lineFill:a.globals.stroke.colors[P],j:N,i:u,x:k,y:E,y1:Q,y2:ne,pathFrom:ae.pathFrom,pathTo:ae.pathTo,strokeWidth:q,elSeries:B,series:s,barHeight:U,barYPosition:ye,barWidth:j,elDataLabelsWrap:T,elGoalsMarkers:L,visibleSeries:this.visibleI,type:"rangebar"})}l.add(B)}return l}},{key:"detectOverlappingBars",value:function(s){var r=s.i,a=s.j,o=s.barYPosition,l=s.srty,u=s.barHeight,y=s.yDivision,b=s.initPositions,w=this.w,k=[],E=w.config.series[r].data[a].rangeName,I=w.config.series[r].data[a].x,P=w.globals.labels.indexOf(I),B=w.globals.seriesRange[r].findIndex(function(U){return U.x===I&&U.overlaps.length>0});return o=w.config.plotOptions.bar.rangeBarGroupRows?l+y*P:l+u*this.visibleI+y*P,B>-1&&!w.config.plotOptions.bar.rangeBarOverlap&&(k=w.globals.seriesRange[r][B].overlaps).indexOf(E)>-1&&(o=(u=b.barHeight/k.length)*this.visibleI+y*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+k.indexOf(E))+y*P),{barYPosition:o,barHeight:u}}},{key:"drawRangeColumnPaths",value:function(s){var r=s.indexes,a=s.x,o=s.xDivision,l=s.barWidth,u=s.zeroH,y=this.w,b=r.i,w=r.j,k=this.yRatio[this.yaxisIndex],E=r.realIndex,I=this.getRangeValue(E,w),P=Math.min(I.start,I.end),B=Math.max(I.start,I.end);y.globals.isXNumeric&&(a=(y.globals.seriesX[b][w]-y.globals.minX)/this.xRatio-l/2);var U=a+l*this.visibleI;null==this.series[b][w]?P=u:(P=u-P/k,B=u-B/k);var j=Math.abs(B-P),p=this.barHelpers.getColumnPaths({barXPosition:U,barWidth:l,y1:P,y2:B,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:r.realIndex,i:E,j:w,w:y});return y.globals.isXNumeric||(a+=o),{pathTo:p.pathTo,pathFrom:p.pathFrom,barHeight:j,x:a,y:B,goalY:this.barHelpers.getGoalValues("y",null,u,b,w),barXPosition:U}}},{key:"drawRangeBarPaths",value:function(s){var r=s.indexes,a=s.y,u=s.yDivision,y=s.barHeight,b=s.barYPosition,w=s.zeroW,k=this.w,E=w+s.y1/this.invertedYRatio,I=w+s.y2/this.invertedYRatio,P=Math.abs(I-E),B=this.barHelpers.getBarpaths({barYPosition:b,barHeight:y,x1:E,x2:I,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:r.realIndex,realIndex:r.realIndex,j:r.j,w:k});return k.globals.isXNumeric||(a+=u),{pathTo:B.pathTo,pathFrom:B.pathFrom,barWidth:P,x:I,goalX:this.barHelpers.getGoalValues("x",w,null,r.realIndex,r.j),y:a}}},{key:"getRangeValue",value:function(s,r){var a=this.w;return{start:a.globals.seriesRangeStart[s][r],end:a.globals.seriesRangeEnd[s][r]}}}]),t}(Qt),ei=function(){function R(e){Ce(this,R),this.w=e.w,this.lineCtx=e}return Se(R,[{key:"sameValueSeriesFix",value:function(e,t){var s=this.w;if(("gradient"===s.config.fill.type||"gradient"===s.config.fill.type[e])&&new z(this.lineCtx.ctx,s).seriesHaveSameValues(e)){var r=t[e].slice();r[r.length-1]=r[r.length-1]+1e-6,t[e]=r}return t}},{key:"calculatePoints",value:function(e){var t=e.series,r=e.x,a=e.y,o=e.i,l=e.j,u=e.prevY,y=this.w,b=[],w=[];if(0===l){var k=this.lineCtx.categoryAxisCorrection+y.config.markers.offsetX;y.globals.isXNumeric&&(k=(y.globals.seriesX[e.realIndex][0]-y.globals.minX)/this.lineCtx.xRatio+y.config.markers.offsetX),b.push(k),w.push(f.isNumber(t[o][0])?u+y.config.markers.offsetY:null),b.push(r+y.config.markers.offsetX),w.push(f.isNumber(t[o][l+1])?a+y.config.markers.offsetY:null)}else b.push(r+y.config.markers.offsetX),w.push(f.isNumber(t[o][l+1])?a+y.config.markers.offsetY:null);return{x:b,y:w}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,s=e.pathFromArea,r=e.realIndex,a=this.w,o=0;o<a.globals.previousPaths.length;o++){var l=a.globals.previousPaths[o];("line"===l.type||"area"===l.type)&&l.paths.length>0&&parseInt(l.realIndex,10)===parseInt(r,10)&&("line"===l.type?(this.lineCtx.appendPathFrom=!1,t=a.globals.previousPaths[o].paths[0].d):"area"===l.type&&(this.lineCtx.appendPathFrom=!1,s=a.globals.previousPaths[o].paths[0].d,a.config.stroke.show&&a.globals.previousPaths[o].paths[1]&&(t=a.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:t,pathFromArea:s}}},{key:"determineFirstPrevY",value:function(e){var t,s=e.i,r=e.series,a=e.prevY,o=e.lineYPosition,l=this.w;if(void 0!==(null===(t=r[s])||void 0===t?void 0:t[0]))a=(o=l.config.chart.stacked&&s>0?this.lineCtx.prevSeriesY[s-1][0]:this.lineCtx.zeroY)-r[s][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?r[s][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(l.config.chart.stacked&&s>0&&void 0===r[s][0])for(var u=s-1;u>=0;u--)if(null!=r[u][0]){a=o=this.lineCtx.prevSeriesY[u][0];break}return{prevY:a,lineYPosition:o}}}]),R}(),ti=function(){function R(e,t,s){Ce(this,R),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||s,this.scatter=new Qe(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new ei(this),this.markers=new qe(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return Se(R,[{key:"draw",value:function(e,t,s,r){var a=this.w,o=new D(this.ctx),l=a.globals.comboCharts?t:a.config.chart.type,u=o.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),y=new z(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=y.getLogSeries(e),this.yRatio=y.getLogYRatios(this.yRatio);for(var b=[],w=0;w<e.length;w++){e=this.lineHelpers.sameValueSeriesFix(w,e);var k=a.globals.comboCharts?s[w]:w;this._initSerieVariables(e,w,k);var E=[],I=[],P=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,k),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(P=(a.globals.seriesX[k][0]-a.globals.minX)/this.xRatio),I.push(P);var B,U=P,j=void 0,p=U,T=this.zeroY,L=this.zeroY;T=this.lineHelpers.determineFirstPrevY({i:w,series:e,prevY:T,lineYPosition:0}).prevY,E.push(T),B=T,"rangeArea"===l&&(j=L=this.lineHelpers.determineFirstPrevY({i:w,series:r,prevY:L,lineYPosition:0}).prevY);var N={type:l,series:e,realIndex:k,i:w,x:P,y:1,pX:U,pY:B,pathsFrom:this._calculatePathsFrom({type:l,series:e,i:w,realIndex:k,prevX:p,prevY:T,prevY2:L}),linePaths:[],areaPaths:[],seriesIndex:s,lineYPosition:0,xArrj:I,yArrj:E,seriesRangeEnd:r},q=this._iterateOverDataPoints(ue(ue({},N),{},{iterations:"rangeArea"===l?e[w].length-1:void 0,isRangeStart:!0}));if("rangeArea"===l){var Q=this._calculatePathsFrom({series:r,i:w,realIndex:k,prevX:p,prevY:L}),ne=this._iterateOverDataPoints(ue(ue({},N),{},{series:r,pY:j,pathsFrom:Q,iterations:r[w].length-1,isRangeStart:!1}));q.linePaths[0]=ne.linePath+q.linePath,q.pathFromLine=ne.pathFromLine+q.pathFromLine}this._handlePaths({type:l,realIndex:k,i:w,paths:q}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),b.push(this.elSeries)}if(a.config.chart.stacked)for(var ae=b.length;ae>0;ae--)u.add(b[ae-1]);else for(var ye=0;ye<b.length;ye++)u.add(b[ye]);return u}},{key:"_initSerieVariables",value:function(e,t,s){var r=this.w,a=new D(this.ctx);this.xDivision=r.globals.gridWidth/(r.globals.dataPoints-("on"===r.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(r.config.stroke.width)?r.config.stroke.width[s]:r.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=s),this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed,this.zeroY=r.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?r.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>r.globals.gridHeight||"end"===r.config.plotOptions.area.fillTo)&&(this.areaBottomY=r.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=a.group({class:"apexcharts-series",seriesName:f.escapeString(r.globals.seriesNames[s])}),this.elPointsMain=a.group({class:"apexcharts-series-markers-wrap","data:realIndex":s}),this.elDataLabelsWrap=a.group({class:"apexcharts-datalabels","data:realIndex":s}),this.elSeries.attr({"data:longestSeries":e[t].length===r.globals.dataPoints,rel:t+1,"data:realIndex":s}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,s,r,a,o=e.type,l=e.series,u=e.i,y=e.realIndex,b=e.prevX,w=e.prevY,k=e.prevY2,E=this.w,I=new D(this.ctx);if(null===l[u][0]){for(var P=0;P<l[u].length;P++)if(null!==l[u][P]){t=I.move(b=this.xDivision*P,w=this.zeroY-l[u][P]/this.yRatio[this.yaxisIndex]),s=I.move(b,this.areaBottomY);break}}else t=I.move(b,w),"rangeArea"===o&&(t=I.move(b,k)+I.line(b,w)),s=I.move(b,this.areaBottomY)+I.line(b,w);if(r=I.move(-1,this.zeroY)+I.line(-1,this.zeroY),a=I.move(-1,this.zeroY)+I.line(-1,this.zeroY),E.globals.previousPaths.length>0){var B=this.lineHelpers.checkPreviousPaths({pathFromLine:r,pathFromArea:a,realIndex:y});r=B.pathFromLine,a=B.pathFromArea}return{prevX:b,prevY:w,linePath:t,areaPath:s,pathFromLine:r,pathFromArea:a}}},{key:"_handlePaths",value:function(e){var t=e.type,s=e.realIndex,r=e.i,a=e.paths,o=this.w,l=new D(this.ctx),u=new De(this.ctx);this.prevSeriesY.push(a.yArrj),o.globals.seriesXvalues[s]=a.xArrj,o.globals.seriesYvalues[s]=a.yArrj;var y=o.config.forecastDataPoints;if(y.count>0&&"rangeArea"!==t){var b=o.globals.seriesXvalues[s][o.globals.seriesXvalues[s].length-y.count-1],w=l.drawRect(b,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(w.node);var k=l.drawRect(0,0,b,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(k.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:s});var E={i:r,realIndex:s,animationDelay:r,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if("area"===t)for(var I=u.fillPath({seriesNumber:s}),P=0;P<a.areaPaths.length;P++){var B=l.renderPaths(ue(ue({},E),{},{pathFrom:a.pathFromArea,pathTo:a.areaPaths[P],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:I}));this.elSeries.add(B)}if(o.config.stroke.show&&!this.pointsChart){var U=null;if("line"===t)U=u.fillPath({seriesNumber:s,i:r});else if("solid"===o.config.stroke.fill.type)U=o.globals.stroke.colors[s];else{var j=o.config.fill;o.config.fill=o.config.stroke.fill,U=u.fillPath({seriesNumber:s,i:r}),o.config.fill=j}for(var p=0;p<a.linePaths.length;p++){var T=U;"rangeArea"===t&&(T=u.fillPath({seriesNumber:s}));var L=ue(ue({},E),{},{pathFrom:a.pathFromLine,pathTo:a.linePaths[p],stroke:U,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:"rangeArea"===t?T:"none"}),N=l.renderPaths(L);if(this.elSeries.add(N),N.attr("fill-rule","evenodd"),y.count>0&&"rangeArea"!==t){var q=l.renderPaths(L);q.node.setAttribute("stroke-dasharray",y.dashArray),y.strokeWidth&&q.node.setAttribute("stroke-width",y.strokeWidth),this.elSeries.add(q),q.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),N.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t=e.type,s=e.series,r=e.iterations,a=e.realIndex,o=e.i,l=e.x,u=e.y,y=e.pX,b=e.pY,w=e.pathsFrom,k=e.linePaths,E=e.areaPaths,I=e.seriesIndex,P=e.lineYPosition,B=e.xArrj,U=e.yArrj,j=e.isRangeStart,p=e.seriesRangeEnd,T=this.w,L=new D(this.ctx),N=this.yRatio,q=w.prevY,Q=w.linePath,ne=w.areaPath,ae=w.pathFromLine,ye=w.pathFromArea,xe=f.isNumber(T.globals.minYArr[a])?T.globals.minYArr[a]:T.globals.minY;r||(r=T.globals.dataPoints>1?T.globals.dataPoints-1:T.globals.dataPoints);for(var we=u,se=0;se<r;se++){var Me=null==s[o][se+1];if(T.globals.isXNumeric){var Oe=T.globals.seriesX[a][se+1];void 0===T.globals.seriesX[a][se+1]&&(Oe=T.globals.seriesX[a][r-1]),l=(Oe-T.globals.minX)/this.xRatio}else l+=this.xDivision;P=T.config.chart.stacked&&o>0&&T.globals.collapsedSeries.length<T.config.series.length-1?this.prevSeriesY[function(mt){for(var dt=mt,bt=0;bt<T.globals.series.length;bt++)if(T.globals.collapsedSeriesIndices.indexOf(mt)>-1){dt--;break}return dt>=0?dt:0}(o-1)][se+1]:this.zeroY,Me?u=P-xe/N[this.yaxisIndex]+2*(this.isReversed?xe/N[this.yaxisIndex]:0):(u=P-s[o][se+1]/N[this.yaxisIndex]+2*(this.isReversed?s[o][se+1]/N[this.yaxisIndex]:0),"rangeArea"===t&&(we=P-p[o][se+1]/N[this.yaxisIndex]+2*(this.isReversed?p[o][se+1]/N[this.yaxisIndex]:0))),B.push(l),U.push(u);var Ue=this.lineHelpers.calculatePoints({series:s,x:l,y:u,realIndex:a,i:o,j:se,prevY:q}),je=this._createPaths({type:t,series:s,i:o,realIndex:a,j:se,x:l,y:u,y2:we,pX:y,pY:b,linePath:Q,areaPath:ne,linePaths:k,areaPaths:E,seriesIndex:I,isRangeStart:j});E=je.areaPaths,k=je.linePaths,y=je.pX,b=je.pY,ne=je.areaPath,Q=je.linePath,this.appendPathFrom&&(ae+=L.line(l,this.zeroY),ye+=L.line(l,this.zeroY)),this.handleNullDataPoints(s,Ue,o,se,a),this._handleMarkersAndLabels({type:t,pointsPos:Ue,i:o,j:se,realIndex:a,isRangeStart:j})}return{yArrj:U,xArrj:B,pathFromArea:ye,areaPaths:E,pathFromLine:ae,linePaths:k,linePath:Q,areaPath:ne}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,s=e.pointsPos,r=e.isRangeStart,a=e.i,o=e.j,l=e.realIndex,u=this.w,y=new at(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:l,pointsPos:s,zRatio:this.zRatio,elParent:this.elPointsMain});else{u.globals.series[a].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var b=this.markers.plotChartMarkers(s,l,o+1);null!==b&&this.elPointsMain.add(b)}var w=y.drawDataLabel({type:t,isRangeStart:r,pos:s,i:l,j:o+1});null!==w&&this.elDataLabelsWrap.add(w)}},{key:"_createPaths",value:function(e){var t=e.type,s=e.series,r=e.i,a=e.realIndex,o=e.j,l=e.x,u=e.y,y=e.y2,b=e.pX,w=e.pY,k=e.linePath,E=e.areaPath,I=e.linePaths,P=e.areaPaths,B=e.seriesIndex,U=e.isRangeStart,j=this.w,p=new D(this.ctx),T=j.config.stroke.curve,L=this.areaBottomY;if(Array.isArray(j.config.stroke.curve)&&(T=Array.isArray(B)?j.config.stroke.curve[B[r]]:j.config.stroke.curve[r]),"smooth"===T){var N=.35*(l-b);j.globals.hasNullValues?(null!==s[r][o]&&(null!==s[r][o+1]?(k=p.move(b,w)+p.curve(b+N,w,l-N,u,l+1,u),E=p.move(b+1,w)+p.curve(b+N,w,l-N,u,l+1,u)+p.line(l,L)+p.line(b,L)+"z"):(k=p.move(b,w),E=p.move(b,w)+"z")),I.push(k),P.push(E)):(k+=p.curve(b+N,w,l-N,u,l,u),E+=p.curve(b+N,w,l-N,u,l,u)),b=l,w=u,o===s[r].length-2&&(E=E+p.curve(b,w,l,u,l,L)+p.move(l,u)+"z","rangeArea"===t&&U?k=k+p.curve(b,w,l,u,l,y)+p.move(l,y)+"z":j.globals.hasNullValues||(I.push(k),P.push(E)))}else null===s[r][o+1]&&(k+=p.move(l,u),E=E+p.line(j.globals.isXNumeric?(j.globals.seriesX[a][o]-j.globals.minX)/this.xRatio:l-this.xDivision,L)+p.move(l,u)+"z"),null===s[r][o]&&(k+=p.move(l,u),E+=p.move(l,L)),"stepline"===T?(k=k+p.line(l,null,"H")+p.line(null,u,"V"),E=E+p.line(l,null,"H")+p.line(null,u,"V")):"straight"===T&&(k+=p.line(l,u),E+=p.line(l,u)),o===s[r].length-2&&(E=E+p.line(l,L)+p.move(l,u)+"z","rangeArea"===t&&U?k=k+p.line(l,y)+p.move(l,y)+"z":(I.push(k),P.push(E)));return{linePaths:I,areaPaths:P,pX:b,pY:w,linePath:k,areaPath:E}}},{key:"handleNullDataPoints",value:function(e,t,s,r,a){var o=this.w;if(null===e[s][r]&&o.config.markers.showNullDataPoints||1===e[s].length){var l=this.markers.plotChartMarkers(t,a,r+1,this.strokeWidth-o.config.markers.strokeWidth/2,!0);null!==l&&this.elPointsMain.add(l)}}}]),R}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function R(l,u,y,b){this.xoffset=l,this.yoffset=u,this.height=b,this.width=y,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(w){var k,E=[],I=this.xoffset,P=this.yoffset,B=a(w)/this.height,U=a(w)/this.width;if(this.width>=this.height)for(k=0;k<w.length;k++)E.push([I,P,I+B,P+w[k]/B]),P+=w[k]/B;else for(k=0;k<w.length;k++)E.push([I,P,I+w[k]/U,P+U]),I+=w[k]/U;return E},this.cutArea=function(w){var k;if(this.width>=this.height){var E=w/this.height;k=new R(this.xoffset+E,this.yoffset,this.width-E,this.height)}else{var P=w/this.width;k=new R(this.xoffset,this.yoffset+P,this.width,this.height-P)}return k}}function e(l,u,y,b,w){return b=void 0===b?0:b,w=void 0===w?0:w,function(E){var I,P,B=[];for(I=0;I<E.length;I++)for(P=0;P<E[I].length;P++)B.push(E[I][P]);return B}(t(function(E,I){var P,B=[],U=I/a(E);for(P=0;P<E.length;P++)B[P]=E[P]*U;return B}(l,u*y),[],new R(b,w,u,y),[]))}function t(l,u,y,b){var w,k,E,I,P,B,U;if(0!==l.length)return w=y.shortestEdge(),P=k=l[0],B=w,0===(I=u).length||((U=I.slice()).push(P),s(I,B)>=s(U,B))?(u.push(k),t(l.slice(1),u,y,b)):(E=y.cutArea(a(u),b),b.push(y.getCoordinates(u)),t(l,[],E,b)),b;b.push(y.getCoordinates(u))}function s(l,u){var y=Math.min.apply(Math,l),b=Math.max.apply(Math,l),w=a(l);return Math.max(Math.pow(u,2)*b/Math.pow(w,2),Math.pow(w,2)/(Math.pow(u,2)*y))}function r(l){return l&&l.constructor===Array}function a(l){var u,y=0;for(u=0;u<l.length;u++)y+=l[u];return y}function o(l){var u,y=0;if(r(l[0]))for(u=0;u<l.length;u++)y+=o(l[u]);else y=a(l);return y}return function l(u,y,b,w,k){w=void 0===w?0:w,k=void 0===k?0:k;var E,I,P=[],B=[];if(r(u[0])){for(I=0;I<u.length;I++)P[I]=o(u[I]);for(E=e(P,y,b,w,k),I=0;I<u.length;I++)B.push(l(u[I],E[I][2]-E[I][0],E[I][3]-E[I][1],E[I][0],E[I][1]))}else B=e(u,y,b,w,k);return B}}();var Ut,oi,Fi=function(){function R(e,t){Ce(this,R),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Ii(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return Se(R,[{key:"draw",value:function(e){var t=this,s=this.w,r=new D(this.ctx),a=new De(this.ctx),o=r.group({class:"apexcharts-treemap"});if(s.globals.noData)return o;var l=[];return e.forEach(function(u){var y=u.map(function(b){return Math.abs(b)});l.push(y)}),this.negRange=this.helpers.checkColorRange(),s.config.series.forEach(function(u,y){u.data.forEach(function(b){Array.isArray(t.labels[y])||(t.labels[y]=[]),t.labels[y].push(b.x)})}),window.TreemapSquared.generate(l,s.globals.gridWidth,s.globals.gridHeight).forEach(function(u,y){var b=r.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:f.escapeString(s.globals.seriesNames[y]),rel:y+1,"data:realIndex":y});if(s.config.chart.dropShadow.enabled){var w=s.config.chart.dropShadow;new Y(t.ctx).dropShadow(o,w,y)}var k=r.group({class:"apexcharts-data-labels"});u.forEach(function(E,I){var P=E[0],B=E[1],U=E[2],j=E[3],p=r.drawRect(P,B,U-P,j-B,0,"#fff",1,t.strokeWidth,s.config.plotOptions.treemap.useFillColorAsStroke?L:s.globals.stroke.colors[y]);p.attr({cx:P,cy:B,index:y,i:y,j:I,width:U-P,height:j-B});var T=t.helpers.getShadeColor(s.config.chart.type,y,I,t.negRange),L=T.color;void 0!==s.config.series[y].data[I]&&s.config.series[y].data[I].fillColor&&(L=s.config.series[y].data[I].fillColor);var N=a.fillPath({color:L,seriesNumber:y,dataPointIndex:I});p.node.classList.add("apexcharts-treemap-rect"),p.attr({fill:N}),t.helpers.addListeners(p);var q={x:P+(U-P)/2,y:B+(j-B)/2,width:0,height:0},Q={x:P,y:B,width:U-P,height:j-B};if(s.config.chart.animations.enabled&&!s.globals.dataChanged){var ne=1;s.globals.resized||(ne=s.config.chart.animations.speed),t.animateTreemap(p,q,Q,ne)}s.globals.dataChanged&&t.dynamicAnim.enabled&&s.globals.shouldAnimate&&(s.globals.previousPaths[y]&&s.globals.previousPaths[y][I]&&s.globals.previousPaths[y][I].rect&&(q=s.globals.previousPaths[y][I].rect),t.animateTreemap(p,q,Q,t.dynamicAnim.speed));var ye=t.getFontSize(E),xe=s.config.dataLabels.formatter(t.labels[y][I],{value:s.globals.series[y][I],seriesIndex:y,dataPointIndex:I,w:s}),we=t.helpers.calculateDataLabels({text:xe,x:(P+U)/2,y:(B+j)/2+t.strokeWidth/2+ye/3,i:y,j:I,colorProps:T,fontSize:ye,series:e});s.config.dataLabels.enabled&&we&&t.rotateToFitLabel(we,ye,xe,P,B,U,j),b.add(p),null!==we&&b.add(we)}),b.add(k),o.add(b)}),o}},{key:"getFontSize",value:function(e){var o,t=this.w,l=function u(y){var b,w=0;if(Array.isArray(y[0]))for(b=0;b<y.length;b++)w+=u(y[b]);else for(b=0;b<y.length;b++)w+=y[b].length;return w}(this.labels)/function u(y){var b,w=0;if(Array.isArray(y[0]))for(b=0;b<y.length;b++)w+=u(y[b]);else for(b=0;b<y.length;b++)w+=1;return w}(this.labels);return o=Math.pow((e[2]-e[0])*(e[3]-e[1]),.5),Math.min(o/l,parseInt(t.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(e,t,s,r,a,o,l){var u=new D(this.ctx),y=u.getTextRects(s,t);if(y.width+this.w.config.stroke.width+5>o-r&&y.width<=l-a){var b=u.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(b.x," ").concat(b.y,")"))}}},{key:"animateTreemap",value:function(e,t,s,r){var a=new W(this.ctx);a.animateRect(e,{x:t.x,y:t.y,width:t.width,height:t.height},{x:s.x,y:s.y,width:s.width,height:s.height},r,function(){a.animationCompleted(e)})}}]),R}(),Mi=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return Se(R,[{key:"calculateTimeScaleTicks",value:function(e,t){var s=this,r=this.w;if(r.globals.allSeriesCollapsed)return r.globals.labels=[],r.globals.timescaleLabels=[],[];var a=new fe(this.ctx),o=(t-e)/864e5;this.determineInterval(o),r.globals.disableZoomIn=!1,r.globals.disableZoomOut=!1,o<.00011574074074074075?r.globals.disableZoomIn=!0:o>5e4&&(r.globals.disableZoomOut=!0);var l=a.getTimeUnitsfromTimestamp(e,t,this.utc),u=r.globals.gridWidth/o,y=u/24,b=y/60,w=b/60,k=Math.floor(24*o),E=Math.floor(1440*o),I=Math.floor(86400*o),P=Math.floor(o),B=Math.floor(o/30),U=Math.floor(o/365),j={minMillisecond:l.minMillisecond,minSecond:l.minSecond,minMinute:l.minMinute,minHour:l.minHour,minDate:l.minDate,minMonth:l.minMonth,minYear:l.minYear},p={firstVal:j,currentMillisecond:j.minMillisecond,currentSecond:j.minSecond,currentMinute:j.minMinute,currentHour:j.minHour,currentMonthDate:j.minDate,currentDate:j.minDate,currentMonth:j.minMonth,currentYear:j.minYear,daysWidthOnXAxis:u,hoursWidthOnXAxis:y,minutesWidthOnXAxis:b,secondsWidthOnXAxis:w,numberOfSeconds:I,numberOfMinutes:E,numberOfHours:k,numberOfDays:P,numberOfMonths:B,numberOfYears:U};switch(this.tickInterval){case"years":this.generateYearScale(p);break;case"months":case"half_year":this.generateMonthScale(p);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(p);break;case"hours":this.generateHourScale(p);break;case"minutes_fives":case"minutes":this.generateMinuteScale(p);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(p)}var T=this.timeScaleArray.map(function(L){var N={position:L.position,unit:L.unit,year:L.year,day:L.day?L.day:1,hour:L.hour?L.hour:0,month:L.month+1};return"month"===L.unit?ue(ue({},N),{},{day:1,value:L.value+1}):"day"===L.unit||"hour"===L.unit?ue(ue({},N),{},{value:L.value}):"minute"===L.unit?ue(ue({},N),{},{value:L.value,minute:L.value}):"second"===L.unit?ue(ue({},N),{},{value:L.value,minute:L.minute,second:L.second}):L});return T.filter(function(L){var N=1,q=Math.ceil(r.globals.gridWidth/120),Q=L.value;void 0!==r.config.xaxis.tickAmount&&(q=r.config.xaxis.tickAmount),T.length>q&&(N=Math.floor(T.length/q));var ne=!1,ae=!1;switch(s.tickInterval){case"years":"year"===L.unit&&(ne=!0);break;case"half_year":N=7,"year"===L.unit&&(ne=!0);break;case"months":N=1,"year"===L.unit&&(ne=!0);break;case"months_fortnight":N=15,"year"!==L.unit&&"month"!==L.unit||(ne=!0),30===Q&&(ae=!0);break;case"months_days":N=10,"month"===L.unit&&(ne=!0),30===Q&&(ae=!0);break;case"week_days":N=8,"month"===L.unit&&(ne=!0);break;case"days":N=1,"month"===L.unit&&(ne=!0);break;case"hours":"day"===L.unit&&(ne=!0);break;case"minutes_fives":case"seconds_fives":Q%5!=0&&(ae=!0);break;case"seconds_tens":Q%10!=0&&(ae=!0)}if("hours"===s.tickInterval||"minutes_fives"===s.tickInterval||"seconds_tens"===s.tickInterval||"seconds_fives"===s.tickInterval){if(!ae)return!0}else if((Q%N==0||ne)&&!ae)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var s=this.w,r=this.formatDates(e),a=this.removeOverlappingTS(r);s.globals.timescaleLabels=a.slice(),new Bt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,s=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case s>15:this.tickInterval="minutes_fives";break;case s>5:this.tickInterval="minutes";break;case s>1:this.tickInterval="seconds_tens";break;case 60*s>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,s=e.currentMonth,r=e.currentYear,a=e.daysWidthOnXAxis,o=e.numberOfYears,l=t.minYear,u=0,y=new fe(this.ctx),b="year";if(t.minDate>1||t.minMonth>0){var w=y.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);u=(y.determineDaysOfYear(t.minYear)-w+1)*a,this.timeScaleArray.push({position:u,value:l=t.minYear+1,unit:b,year:l,month:f.monthMod(s+1)})}else 1===t.minDate&&0===t.minMonth&&this.timeScaleArray.push({position:u,value:l,unit:b,year:r,month:f.monthMod(s+1)});for(var k=l,E=u,I=0;I<o;I++)k++,E=y.determineDaysOfYear(k-1)*a+E,this.timeScaleArray.push({position:E,value:k,unit:b,year:k,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,s=e.currentMonthDate,r=e.currentMonth,a=e.currentYear,o=e.daysWidthOnXAxis,l=e.numberOfMonths,u=r,y=0,b=new fe(this.ctx),w="month",k=0;if(t.minDate>1){y=(b.determineDaysOfMonths(r+1,t.minYear)-s+1)*o,u=f.monthMod(r+1);var E=a+k,I=f.monthMod(u),P=u;0===u&&(w="year",P=E,I=1,E+=k+=1),this.timeScaleArray.push({position:y,value:P,unit:w,year:E,month:I})}else this.timeScaleArray.push({position:y,value:u,unit:w,year:a,month:f.monthMod(r)});for(var B=u+1,U=y,j=0,p=1;j<l;j++,p++){0===(B=f.monthMod(B))?(w="year",k+=1):w="month";var T=this._getYear(a,B,k);U=b.determineDaysOfMonths(B,T)*o+U,this.timeScaleArray.push({position:U,value:0===B?T:B,unit:w,year:T,month:0===B?1:B}),B++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,s=e.currentMonth,r=e.currentYear,a=e.hoursWidthOnXAxis,o=e.numberOfDays,l=new fe(this.ctx),u="day",y=t.minDate+1,b=y,w=function(p,T,L){return p>l.determineDaysOfMonths(T+1,L)&&(b=1,u="month",E=T+=1),T},k=(24-t.minHour)*a,E=y,I=w(b,s,r);0===t.minHour&&1===t.minDate?(k=0,E=f.monthMod(t.minMonth),u="month",b=t.minDate,o++):1!==t.minDate&&0===t.minHour&&0===t.minMinute&&(k=0,E=y=t.minDate,I=w(b=y,s,r)),this.timeScaleArray.push({position:k,value:E,unit:u,year:this._getYear(r,I,0),month:f.monthMod(I),day:b});for(var P=k,B=0;B<o;B++){u="day",I=w(b+=1,I,this._getYear(r,I,0));var U=this._getYear(r,I,0);P=24*a+P;var j=1===b?f.monthMod(I):b;this.timeScaleArray.push({position:P,value:j,unit:u,year:U,month:f.monthMod(I),day:j})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,s=e.currentDate,r=e.currentMonth,a=e.currentYear,o=e.minutesWidthOnXAxis,l=e.numberOfHours,u=new fe(this.ctx),y="hour",w=function(N,q){return N>u.determineDaysOfMonths(q+1,a)?q+=1:q},k=60-(t.minMinute+t.minSecond/60),E=k*o,I=t.minHour+1,P=I+1;60===k&&(E=0,P=(I=t.minHour)+1);var N,q,B=s,U=w(B,r);this.timeScaleArray.push({position:E,value:I,unit:y,day:B,hour:P,year:a,month:f.monthMod(U)});for(var j=E,p=0;p<l;p++){y="hour",P>=24&&(P=0,y="day",U=(N=B+=1,q=U,N>u.determineDaysOfMonths(q+1,a)&&(B=1,q+=1),{month:q,date:B}).month,U=w(B,U));var T=this._getYear(a,U,0);this.timeScaleArray.push({position:j=60*o+j,value:0===P?B:P,unit:y,hour:P,day:B,year:T,month:f.monthMod(U)}),P++}}},{key:"generateMinuteScale",value:function(e){for(var y=e.minutesWidthOnXAxis,w=e.numberOfMinutes,k=e.currentMinute+1,E=e.currentDate,I=e.currentMonth,P=e.currentYear,B=e.currentHour,U=(60-e.currentSecond-e.currentMillisecond/1e3)*e.secondsWidthOnXAxis,j=0;j<w;j++)k>=60&&(k=0,24===(B+=1)&&(B=0)),this.timeScaleArray.push({position:U,value:k,unit:"minute",hour:B,minute:k,day:E,year:this._getYear(P,I,0),month:f.monthMod(I)}),U+=y,k++}},{key:"generateSecondScale",value:function(e){for(var y=e.secondsWidthOnXAxis,b=e.numberOfSeconds,w=e.currentSecond+1,k=e.currentMinute,E=e.currentDate,I=e.currentMonth,P=e.currentYear,B=e.currentHour,U=(1e3-e.currentMillisecond)/1e3*y,j=0;j<b;j++)w>=60&&(w=0,++k>=60&&(k=0,24==++B&&(B=0))),this.timeScaleArray.push({position:U,value:w,unit:"second",hour:B,minute:k,second:w,day:E,year:this._getYear(P,I,0),month:f.monthMod(I)}),U+=y,w++}},{key:"createRawDateString",value:function(e,t){var s=e.year;return 0===e.month&&(e.month=1),s+="-"+("0"+e.month.toString()).slice(-2),s+="day"===e.unit?"day"===e.unit?"-"+("0"+t).slice(-2):"-01":"-"+("0"+(e.day?e.day:"1")).slice(-2),s+="hour"===e.unit?"hour"===e.unit?"T"+("0"+t).slice(-2):"T00":"T"+("0"+(e.hour?e.hour:"0")).slice(-2),s+="minute"===e.unit?":"+("0"+t).slice(-2):":"+(e.minute?("0"+e.minute).slice(-2):"00"),s+="second"===e.unit?":"+("0"+t).slice(-2):":00",this.utc&&(s+=".000Z"),s}},{key:"formatDates",value:function(e){var t=this,s=this.w;return e.map(function(r){var a=r.value.toString(),o=new fe(t.ctx),l=t.createRawDateString(r,a),u=o.getDate(o.parseDate(l));if(t.utc||(u=o.getDate(o.parseDateWithTimezone(l))),void 0===s.config.xaxis.labels.format){var y="dd MMM",b=s.config.xaxis.labels.datetimeFormatter;"year"===r.unit&&(y=b.year),"month"===r.unit&&(y=b.month),"day"===r.unit&&(y=b.day),"hour"===r.unit&&(y=b.hour),"minute"===r.unit&&(y=b.minute),"second"===r.unit&&(y=b.second),a=o.formatDate(u,y)}else a=o.formatDate(u,s.config.xaxis.labels.format);return{dateString:l,position:r.position,value:a,unit:r.unit,year:r.year,month:r.month}})}},{key:"removeOverlappingTS",value:function(e){var t,s=this,r=new D(this.ctx),a=!1;e.length>0&&e[0].value&&e.every(function(u){return u.value.length===e[0].value.length})&&(a=!0,t=r.getTextRects(e[0].value).width);var o=0;return e.map(function(u,y){if(y>0&&s.w.config.xaxis.labels.hideOverlappingLabels){var b=a?t:r.getTextRects(e[o].value).width;return u.position>e[o].position+b+10?(o=y,u):null}return u}).filter(function(u){return null!==u})}},{key:"_getYear",value:function(e,t,s){return e+Math.floor(t/12)+s}}]),R}(),Vi=function(){function R(e,t){Ce(this,R),this.ctx=t,this.w=t.w,this.el=e}return Se(R,[{key:"setupElements",value:function(){var e=this.w.globals,t=this.w.config,s=t.chart.type;e.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(s)>-1,e.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(s)>-1,e.isBarHorizontal=("bar"===t.chart.type||"rangeBar"===t.chart.type||"boxPlot"===t.chart.type)&&t.plotOptions.bar.horizontal,e.chartClass=".apexcharts"+e.chartID,e.dom.baseEl=this.el,e.dom.elWrap=document.createElement("div"),D.setAttrs(e.dom.elWrap,{id:e.chartClass.substring(1),class:"apexcharts-canvas "+e.chartClass.substring(1)}),this.el.appendChild(e.dom.elWrap),e.dom.Paper=new window.SVG.Doc(e.dom.elWrap),e.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(t.chart.offsetX,", ").concat(t.chart.offsetY,")")}),e.dom.Paper.node.style.background=t.chart.background,this.setSVGDimensions(),e.dom.elLegendForeign=document.createElementNS(e.SVGNS,"foreignObject"),D.setAttrs(e.dom.elLegendForeign,{x:0,y:0,width:e.svgWidth,height:e.svgHeight}),e.dom.elLegendWrap=document.createElement("div"),e.dom.elLegendWrap.classList.add("apexcharts-legend"),e.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.dom.elLegendForeign.appendChild(e.dom.elLegendWrap),e.dom.Paper.node.appendChild(e.dom.elLegendForeign),e.dom.elGraphical=e.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),e.dom.elDefs=e.dom.Paper.defs(),e.dom.Paper.add(e.dom.elGraphical),e.dom.elGraphical.add(e.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var s=this.w,r=s.config,a=s.globals,o={series:[],i:[]},l={series:[],i:[]},u={series:[],i:[]},y={series:[],i:[]},b={series:[],i:[]},w={series:[],i:[]},k={series:[],i:[]},E={series:[],i:[]},I={series:[],seriesRangeEnd:[],i:[]};a.series.map(function(q,Q){var ne=0;void 0!==e[Q].type?("column"===e[Q].type||"bar"===e[Q].type?(a.series.length>1&&r.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),b.series.push(q),b.i.push(Q),ne++,s.globals.columnSeries=b.series):"area"===e[Q].type?(l.series.push(q),l.i.push(Q),ne++):"line"===e[Q].type?(o.series.push(q),o.i.push(Q),ne++):"scatter"===e[Q].type?(u.series.push(q),u.i.push(Q)):"bubble"===e[Q].type?(y.series.push(q),y.i.push(Q),ne++):"candlestick"===e[Q].type?(w.series.push(q),w.i.push(Q),ne++):"boxPlot"===e[Q].type?(k.series.push(q),k.i.push(Q),ne++):"rangeBar"===e[Q].type?(E.series.push(q),E.i.push(Q),ne++):"rangeArea"===e[Q].type?(I.series.push(a.seriesRangeStart[Q]),I.seriesRangeEnd.push(a.seriesRangeEnd[Q]),I.i.push(Q),ne++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),ne>1&&(a.comboCharts=!0)):(o.series.push(q),o.i.push(Q))});var P=new ti(this.ctx,t),B=new di(this.ctx,t);this.ctx.pie=new qt(this.ctx);var U=new hi(this.ctx);this.ctx.rangeBar=new Pi(this.ctx,t);var j=new Kt(this.ctx),p=[];if(a.comboCharts){if(l.series.length>0&&p.push(P.draw(l.series,"area",l.i)),b.series.length>0)if(s.config.chart.stacked){var T=new Jt(this.ctx,t);p.push(T.draw(b.series,b.i))}else this.ctx.bar=new Qt(this.ctx,t),p.push(this.ctx.bar.draw(b.series,b.i));if(I.series.length>0&&p.push(P.draw(I.series,"rangeArea",I.i,I.seriesRangeEnd)),o.series.length>0&&p.push(P.draw(o.series,"line",o.i)),w.series.length>0&&p.push(B.draw(w.series,"candlestick",w.i)),k.series.length>0&&p.push(B.draw(k.series,"boxPlot",k.i)),E.series.length>0&&p.push(this.ctx.rangeBar.draw(E.series,E.i)),u.series.length>0){var L=new ti(this.ctx,t,!0);p.push(L.draw(u.series,"scatter",u.i))}if(y.series.length>0){var N=new ti(this.ctx,t,!0);p.push(N.draw(y.series,"bubble",y.i))}}else switch(r.chart.type){case"line":p=P.draw(a.series,"line");break;case"area":p=P.draw(a.series,"area");break;case"bar":r.chart.stacked?p=new Jt(this.ctx,t).draw(a.series):(this.ctx.bar=new Qt(this.ctx,t),p=this.ctx.bar.draw(a.series));break;case"candlestick":p=new di(this.ctx,t).draw(a.series,"candlestick");break;case"boxPlot":p=new di(this.ctx,t).draw(a.series,"boxPlot");break;case"rangeBar":p=this.ctx.rangeBar.draw(a.series);break;case"rangeArea":p=P.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":p=new $i(this.ctx,t).draw(a.series);break;case"treemap":p=new Fi(this.ctx,t).draw(a.series);break;case"pie":case"donut":case"polarArea":p=this.ctx.pie.draw(a.series);break;case"radialBar":p=U.draw(a.series);break;case"radar":p=j.draw(a.series);break;default:p=P.draw(a.series)}return p}},{key:"setSVGDimensions",value:function(){var e=this.w.globals,t=this.w.config;e.svgWidth=t.chart.width,e.svgHeight=t.chart.height;var s=f.getDimensions(this.el),r=t.chart.width.toString().split(/[0-9]+/g).pop();"%"===r?f.isNumber(s[0])&&(0===s[0].width&&(s=f.getDimensions(this.el.parentNode)),e.svgWidth=s[0]*parseInt(t.chart.width,10)/100):"px"!==r&&""!==r||(e.svgWidth=parseInt(t.chart.width,10));var a=t.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==e.svgHeight&&""!==e.svgHeight)if("%"===a){var o=f.getDimensions(this.el.parentNode);e.svgHeight=o[1]*parseInt(t.chart.height,10)/100}else e.svgHeight=parseInt(t.chart.height,10);else e.svgHeight=e.axisCharts?e.svgWidth/1.61:e.svgWidth/1.2;e.svgWidth<0&&(e.svgWidth=0),e.svgHeight<0&&(e.svgHeight=0),D.setAttrs(e.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),"%"!==a&&(e.dom.Paper.node.parentNode.parentNode.style.minHeight=e.svgHeight+(t.chart.sparkline.enabled?0:e.axisCharts?t.chart.parentHeightOffset:0)+"px"),e.dom.elWrap.style.width=e.svgWidth+"px",e.dom.elWrap.style.height=e.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals;D.setAttrs(e.dom.elGraphical.node,{transform:"translate("+e.translateX+", "+e.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=0,r=e.config.chart.sparkline.enabled?1:15;r+=e.config.grid.padding.bottom,"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||!e.config.legend.show||e.config.legend.floating||(s=new Fe(this.ctx).legendHelpers.getLegendBBox().clwh+10);var a=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*e.globals.radialSize;if(a&&!e.config.chart.sparkline.enabled&&0!==e.config.plotOptions.radialBar.startAngle){var l=f.getBoundingClientRect(a);o=l.bottom,o=Math.max(2.05*e.globals.radialSize,l.bottom-l.top)}var y=o+t.translateY+s+r;t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",y),e.config.chart.height&&String(e.config.chart.height).indexOf("%")>0||(t.dom.elWrap.style.height=y+"px",D.setAttrs(t.dom.Paper.node,{height:y}),t.dom.Paper.node.parentNode.parentNode.style.minHeight=y+"px")}},{key:"coreCalculations",value:function(){new Dt(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(a){return[]})},s=new Ke,r=this.w.globals;s.initGlobalVars(r),r.seriesXvalues=t(),r.seriesYvalues=t()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var e=null,t=this.w;if(t.globals.axisCharts){if("back"===t.config.xaxis.crosshairs.position&&new jt(this.ctx).drawXCrosshairs(),"back"===t.config.yaxis[0].crosshairs.position&&new jt(this.ctx).drawYCrosshairs(),"datetime"===t.config.xaxis.type&&void 0===t.config.xaxis.labels.formatter){this.ctx.timeScale=new Mi(this.ctx);var s=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?s=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(s=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(s)}e=new z(this.ctx).getCalculatedRatios()}return e}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.w;if(t.config.chart.brush.enabled&&"function"!=typeof t.config.chart.events.selection){var s=t.config.chart.brush.targets||[t.config.chart.brush.target];s.forEach(function(r){var a=ApexCharts.getChartByID(r);a.w.globals.brushSource=e.ctx,"function"!=typeof a.w.config.chart.events.zoomed&&(a.w.config.chart.events.zoomed=function(){e.updateSourceChart(a)}),"function"!=typeof a.w.config.chart.events.scrolled&&(a.w.config.chart.events.scrolled=function(){e.updateSourceChart(a)})}),t.config.chart.events.selection=function(r,a){s.forEach(function(o){var l=ApexCharts.getChartByID(o),u=f.clone(t.config.yaxis);if(t.config.chart.brush.autoScaleYaxis&&1===l.w.globals.series.length){var y=new Tt(l);u=y.autoScaleY(l,u,a)}var b=l.w.config.yaxis.reduce(function(w,k,E){return[].concat(be(w),[ue(ue({},l.w.config.yaxis[E]),{},{min:u[0].min,max:u[0].max})])},[]);l.ctx.updateHelpers._updateOptions({xaxis:{min:a.xaxis.min,max:a.xaxis.max},yaxis:b},!1,!1,!1,!1)})}}}}]),R}(),Oi=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"_updateOptions",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(l){var u=[t.ctx];a&&(u=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(u=[t.ctx],t.ctx.w.globals.isExecCalled=!1),u.forEach(function(y,b){var w=y.w;if(w.globals.shouldAnimate=r,s||(w.globals.resized=!0,w.globals.dataChanged=!0,r&&y.series.getPreviousPaths()),e&&"object"===m(e)&&(y.config=new He(e),e=z.extendArrayProps(y.config,e,w),y.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,w.config=f.extend(w.config,e),o&&(w.globals.lastXAxis=e.xaxis?f.clone(e.xaxis):[],w.globals.lastYAxis=e.yaxis?f.clone(e.yaxis):[],w.globals.initialConfig=f.extend({},w.config),w.globals.initialSeries=f.clone(w.config.series),e.series))){for(var k=0;k<w.globals.collapsedSeriesIndices.length;k++){var E=w.config.series[w.globals.collapsedSeriesIndices[k]];w.globals.collapsedSeries[k].data=w.globals.axisCharts?E.data.slice():E}for(var I=0;I<w.globals.ancillaryCollapsedSeriesIndices.length;I++){var P=w.config.series[w.globals.ancillaryCollapsedSeriesIndices[I]];w.globals.ancillaryCollapsedSeries[I].data=w.globals.axisCharts?P.data.slice():P}y.series.emptyCollapsedSeries(w.config.series)}return y.update(e).then(function(){b===u.length-1&&l(y)})})})}},{key:"_updateSeries",value:function(e,t){var s=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(a){var o,l=s.w;return l.globals.shouldAnimate=t,l.globals.dataChanged=!0,t&&s.ctx.series.getPreviousPaths(),l.globals.axisCharts?(0===(o=e.map(function(u,y){return s._extendSeries(u,y)})).length&&(o=[{data:[]}]),l.config.series=o):l.config.series=e.slice(),r&&(l.globals.initialConfig.series=f.clone(l.config.series),l.globals.initialSeries=f.clone(l.config.series)),s.ctx.update().then(function(){a(s.ctx)})})}},{key:"_extendSeries",value:function(e,t){var s=this.w,r=s.config.series[t];return ue(ue({},s.config.series[t]),{},{name:e.name?e.name:r&&r.name,color:e.color?e.color:r&&r.color,type:e.type?e.type:r&&r.type,data:e.data?e.data:r&&r.data})}},{key:"toggleDataPointSelection",value:function(e,t){var s=this.w,r=null,a=".apexcharts-series[data\\:realIndex='".concat(e,"']");return s.globals.axisCharts?r=s.globals.dom.Paper.select("".concat(a," path[j='").concat(t,"'], ").concat(a," circle[j='").concat(t,"'], ").concat(a," rect[j='").concat(t,"']")).members[0]:void 0===t&&(r=s.globals.dom.Paper.select("".concat(a," path[j='").concat(e,"']")).members[0],"pie"!==s.config.chart.type&&"polarArea"!==s.config.chart.type&&"donut"!==s.config.chart.type||this.ctx.pie.pieClicked(e)),r?(new D(this.ctx).pathMouseDown(r,null),r.node?r.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(r){void 0!==e.xaxis[r]&&(t.config.xaxis[r]=e.xaxis[r],t.globals.lastXAxis[r]=e.xaxis[r])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var s=new Ve(e);e=s.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&"100%"===e.chart.stackType&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,s){e.yaxis[s].min=0,e.yaxis[s].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,s=this.w,r=s.globals.lastXAxis,a=s.globals.lastYAxis;e&&e.xaxis&&(r=e.xaxis),e&&e.yaxis&&(a=e.yaxis),s.config.xaxis.min=r.min,s.config.xaxis.max=r.max,s.config.yaxis.map(function(l,u){s.globals.zoomed||void 0!==a[u]?function(l){void 0!==a[l]&&(s.config.yaxis[l].min=a[l].min,s.config.yaxis[l].max=a[l].max)}(u):void 0!==t.ctx.opts.yaxis[u]&&(l.min=t.ctx.opts.yaxis[u].min,l.max=t.ctx.opts.yaxis[u].max)})}}]),R}();Ut=typeof window<"u"?window:void 0,oi=function(R,e){var t=(void 0!==this?this:R).SVG=function(p){if(t.supported)return p=new t.Doc(p),t.parser.draw||t.prepare(),p};if(t.ns="http://www.w3.org/2000/svg",t.xmlns="http://www.w3.org/2000/xmlns/",t.xlink="http://www.w3.org/1999/xlink",t.svgjs="http://svgjs.dev",t.supported=!0,!t.supported)return!1;t.did=1e3,t.eid=function(p){return"Svgjs"+b(p)+t.did++},t.create=function(p){var T=e.createElementNS(this.ns,p);return T.setAttribute("id",this.eid(p)),T},t.extend=function(){var p,T;T=(p=[].slice.call(arguments)).pop();for(var L=p.length-1;L>=0;L--)if(p[L])for(var N in T)p[L].prototype[N]=T[N];t.Set&&t.Set.inherit&&t.Set.inherit()},t.invent=function(p){var T="function"==typeof p.create?p.create:function(){this.constructor.call(this,t.create(p.create))};return p.inherit&&(T.prototype=new p.inherit),p.extend&&t.extend(T,p.extend),p.construct&&t.extend(p.parent||t.Container,p.construct),T},t.adopt=function(p){return p?p.instance?p.instance:((T="svg"==p.nodeName?p.parentNode instanceof R.SVGElement?new t.Nested:new t.Doc:"linearGradient"==p.nodeName?new t.Gradient("linear"):"radialGradient"==p.nodeName?new t.Gradient("radial"):t[b(p.nodeName)]?new(t[b(p.nodeName)]):new t.Element(p)).type=p.nodeName,T.node=p,p.instance=T,T instanceof t.Doc&&T.namespace().defs(),T.setData(JSON.parse(p.getAttribute("svgjs:data"))||{}),T):null;var T},t.prepare=function(){var p=e.getElementsByTagName("body")[0],T=(p?new t.Doc(p):t.adopt(e.documentElement).nested()).size(2,0);t.parser={body:p||e.documentElement,draw:T.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:T.polyline().node,path:T.path().node,native:t.create("svg")}},t.parser={native:t.create("svg")},e.addEventListener("DOMContentLoaded",function(){t.parser.draw||t.prepare()},!1),t.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},t.utils={map:function(p,T){for(var L=p.length,N=[],q=0;q<L;q++)N.push(T(p[q]));return N},filter:function(p,T){for(var L=p.length,N=[],q=0;q<L;q++)T(p[q])&&N.push(p[q]);return N},filterSVGElements:function(p){return this.filter(p,function(T){return T instanceof R.SVGElement})}},t.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},t.Color=function(p){var T,L;this.r=0,this.g=0,this.b=0,p&&("string"==typeof p?t.regex.isRgb.test(p)?(T=t.regex.rgb.exec(p.replace(t.regex.whitespace,"")),this.r=parseInt(T[1]),this.g=parseInt(T[2]),this.b=parseInt(T[3])):t.regex.isHex.test(p)&&(T=t.regex.hex.exec(4==(L=p).length?["#",L.substring(1,2),L.substring(1,2),L.substring(2,3),L.substring(2,3),L.substring(3,4),L.substring(3,4)].join(""):L),this.r=parseInt(T[1],16),this.g=parseInt(T[2],16),this.b=parseInt(T[3],16)):"object"===m(p)&&(this.r=p.r,this.g=p.g,this.b=p.b))},t.extend(t.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+w(this.r)+w(this.g)+w(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(p){return this.destination=new t.Color(p),this},at:function(p){return this.destination?new t.Color({r:~~(this.r+(this.destination.r-this.r)*(p=p<0?0:p>1?1:p)),g:~~(this.g+(this.destination.g-this.g)*p),b:~~(this.b+(this.destination.b-this.b)*p)}):this}}),t.Color.test=function(p){return t.regex.isHex.test(p+="")||t.regex.isRgb.test(p)},t.Color.isRgb=function(p){return p&&"number"==typeof p.r&&"number"==typeof p.g&&"number"==typeof p.b},t.Color.isColor=function(p){return t.Color.isRgb(p)||t.Color.test(p)},t.Array=function(p,T){0==(p=(p||[]).valueOf()).length&&T&&(p=T.valueOf()),this.value=this.parse(p)},t.extend(t.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(p){return p=p.valueOf(),Array.isArray(p)?p:this.split(p)}}),t.PointArray=function(p,T){t.Array.call(this,p,T||[[0,0]])},t.PointArray.prototype=new t.Array,t.PointArray.prototype.constructor=t.PointArray;for(var s={M:function(p,T,L){return T.x=L.x=p[0],T.y=L.y=p[1],["M",T.x,T.y]},L:function(p,T){return T.x=p[0],T.y=p[1],["L",p[0],p[1]]},H:function(p,T){return T.x=p[0],["H",p[0]]},V:function(p,T){return T.y=p[0],["V",p[0]]},C:function(p,T){return T.x=p[4],T.y=p[5],["C",p[0],p[1],p[2],p[3],p[4],p[5]]},Q:function(p,T){return T.x=p[2],T.y=p[3],["Q",p[0],p[1],p[2],p[3]]},Z:function(p,T,L){return T.x=L.x,T.y=L.y,["Z"]}},r="mlhvqtcsaz".split(""),a=0,o=r.length;a<o;++a)s[r[a]]=function(p){return function(T,L,N){if("H"==p)T[0]=T[0]+L.x;else if("V"==p)T[0]=T[0]+L.y;else if("A"==p)T[5]=T[5]+L.x,T[6]=T[6]+L.y;else for(var q=0,Q=T.length;q<Q;++q)T[q]=T[q]+(q%2?L.y:L.x);if(s&&"function"==typeof s[p])return s[p](T,L,N)}}(r[a].toUpperCase());t.PathArray=function(p,T){t.Array.call(this,p,T||[["M",0,0]])},t.PathArray.prototype=new t.Array,t.PathArray.prototype.constructor=t.PathArray,t.extend(t.PathArray,{toString:function(){return function(p){for(var T=0,L=p.length,N="";T<L;T++)N+=p[T][0],null!=p[T][1]&&(N+=p[T][1],null!=p[T][2]&&(N+=" ",N+=p[T][2],null!=p[T][3]&&(N+=" ",N+=p[T][3],N+=" ",N+=p[T][4],null!=p[T][5]&&(N+=" ",N+=p[T][5],N+=" ",N+=p[T][6],null!=p[T][7]&&(N+=" ",N+=p[T][7])))));return N+" "}(this.value)},move:function(p,T){return this.bbox(),this},at:function(p){if(!this.destination)return this;for(var T=this.value,L=this.destination.value,N=[],q=new t.PathArray,Q=0,ne=T.length;Q<ne;Q++){N[Q]=[T[Q][0]];for(var ae=1,ye=T[Q].length;ae<ye;ae++)N[Q][ae]=T[Q][ae]+(L[Q][ae]-T[Q][ae])*p;"A"===N[Q][0]&&(N[Q][4]=+(0!=N[Q][4]),N[Q][5]=+(0!=N[Q][5]))}return q.value=N,q},parse:function(p){if(p instanceof t.PathArray)return p.valueOf();var T,L={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};p="string"==typeof p?p.replace(t.regex.numbersWithDots,u).replace(t.regex.pathLetters," $& ").replace(t.regex.hyphen,"$1 -").trim().split(t.regex.delimiter):p.reduce(function(ye,xe){return[].concat.call(ye,xe)},[]);var N=[],q=new t.Point,Q=new t.Point,ne=0,ae=p.length;do{t.regex.isPathLetter.test(p[ne])?(T=p[ne],++ne):"M"==T?T="L":"m"==T&&(T="l"),N.push(s[T].call(null,p.slice(ne,ne+=L[T.toUpperCase()]).map(parseFloat),q,Q))}while(ae>ne);return N},bbox:function(){return t.parser.draw||t.prepare(),t.parser.path.setAttribute("d",this.toString()),t.parser.path.getBBox()}}),t.Number=t.invent({create:function(p,T){this.value=0,this.unit=T||"","number"==typeof p?this.value=isNaN(p)?0:isFinite(p)?p:p<0?-34e37:34e37:"string"==typeof p?(T=p.match(t.regex.numberAndUnit))&&(this.value=parseFloat(T[1]),"%"==T[5]?this.value/=100:"s"==T[5]&&(this.value*=1e3),this.unit=T[5]):p instanceof t.Number&&(this.value=p.valueOf(),this.unit=p.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(p){return p=new t.Number(p),new t.Number(this+p,this.unit||p.unit)},minus:function(p){return p=new t.Number(p),new t.Number(this-p,this.unit||p.unit)},times:function(p){return p=new t.Number(p),new t.Number(this*p,this.unit||p.unit)},divide:function(p){return p=new t.Number(p),new t.Number(this/p,this.unit||p.unit)},to:function(p){var T=new t.Number(this);return"string"==typeof p&&(T.unit=p),T},morph:function(p){return this.destination=new t.Number(p),p.relative&&(this.destination.value+=this.value),this},at:function(p){return this.destination?new t.Number(this.destination).minus(this).times(p).plus(this):this}}}),t.Element=t.invent({create:function(p){this._stroke=t.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=p)&&(this.type=p.nodeName,this.node.instance=this,this._stroke=p.getAttribute("stroke")||this._stroke)},extend:{x:function(p){return this.attr("x",p)},y:function(p){return this.attr("y",p)},cx:function(p){return null==p?this.x()+this.width()/2:this.x(p-this.width()/2)},cy:function(p){return null==p?this.y()+this.height()/2:this.y(p-this.height()/2)},move:function(p,T){return this.x(p).y(T)},center:function(p,T){return this.cx(p).cy(T)},width:function(p){return this.attr("width",p)},height:function(p){return this.attr("height",p)},size:function(p,T){var L=k(this,p,T);return this.width(new t.Number(L.width)).height(new t.Number(L.height))},clone:function(p){this.writeDataToDom();var T=P(this.node.cloneNode(!0));return p?p.add(T):this.after(T),T},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(p){return this.after(p).remove(),p},addTo:function(p){return p.put(this)},putIn:function(p){return p.add(this)},id:function(p){return this.attr("id",p)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var p=this.attr("class");return null==p?[]:p.trim().split(t.regex.delimiter)},hasClass:function(p){return-1!=this.classes().indexOf(p)},addClass:function(p){if(!this.hasClass(p)){var T=this.classes();T.push(p),this.attr("class",T.join(" "))}return this},removeClass:function(p){return this.hasClass(p)&&this.attr("class",this.classes().filter(function(T){return T!=p}).join(" ")),this},toggleClass:function(p){return this.hasClass(p)?this.removeClass(p):this.addClass(p)},reference:function(p){return t.get(this.attr(p))},parent:function(p){var T=this;if(!T.node.parentNode)return null;if(T=t.adopt(T.node.parentNode),!p)return T;for(;T&&T.node instanceof R.SVGElement;){if("string"==typeof p?T.matches(p):T instanceof p)return T;if(!T.node.parentNode||"#document"==T.node.parentNode.nodeName)return null;T=t.adopt(T.node.parentNode)}},doc:function(){return this instanceof t.Doc?this:this.parent(t.Doc)},parents:function(p){var T=[],L=this;do{if(!(L=L.parent(p))||!L.node)break;T.push(L)}while(L.parent);return T},matches:function(p){return((T=this.node).matches||T.matchesSelector||T.msMatchesSelector||T.mozMatchesSelector||T.webkitMatchesSelector||T.oMatchesSelector).call(T,p);var T},native:function(){return this.node},svg:function(p){var T=e.createElement("svg");if(!(p&&this instanceof t.Parent))return T.appendChild(p=e.createElement("svg")),this.writeDataToDom(),p.appendChild(this.node.cloneNode(!0)),T.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");T.innerHTML="<svg>"+p.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var L=0,N=T.firstChild.childNodes.length;L<N;L++)this.node.appendChild(T.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(p){return this.dom=p,this},is:function(p){return this instanceof p}}}),t.easing={"-":function(p){return p},"<>":function(p){return-Math.cos(p*Math.PI)/2+.5},">":function(p){return Math.sin(p*Math.PI/2)},"<":function(p){return 1-Math.cos(p*Math.PI/2)}},t.morph=function(p){return function(T,L){return new t.MorphObj(T,L).at(p)}},t.Situation=t.invent({create:function(p){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new t.Number(p.duration).valueOf(),this.delay=new t.Number(p.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=p.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),t.FX=t.invent({create:function(p){this._target=p,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(p,T,L){"object"===m(p)&&(T=p.ease,L=p.delay,p=p.duration);var N=new t.Situation({duration:p||1e3,delay:L||0,ease:t.easing[T||"-"]||T});return this.queue(N),this},target:function(p){return p&&p instanceof t.Element?(this._target=p,this):this._target},timeToAbsPos:function(p){return(p-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(p){return this.situation.duration/this._speed*p+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=R.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){R.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(p){return("function"==typeof p||p instanceof t.Situation)&&this.situations.push(p),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof t.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var p,T=this.situation;if(T.init)return this;for(var L in T.animations){p=this.target()[L](),Array.isArray(p)||(p=[p]),Array.isArray(T.animations[L])||(T.animations[L]=[T.animations[L]]);for(var N=p.length;N--;)T.animations[L][N]instanceof t.Number&&(p[N]=new t.Number(p[N])),T.animations[L][N]=p[N].morph(T.animations[L][N])}for(var L in T.attrs)T.attrs[L]=new t.MorphObj(this.target().attr(L),T.attrs[L]);for(var L in T.styles)T.styles[L]=new t.MorphObj(this.target().style(L),T.styles[L]);return T.initialTransformation=this.target().matrixify(),T.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(p,T){var L=this.active;return this.active=!1,T&&this.clearQueue(),p&&this.situation&&(!L&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(p){var T=this.last();return this.target().on("finished.fx",function L(N){N.detail.situation==T&&(p.call(this,T),this.off("finished.fx",L))}),this._callStart()},during:function(p){var T=this.last(),L=function(N){N.detail.situation==T&&p.call(this,N.detail.pos,t.morph(N.detail.pos),N.detail.eased,T)};return this.target().off("during.fx",L).on("during.fx",L),this.after(function(){this.off("during.fx",L)}),this._callStart()},afterAll:function(p){var T=function L(N){p.call(this),this.off("allfinished.fx",L)};return this.target().off("allfinished.fx",T).on("allfinished.fx",T),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(p,T,L){return this.last()[L||"animations"][p]=T,this._callStart()},step:function(p){var T,L,N;p||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(T=Math.max(this.absPos,0),L=Math.floor(T),!0===this.situation.loops||L<this.situation.loops?(this.pos=T-L,N=this.situation.loop,this.situation.loop=L):(this.absPos=this.situation.loops,this.pos=1,N=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-N)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var q=this.situation.ease(this.pos);for(var Q in this.situation.once)Q>this.lastPos&&Q<=q&&(this.situation.once[Q].call(this.target(),this.pos,q),delete this.situation.once[Q]);return this.active&&this.target().fire("during",{pos:this.pos,eased:q,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=q,this):this},eachAt:function(){var p,T=this,L=this.target(),N=this.situation;for(var q in N.animations)p=[].concat(N.animations[q]).map(function(ae){return"string"!=typeof ae&&ae.at?ae.at(N.ease(T.pos),T.pos):ae}),L[q].apply(L,p);for(var q in N.attrs)p=[q].concat(N.attrs[q]).map(function(ye){return"string"!=typeof ye&&ye.at?ye.at(N.ease(T.pos),T.pos):ye}),L.attr.apply(L,p);for(var q in N.styles)p=[q].concat(N.styles[q]).map(function(ye){return"string"!=typeof ye&&ye.at?ye.at(N.ease(T.pos),T.pos):ye}),L.style.apply(L,p);if(N.transforms.length){p=N.initialTransformation,q=0;for(var Q=N.transforms.length;q<Q;q++){var ne=N.transforms[q];ne instanceof t.Matrix?p=ne.relative?p.multiply((new t.Matrix).morph(ne).at(N.ease(this.pos))):p.morph(ne).at(N.ease(this.pos)):(ne.relative||ne.undo(p.extract()),p=p.multiply(ne.at(N.ease(this.pos))))}L.matrix(p)}return this},once:function(p,T,L){var N=this.last();return L||(p=N.ease(p)),N.once[p]=T,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:t.Element,construct:{animate:function(p,T,L){return(this.fx||(this.fx=new t.FX(this))).animate(p,T,L)},delay:function(p){return(this.fx||(this.fx=new t.FX(this))).delay(p)},stop:function(p,T){return this.fx&&this.fx.stop(p,T),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),t.MorphObj=t.invent({create:function(p,T){return t.Color.isColor(T)?new t.Color(p).morph(T):t.regex.delimiter.test(p)?t.regex.pathLetters.test(p)?new t.PathArray(p).morph(T):new t.Array(p).morph(T):t.regex.numberAndUnit.test(T)?new t.Number(p).morph(T):(this.value=p,void(this.destination=T))},extend:{at:function(p,T){return T<1?this.value:this.destination},valueOf:function(){return this.value}}}),t.extend(t.FX,{attr:function(p,T,L){if("object"===m(p))for(var N in p)this.attr(N,p[N]);else this.add(p,T,"attrs");return this},plot:function(p,T,L,N){return 4==arguments.length?this.plot([p,T,L,N]):this.add("plot",new(this.target().morphArray)(p))}}),t.Box=t.invent({create:function(p,T,L,N){if(!("object"!==m(p)||p instanceof t.Element))return t.Box.call(this,null!=p.left?p.left:p.x,null!=p.top?p.top:p.y,p.width,p.height);var q;4==arguments.length&&(this.x=p,this.y=T,this.width=L,this.height=N),null==(q=this).x&&(q.x=0,q.y=0,q.width=0,q.height=0),q.w=q.width,q.h=q.height,q.x2=q.x+q.width,q.y2=q.y+q.height,q.cx=q.x+q.width/2,q.cy=q.y+q.height/2}}),t.BBox=t.invent({create:function(p){if(t.Box.apply(this,[].slice.call(arguments)),p instanceof t.Element){var T;try{if(!e.documentElement.contains){for(var L=p.node;L.parentNode;)L=L.parentNode;if(L!=e)throw new Error("Element not in the dom")}T=p.node.getBBox()}catch{if(p instanceof t.Shape){t.parser.draw||t.prepare();var N=p.clone(t.parser.draw.instance).show();N&&N.node&&"function"==typeof N.node.getBBox&&(T=N.node.getBBox()),N&&"function"==typeof N.remove&&N.remove()}else T={x:p.node.clientLeft,y:p.node.clientTop,width:p.node.clientWidth,height:p.node.clientHeight}}t.Box.call(this,T)}},inherit:t.Box,parent:t.Element,construct:{bbox:function(){return new t.BBox(this)}}}),t.BBox.prototype.constructor=t.BBox,t.Matrix=t.invent({create:function(p){var T=I([1,0,0,1,0,0]);p=null===p?T:p instanceof t.Element?p.matrixify():"string"==typeof p?I(p.split(t.regex.delimiter).map(parseFloat)):6==arguments.length?I([].slice.call(arguments)):Array.isArray(p)?I(p):p&&"object"===m(p)?p:T;for(var L=U.length-1;L>=0;--L)this[U[L]]=null!=p[U[L]]?p[U[L]]:T[U[L]]},extend:{extract:function(){var p=E(this,0,1);E(this,1,0);var T=180/Math.PI*Math.atan2(p.y,p.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(T*Math.PI/180)+this.f*Math.sin(T*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(T*Math.PI/180)+this.e*Math.sin(-T*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:T,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new t.Matrix(this)}},clone:function(){return new t.Matrix(this)},morph:function(p){return this.destination=new t.Matrix(p),this},multiply:function(p){return new t.Matrix(this.native().multiply((T=p,T instanceof t.Matrix||(T=new t.Matrix(T)),T).native()));var T},inverse:function(){return new t.Matrix(this.native().inverse())},translate:function(p,T){return new t.Matrix(this.native().translate(p||0,T||0))},native:function(){for(var p=t.parser.native.createSVGMatrix(),T=U.length-1;T>=0;T--)p[U[T]]=this[U[T]];return p},toString:function(){return"matrix("+B(this.a)+","+B(this.b)+","+B(this.c)+","+B(this.d)+","+B(this.e)+","+B(this.f)+")"}},parent:t.Element,construct:{ctm:function(){return new t.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof t.Nested){var p=this.rect(1,1),T=p.node.getScreenCTM();return p.remove(),new t.Matrix(T)}return new t.Matrix(this.node.getScreenCTM())}}}),t.Point=t.invent({create:function(p,T){var L;L=Array.isArray(p)?{x:p[0],y:p[1]}:"object"===m(p)?{x:p.x,y:p.y}:null!=p?{x:p,y:T??p}:{x:0,y:0},this.x=L.x,this.y=L.y},extend:{clone:function(){return new t.Point(this)},morph:function(p,T){return this.destination=new t.Point(p,T),this}}}),t.extend(t.Element,{point:function(p,T){return new t.Point(p,T).transform(this.screenCTM().inverse())}}),t.extend(t.Element,{attr:function(p,T,L){if(null==p){for(p={},L=(T=this.node.attributes).length-1;L>=0;L--)p[T[L].nodeName]=t.regex.isNumber.test(T[L].nodeValue)?parseFloat(T[L].nodeValue):T[L].nodeValue;return p}if("object"===m(p))for(var N in p)this.attr(N,p[N]);else if(null===T)this.node.removeAttribute(p);else{if(null==T)return null==(T=this.node.getAttribute(p))?t.defaults.attrs[p]:t.regex.isNumber.test(T)?parseFloat(T):T;"stroke-width"==p?this.attr("stroke",parseFloat(T)>0?this._stroke:null):"stroke"==p&&(this._stroke=T),"fill"!=p&&"stroke"!=p||(t.regex.isImage.test(T)&&(T=this.doc().defs().image(T,0,0)),T instanceof t.Image&&(T=this.doc().defs().pattern(0,0,function(){this.add(T)}))),"number"==typeof T?T=new t.Number(T):t.Color.isColor(T)?T=new t.Color(T):Array.isArray(T)&&(T=new t.Array(T)),"leading"==p?this.leading&&this.leading(T):"string"==typeof L?this.node.setAttributeNS(L,p,T.toString()):this.node.setAttribute(p,T.toString()),!this.rebuild||"font-size"!=p&&"x"!=p||this.rebuild(p,T)}return this}}),t.extend(t.Element,{transform:function(p,T){var L;return"object"!==m(p)?(L=new t.Matrix(this).extract(),"string"==typeof p?L[p]:L):(L=new t.Matrix(this),T=!!T||!!p.relative,null!=p.a&&(L=T?L.multiply(new t.Matrix(p)):new t.Matrix(p)),this.attr("transform",L))}}),t.extend(t.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(t.regex.transforms).slice(0,-1).map(function(p){var T=p.trim().split("(");return[T[0],T[1].split(t.regex.delimiter).map(function(L){return parseFloat(L)})]}).reduce(function(p,T){return"matrix"==T[0]?p.multiply(I(T[1])):p[T[0]].apply(p,T[1])},new t.Matrix)},toParent:function(p){if(this==p)return this;var T=this.screenCTM(),L=p.screenCTM().inverse();return this.addTo(p).untransform().transform(L.multiply(T)),this},toDoc:function(){return this.toParent(this.doc())}}),t.Transformation=t.invent({create:function(p,T){if(arguments.length>1&&"boolean"!=typeof T)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(p))for(var L=0,N=this.arguments.length;L<N;++L)this[this.arguments[L]]=p[L];else if(p&&"object"===m(p))for(L=0,N=this.arguments.length;L<N;++L)this[this.arguments[L]]=p[this.arguments[L]];this.inversed=!1,!0===T&&(this.inversed=!0)}}),t.Translate=t.invent({parent:t.Matrix,inherit:t.Transformation,create:function(p,T){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),t.extend(t.Element,{style:function(p,T){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===m(p))for(var L in p)this.style(L,p[L]);else{if(!t.regex.isCss.test(p))return this.node.style[y(p)];for(p=p.split(/\s*;\s*/).filter(function(N){return!!N}).map(function(N){return N.split(/\s*:\s*/)});T=p.pop();)this.style(T[0],T[1])}else this.node.style[y(p)]=null===T||t.regex.isBlank.test(T)?"":T;return this}}),t.Parent=t.invent({create:function(p){this.constructor.call(this,p)},inherit:t.Element,extend:{children:function(){return t.utils.map(t.utils.filterSVGElements(this.node.childNodes),function(p){return t.adopt(p)})},add:function(p,T){return null==T?this.node.appendChild(p.node):p.node!=this.node.childNodes[T]&&this.node.insertBefore(p.node,this.node.childNodes[T]),this},put:function(p,T){return this.add(p,T),p},has:function(p){return this.index(p)>=0},index:function(p){return[].slice.call(this.node.childNodes).indexOf(p.node)},get:function(p){return t.adopt(this.node.childNodes[p])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(p,T){for(var L=this.children(),N=0,q=L.length;N<q;N++)L[N]instanceof t.Element&&p.apply(L[N],[N,L]),T&&L[N]instanceof t.Container&&L[N].each(p,T);return this},removeElement:function(p){return this.node.removeChild(p.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),t.extend(t.Parent,{ungroup:function(p,T){return 0===T||this instanceof t.Defs||this.node==t.parser.draw||(p=p||(this instanceof t.Doc?this:this.parent(t.Parent)),T=T||1/0,this.each(function(){return this instanceof t.Defs?this:this instanceof t.Parent?this.ungroup(p,T-1):this.toParent(p)}),this.node.firstChild||this.remove()),this},flatten:function(p,T){return this.ungroup(p,T)}}),t.Container=t.invent({create:function(p){this.constructor.call(this,p)},inherit:t.Parent}),t.ViewBox=t.invent({parent:t.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(p){t.Element.prototype[p]=function(T){return t.on(this.node,p,T),this}}),t.listeners=[],t.handlerMap=[],t.listenerId=0,t.on=function(p,T,L,N,q){var Q=L.bind(N||p.instance||p),ne=(t.handlerMap.indexOf(p)+1||t.handlerMap.push(p))-1,ae=T.split(".")[0],ye=T.split(".")[1]||"*";t.listeners[ne]=t.listeners[ne]||{},t.listeners[ne][ae]=t.listeners[ne][ae]||{},t.listeners[ne][ae][ye]=t.listeners[ne][ae][ye]||{},L._svgjsListenerId||(L._svgjsListenerId=++t.listenerId),t.listeners[ne][ae][ye][L._svgjsListenerId]=Q,p.addEventListener(ae,Q,q||{passive:!0})},t.off=function(p,T,L){var N=t.handlerMap.indexOf(p),q=T&&T.split(".")[0],Q=T&&T.split(".")[1],ne="";if(-1!=N)if(L){if("function"==typeof L&&(L=L._svgjsListenerId),!L)return;t.listeners[N][q]&&t.listeners[N][q][Q||"*"]&&(p.removeEventListener(q,t.listeners[N][q][Q||"*"][L],!1),delete t.listeners[N][q][Q||"*"][L])}else if(Q&&q){if(t.listeners[N][q]&&t.listeners[N][q][Q]){for(var ae in t.listeners[N][q][Q])t.off(p,[q,Q].join("."),ae);delete t.listeners[N][q][Q]}}else if(Q)for(var ye in t.listeners[N])for(var ne in t.listeners[N][ye])Q===ne&&t.off(p,[ye,Q].join("."));else if(q){if(t.listeners[N][q]){for(var ne in t.listeners[N][q])t.off(p,[q,ne].join("."));delete t.listeners[N][q]}}else{for(var ye in t.listeners[N])t.off(p,ye);delete t.listeners[N],delete t.handlerMap[N]}},t.extend(t.Element,{on:function(p,T,L,N){return t.on(this.node,p,T,L,N),this},off:function(p,T){return t.off(this.node,p,T),this},fire:function(p,T){return this.node.dispatchEvent(p instanceof R.Event?p:p=new t.CustomEvent(p,{detail:T,cancelable:!0})),this._event=p,this},event:function(){return this._event}}),t.Defs=t.invent({create:"defs",inherit:t.Container}),t.G=t.invent({create:"g",inherit:t.Container,extend:{x:function(p){return null==p?this.transform("x"):this.transform({x:p-this.x()},!0)}},construct:{group:function(){return this.put(new t.G)}}}),t.Doc=t.invent({create:function(p){p&&("svg"==(p="string"==typeof p?e.getElementById(p):p).nodeName?this.constructor.call(this,p):(this.constructor.call(this,t.create("svg")),p.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:t.Container,extend:{namespace:function(){return this.attr({xmlns:t.ns,version:"1.1"}).attr("xmlns:xlink",t.xlink,t.xmlns).attr("xmlns:svgjs",t.svgjs,t.xmlns)},defs:function(){var p;return this._defs||(this._defs=(p=this.node.getElementsByTagName("defs")[0])?t.adopt(p):new t.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,t.parser.draw&&!t.parser.draw.parentNode&&this.node.appendChild(t.parser.draw),this},clone:function(p){this.writeDataToDom();var T=this.node,L=P(T.cloneNode(!0));return p?(p.node||p).appendChild(L.node):T.parentNode.insertBefore(L.node,T.nextSibling),L}}}),t.extend(t.Element,{}),t.Gradient=t.invent({create:function(p){this.constructor.call(this,t.create(p+"Gradient")),this.type=p},inherit:t.Container,extend:{at:function(p,T,L){return this.put(new t.Stop).update(p,T,L)},update:function(p){return this.clear(),"function"==typeof p&&p.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(p,T,L){return"transform"==p&&(p="gradientTransform"),t.Container.prototype.attr.call(this,p,T,L)}},construct:{gradient:function(p,T){return this.defs().gradient(p,T)}}}),t.extend(t.Gradient,t.FX,{from:function(p,T){return this.attr("radial"==(this._target||this).type?{fx:new t.Number(p),fy:new t.Number(T)}:{x1:new t.Number(p),y1:new t.Number(T)})},to:function(p,T){return this.attr("radial"==(this._target||this).type?{cx:new t.Number(p),cy:new t.Number(T)}:{x2:new t.Number(p),y2:new t.Number(T)})}}),t.extend(t.Defs,{gradient:function(p,T){return this.put(new t.Gradient(p)).update(T)}}),t.Stop=t.invent({create:"stop",inherit:t.Element,extend:{update:function(p){return("number"==typeof p||p instanceof t.Number)&&(p={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=p.opacity&&this.attr("stop-opacity",p.opacity),null!=p.color&&this.attr("stop-color",p.color),null!=p.offset&&this.attr("offset",new t.Number(p.offset)),this}}}),t.Pattern=t.invent({create:"pattern",inherit:t.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(p){return this.clear(),"function"==typeof p&&p.call(this,this),this},toString:function(){return this.fill()},attr:function(p,T,L){return"transform"==p&&(p="patternTransform"),t.Container.prototype.attr.call(this,p,T,L)}},construct:{pattern:function(p,T,L){return this.defs().pattern(p,T,L)}}}),t.extend(t.Defs,{pattern:function(p,T,L){return this.put(new t.Pattern).update(L).attr({x:0,y:0,width:p,height:T,patternUnits:"userSpaceOnUse"})}}),t.Shape=t.invent({create:function(p){this.constructor.call(this,p)},inherit:t.Element}),t.Symbol=t.invent({create:"symbol",inherit:t.Container,construct:{symbol:function(){return this.put(new t.Symbol)}}}),t.Use=t.invent({create:"use",inherit:t.Shape,extend:{element:function(p,T){return this.attr("href",(T||"")+"#"+p,t.xlink)}},construct:{use:function(p,T){return this.put(new t.Use).element(p,T)}}}),t.Rect=t.invent({create:"rect",inherit:t.Shape,construct:{rect:function(p,T){return this.put(new t.Rect).size(p,T)}}}),t.Circle=t.invent({create:"circle",inherit:t.Shape,construct:{circle:function(p){return this.put(new t.Circle).rx(new t.Number(p).divide(2)).move(0,0)}}}),t.extend(t.Circle,t.FX,{rx:function(p){return this.attr("r",p)},ry:function(p){return this.rx(p)}}),t.Ellipse=t.invent({create:"ellipse",inherit:t.Shape,construct:{ellipse:function(p,T){return this.put(new t.Ellipse).size(p,T).move(0,0)}}}),t.extend(t.Ellipse,t.Rect,t.FX,{rx:function(p){return this.attr("rx",p)},ry:function(p){return this.attr("ry",p)}}),t.extend(t.Circle,t.Ellipse,{x:function(p){return null==p?this.cx()-this.rx():this.cx(p+this.rx())},y:function(p){return null==p?this.cy()-this.ry():this.cy(p+this.ry())},cx:function(p){return null==p?this.attr("cx"):this.attr("cx",p)},cy:function(p){return null==p?this.attr("cy"):this.attr("cy",p)},width:function(p){return null==p?2*this.rx():this.rx(new t.Number(p).divide(2))},height:function(p){return null==p?2*this.ry():this.ry(new t.Number(p).divide(2))},size:function(p,T){var L=k(this,p,T);return this.rx(new t.Number(L.width).divide(2)).ry(new t.Number(L.height).divide(2))}}),t.Line=t.invent({create:"line",inherit:t.Shape,extend:{array:function(){return new t.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(p,T,L,N){return null==p?this.array():(p=void 0!==T?{x1:p,y1:T,x2:L,y2:N}:new t.PointArray(p).toLine(),this.attr(p))},move:function(p,T){return this.attr(this.array().move(p,T).toLine())},size:function(p,T){var L=k(this,p,T);return this.attr(this.array().size(L.width,L.height).toLine())}},construct:{line:function(p,T,L,N){return t.Line.prototype.plot.apply(this.put(new t.Line),null!=p?[p,T,L,N]:[0,0,0,0])}}}),t.Polyline=t.invent({create:"polyline",inherit:t.Shape,construct:{polyline:function(p){return this.put(new t.Polyline).plot(p||new t.PointArray)}}}),t.Polygon=t.invent({create:"polygon",inherit:t.Shape,construct:{polygon:function(p){return this.put(new t.Polygon).plot(p||new t.PointArray)}}}),t.extend(t.Polyline,t.Polygon,{array:function(){return this._array||(this._array=new t.PointArray(this.attr("points")))},plot:function(p){return null==p?this.array():this.clear().attr("points","string"==typeof p?p:this._array=new t.PointArray(p))},clear:function(){return delete this._array,this},move:function(p,T){return this.attr("points",this.array().move(p,T))},size:function(p,T){var L=k(this,p,T);return this.attr("points",this.array().size(L.width,L.height))}}),t.extend(t.Line,t.Polyline,t.Polygon,{morphArray:t.PointArray,x:function(p){return null==p?this.bbox().x:this.move(p,this.bbox().y)},y:function(p){return null==p?this.bbox().y:this.move(this.bbox().x,p)},width:function(p){var T=this.bbox();return null==p?T.width:this.size(p,T.height)},height:function(p){var T=this.bbox();return null==p?T.height:this.size(T.width,p)}}),t.Path=t.invent({create:"path",inherit:t.Shape,extend:{morphArray:t.PathArray,array:function(){return this._array||(this._array=new t.PathArray(this.attr("d")))},plot:function(p){return null==p?this.array():this.clear().attr("d","string"==typeof p?p:this._array=new t.PathArray(p))},clear:function(){return delete this._array,this}},construct:{path:function(p){return this.put(new t.Path).plot(p||new t.PathArray)}}}),t.Image=t.invent({create:"image",inherit:t.Shape,extend:{load:function(p){if(!p)return this;var T=this,L=new R.Image;return t.on(L,"load",function(){t.off(L);var N=T.parent(t.Pattern);null!==N&&(0==T.width()&&0==T.height()&&T.size(L.width,L.height),N&&0==N.width()&&0==N.height()&&N.size(T.width(),T.height()),"function"==typeof T._loaded&&T._loaded.call(T,{width:L.width,height:L.height,ratio:L.width/L.height,url:p}))}),t.on(L,"error",function(N){t.off(L),"function"==typeof T._error&&T._error.call(T,N)}),this.attr("href",L.src=this.src=p,t.xlink)},loaded:function(p){return this._loaded=p,this},error:function(p){return this._error=p,this}},construct:{image:function(p,T,L){return this.put(new t.Image).load(p).size(T||0,L||T||0)}}}),t.Text=t.invent({create:function(){this.constructor.call(this,t.create("text")),this.dom.leading=new t.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",t.defaults.attrs["font-family"])},inherit:t.Shape,extend:{x:function(p){return null==p?this.attr("x"):this.attr("x",p)},text:function(p){if(void 0===p){p="";for(var T=this.node.childNodes,L=0,N=T.length;L<N;++L)0!=L&&3!=T[L].nodeType&&1==t.adopt(T[L]).dom.newLined&&(p+="\n"),p+=T[L].textContent;return p}if(this.clear().build(!0),"function"==typeof p)p.call(this,this);else{L=0;for(var q=(p=p.split("\n")).length;L<q;L++)this.tspan(p[L]).newLine()}return this.build(!1).rebuild()},size:function(p){return this.attr("font-size",p).rebuild()},leading:function(p){return null==p?this.dom.leading:(this.dom.leading=new t.Number(p),this.rebuild())},lines:function(){var p=(this.textPath&&this.textPath()||this).node,T=t.utils.map(t.utils.filterSVGElements(p.childNodes),function(L){return t.adopt(L)});return new t.Set(T)},rebuild:function(p){if("boolean"==typeof p&&(this._rebuild=p),this._rebuild){var T=this,L=0,N=this.dom.leading*new t.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(T.textPath()||this.attr("x",T.attr("x")),"\n"==this.text()?L+=N:(this.attr("dy",N+L),L=0))}),this.fire("rebuild")}return this},build:function(p){return this._build=!!p,this},setData:function(p){return this.dom=p,this.dom.leading=new t.Number(p.leading||1.3),this}},construct:{text:function(p){return this.put(new t.Text).text(p)},plain:function(p){return this.put(new t.Text).plain(p)}}}),t.Tspan=t.invent({create:"tspan",inherit:t.Shape,extend:{text:function(p){return null==p?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof p?p.call(this,this):this.plain(p),this)},dx:function(p){return this.attr("dx",p)},dy:function(p){return this.attr("dy",p)},newLine:function(){var p=this.parent(t.Text);return this.dom.newLined=!0,this.dy(p.dom.leading*p.attr("font-size")).attr("x",p.x())}}}),t.extend(t.Text,t.Tspan,{plain:function(p){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(p)),this},tspan:function(p){var T=(this.textPath&&this.textPath()||this).node,L=new t.Tspan;return!1===this._build&&this.clear(),T.appendChild(L.node),L.text(p)},clear:function(){for(var p=(this.textPath&&this.textPath()||this).node;p.hasChildNodes();)p.removeChild(p.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),t.TextPath=t.invent({create:"textPath",inherit:t.Parent,parent:t.Text,construct:{morphArray:t.PathArray,array:function(){var p=this.track();return p?p.array():null},plot:function(p){var T=this.track(),L=null;return T&&(L=T.plot(p)),null==p?L:this},track:function(){var p=this.textPath();if(p)return p.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return t.adopt(this.node.firstChild)}}}),t.Nested=t.invent({create:function(){this.constructor.call(this,t.create("svg")),this.style("overflow","visible")},inherit:t.Container,construct:{nested:function(){return this.put(new t.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(p,T){return"color"==T?p:p+"-"+T}};function u(p,T,L,N){return L+N.replace(t.regex.dots," .")}function y(p){return p.toLowerCase().replace(/-(.)/g,function(T,L){return L.toUpperCase()})}function b(p){return p.charAt(0).toUpperCase()+p.slice(1)}function w(p){var T=p.toString(16);return 1==T.length?"0"+T:T}function k(p,T,L){if(null==T||null==L){var N=p.bbox();null==T?T=N.width/N.height*L:null==L&&(L=N.height/N.width*T)}return{width:T,height:L}}function E(p,T,L){return{x:T*p.a+L*p.c+0,y:T*p.b+L*p.d+0}}function I(p){return{a:p[0],b:p[1],c:p[2],d:p[3],e:p[4],f:p[5]}}function P(p){for(var T=p.childNodes.length-1;T>=0;T--)p.childNodes[T]instanceof R.SVGElement&&P(p.childNodes[T]);return t.adopt(p).id(t.eid(p.nodeName))}function B(p){return Math.abs(p)>1e-37?p:0}["fill","stroke"].forEach(function(p){var T={};T[p]=function(L){if(void 0===L)return this;if("string"==typeof L||t.Color.isRgb(L)||L&&"function"==typeof L.fill)this.attr(p,L);else for(var N=l[p].length-1;N>=0;N--)null!=L[l[p][N]]&&this.attr(l.prefix(p,l[p][N]),L[l[p][N]]);return this},t.extend(t.Element,t.FX,T)}),t.extend(t.Element,t.FX,{translate:function(p,T){return this.transform({x:p,y:T})},matrix:function(p){return this.attr("transform",new t.Matrix(6==arguments.length?[].slice.call(arguments):p))},opacity:function(p){return this.attr("opacity",p)},dx:function(p){return this.x(new t.Number(p).plus(this instanceof t.FX?0:this.x()),!0)},dy:function(p){return this.y(new t.Number(p).plus(this instanceof t.FX?0:this.y()),!0)}}),t.extend(t.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(p){return this.node.getPointAtLength(p)}}),t.Set=t.invent({create:function(p){Array.isArray(p)?this.members=p:this.clear()},extend:{add:function(){for(var p=[].slice.call(arguments),T=0,L=p.length;T<L;T++)this.members.push(p[T]);return this},remove:function(p){var T=this.index(p);return T>-1&&this.members.splice(T,1),this},each:function(p){for(var T=0,L=this.members.length;T<L;T++)p.apply(this.members[T],[T,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(p){return this.index(p)>=0},index:function(p){return this.members.indexOf(p)},get:function(p){return this.members[p]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(p){return new t.Set(p)}}}),t.FX.Set=t.invent({create:function(p){this.set=p}}),t.Set.inherit=function(){var p=[];for(var T in t.Shape.prototype)"function"==typeof t.Shape.prototype[T]&&"function"!=typeof t.Set.prototype[T]&&p.push(T);for(var T in p.forEach(function(N){t.Set.prototype[N]=function(){for(var q=0,Q=this.members.length;q<Q;q++)this.members[q]&&"function"==typeof this.members[q][N]&&this.members[q][N].apply(this.members[q],arguments);return"animate"==N?this.fx||(this.fx=new t.FX.Set(this)):this}}),p=[],t.FX.prototype)"function"==typeof t.FX.prototype[T]&&"function"!=typeof t.FX.Set.prototype[T]&&p.push(T);p.forEach(function(L){t.FX.Set.prototype[L]=function(){for(var N=0,q=this.set.members.length;N<q;N++)this.set.members[N].fx[L].apply(this.set.members[N].fx,arguments);return this}})},t.extend(t.Element,{}),t.extend(t.Element,{remember:function(p,T){if("object"===m(arguments[0]))for(var L in p)this.remember(L,p[L]);else{if(1==arguments.length)return this.memory()[p];this.memory()[p]=T}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var p=arguments.length-1;p>=0;p--)delete this.memory()[arguments[p]];return this},memory:function(){return this._memory||(this._memory={})}}),t.get=function(p){var T=e.getElementById(function(L){var N=(L||"").toString().match(t.regex.reference);if(N)return N[1]}(p)||p);return t.adopt(T)},t.select=function(p,T){return new t.Set(t.utils.map((T||e).querySelectorAll(p),function(L){return t.adopt(L)}))},t.extend(t.Parent,{select:function(p){return t.select(p,this.node)}});var U="abcdef".split("");if("function"!=typeof R.CustomEvent){var j=function(p,T){T=T||{bubbles:!1,cancelable:!1,detail:void 0};var L=e.createEvent("CustomEvent");return L.initCustomEvent(p,T.bubbles,T.cancelable,T.detail),L};j.prototype=R.Event.prototype,t.CustomEvent=j}else t.CustomEvent=R.CustomEvent;return t},"function"==typeof define&&define.amd?define(function(){return oi(Ut,Ut.document)}):"object"===(typeof exports>"u"?"undefined":m(exports))&&typeof module<"u"?module.exports=Ut.document?oi(Ut,Ut.document):function(R){return oi(R,R.document)}:Ut.SVG=oi(Ut,Ut.document),
/*! svg.filter.js - v2.0.2 - 2016-02-24
    * https://github.com/wout/svg.filter.js
    * Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(o,l){return this.add(o,l),!o.attr("in")&&this.autoSetIn&&o.attr("in",this.source),o.attr("result")||o.attr("result",o),o},blend:function(o,l,u){return this.put(new SVG.BlendEffect(o,l,u))},colorMatrix:function(o,l){return this.put(new SVG.ColorMatrixEffect(o,l))},convolveMatrix:function(o){return this.put(new SVG.ConvolveMatrixEffect(o))},componentTransfer:function(o){return this.put(new SVG.ComponentTransferEffect(o))},composite:function(o,l,u){return this.put(new SVG.CompositeEffect(o,l,u))},flood:function(o,l){return this.put(new SVG.FloodEffect(o,l))},offset:function(o,l){return this.put(new SVG.OffsetEffect(o,l))},image:function(o){return this.put(new SVG.ImageEffect(o))},merge:function(){var o=[void 0];for(var l in arguments)o.push(arguments[l]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,o)))},gaussianBlur:function(o,l){return this.put(new SVG.GaussianBlurEffect(o,l))},morphology:function(o,l){return this.put(new SVG.MorphologyEffect(o,l))},diffuseLighting:function(o,l,u){return this.put(new SVG.DiffuseLightingEffect(o,l,u))},displacementMap:function(o,l,u,y,b){return this.put(new SVG.DisplacementMapEffect(o,l,u,y,b))},specularLighting:function(o,l,u,y){return this.put(new SVG.SpecularLightingEffect(o,l,u,y))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(o,l,u,y,b){return this.put(new SVG.TurbulenceEffect(o,l,u,y,b))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(o){var l=this.put(new SVG.Filter);return"function"==typeof o&&o.call(l,l),l}}),SVG.extend(SVG.Container,{filter:function(o){return this.defs().filter(o)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(o){return this.filterer=o instanceof SVG.Element?o:this.doc().filter(o),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(o){return this.filterer&&!0===o&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(o){return null==o?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",o)},result:function(o){return null==o?this.attr("result"):this.attr("result",o)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(o){return null==o?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",o)},result:function(o){return null==o?this.attr("result"):this.attr("result",o)},toString:function(){return this.result()}}});var R={blend:function(o,l){return this.parent()&&this.parent().blend(this,o,l)},colorMatrix:function(o,l){return this.parent()&&this.parent().colorMatrix(o,l).in(this)},convolveMatrix:function(o){return this.parent()&&this.parent().convolveMatrix(o).in(this)},componentTransfer:function(o){return this.parent()&&this.parent().componentTransfer(o).in(this)},composite:function(o,l){return this.parent()&&this.parent().composite(this,o,l)},flood:function(o,l){return this.parent()&&this.parent().flood(o,l)},offset:function(o,l){return this.parent()&&this.parent().offset(o,l).in(this)},image:function(o){return this.parent()&&this.parent().image(o)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(o,l){return this.parent()&&this.parent().gaussianBlur(o,l).in(this)},morphology:function(o,l){return this.parent()&&this.parent().morphology(o,l).in(this)},diffuseLighting:function(o,l,u){return this.parent()&&this.parent().diffuseLighting(o,l,u).in(this)},displacementMap:function(o,l,u,y){return this.parent()&&this.parent().displacementMap(this,o,l,u,y)},specularLighting:function(o,l,u,y){return this.parent()&&this.parent().specularLighting(o,l,u,y).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(o,l,u,y,b){return this.parent()&&this.parent().turbulence(o,l,u,y,b).in(this)}};SVG.extend(SVG.Effect,R),SVG.extend(SVG.ParentEffect,R),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(o){this.attr("in",o)}}});var e={blend:function(o,l,u){this.attr({in:o,in2:l,mode:u||"normal"})},colorMatrix:function(o,l){"matrix"==o&&(l=r(l)),this.attr({type:o,values:void 0===l?null:l})},convolveMatrix:function(o){o=r(o),this.attr({order:Math.sqrt(o.split(" ").length),kernelMatrix:o})},composite:function(o,l,u){this.attr({in:o,in2:l,operator:u})},flood:function(o,l){this.attr("flood-color",o),null!=l&&this.attr("flood-opacity",l)},offset:function(o,l){this.attr({dx:o,dy:l})},image:function(o){this.attr("href",o,SVG.xlink)},displacementMap:function(o,l,u,y,b){this.attr({in:o,in2:l,scale:u,xChannelSelector:y,yChannelSelector:b})},gaussianBlur:function(o,l){this.attr("stdDeviation",null!=o||null!=l?function(u){if(!Array.isArray(u))return u;for(var y=0,b=u.length,w=[];y<b;y++)w.push(u[y]);return w.join(" ")}(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(o,l){this.attr({operator:o,radius:l})},tile:function(){},turbulence:function(o,l,u,y,b){this.attr({numOctaves:l,seed:u,stitchTiles:y,baseFrequency:o,type:b})}},t={merge:function(){var o;if(arguments[0]instanceof SVG.Set){var l=this;arguments[0].each(function(y){this instanceof SVG.MergeNode?l.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&l.put(new SVG.MergeNode(this))})}else{o=Array.isArray(arguments[0])?arguments[0]:arguments;for(var u=0;u<o.length;u++)o[u]instanceof SVG.MergeNode?this.put(o[u]):this.put(new SVG.MergeNode(o[u]))}},componentTransfer:function(o){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(u){this[u]=new(SVG["Func"+u.toUpperCase()])("identity"),this.rgb.add(this[u]),this.node.appendChild(this[u].node)}.bind(this)),o)for(var l in o.rgb&&(["r","g","b"].forEach(function(u){this[u].attr(o.rgb)}.bind(this)),delete o.rgb),o)this[l].attr(o[l])},diffuseLighting:function(o,l,u){this.attr({surfaceScale:o,diffuseConstant:l,kernelUnitLength:u})},specularLighting:function(o,l,u,y){this.attr({surfaceScale:o,diffuseConstant:l,specularExponent:u,kernelUnitLength:y})}},s={distantLight:function(o,l){this.attr({azimuth:o,elevation:l})},pointLight:function(o,l,u){this.attr({x:o,y:l,z:u})},spotLight:function(o,l,u,y,b,w){this.attr({x:o,y:l,z:u,pointsAtX:y,pointsAtY:b,pointsAtZ:w})},mergeNode:function(o){this.attr("in",o)}};function r(o){return Array.isArray(o)&&(o=new SVG.Array(o)),o.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function a(){var o=function(){};for(var l in"function"==typeof arguments[arguments.length-1]&&(o=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var u in arguments[l])o(arguments[l][u],u,arguments[l])}["r","g","b","a"].forEach(function(o){s["Func"+o.toUpperCase()]=function(l){switch(this.attr("type",l),l){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),a(e,function(o,l){var u=l.charAt(0).toUpperCase()+l.slice(1);SVG[u+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+u)),o.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),a(t,function(o,l){var u=l.charAt(0).toUpperCase()+l.slice(1);SVG[u+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+u)),o.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),a(s,function(o,l){var u=l.charAt(0).toUpperCase()+l.slice(1);SVG[u]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+u)),o.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(o){return o instanceof SVG.MergeNode?this.add(o,0):this.add(new SVG.MergeNode(o),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(o){return null==o?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",o)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function R(a,o,l,u,y,b,w){for(var k=a.slice(o,l||w),E=u.slice(y,b||w),I=0,P={pos:[0,0],start:[0,0]},B={pos:[0,0],start:[0,0]};k[I]=e.call(P,k[I]),E[I]=e.call(B,E[I]),k[I][0]!=E[I][0]||"M"==k[I][0]||"A"==k[I][0]&&(k[I][4]!=E[I][4]||k[I][5]!=E[I][5])?(Array.prototype.splice.apply(k,[I,1].concat(s.call(P,k[I]))),Array.prototype.splice.apply(E,[I,1].concat(s.call(B,E[I])))):(k[I]=t.call(P,k[I]),E[I]=t.call(B,E[I])),++I!=k.length||I!=E.length;)I==k.length&&k.push(["C",P.pos[0],P.pos[1],P.pos[0],P.pos[1],P.pos[0],P.pos[1]]),I==E.length&&E.push(["C",B.pos[0],B.pos[1],B.pos[0],B.pos[1],B.pos[0],B.pos[1]]);return{start:k,dest:E}}function e(a){switch(a[0]){case"z":case"Z":a[0]="L",a[1]=this.start[0],a[2]=this.start[1];break;case"H":a[0]="L",a[2]=this.pos[1];break;case"V":a[0]="L",a[2]=a[1],a[1]=this.pos[0];break;case"T":a[0]="Q",a[3]=a[1],a[4]=a[2],a[1]=this.reflection[1],a[2]=this.reflection[0];break;case"S":a[0]="C",a[6]=a[4],a[5]=a[3],a[4]=a[2],a[3]=a[1],a[2]=this.reflection[1],a[1]=this.reflection[0]}return a}function t(a){var o=a.length;return this.pos=[a[o-2],a[o-1]],-1!="SCQT".indexOf(a[0])&&(this.reflection=[2*this.pos[0]-a[o-4],2*this.pos[1]-a[o-3]]),a}function s(a){var o=[a];switch(a[0]){case"M":return this.pos=this.start=[a[1],a[2]],o;case"L":a[5]=a[3]=a[1],a[6]=a[4]=a[2],a[1]=this.pos[0],a[2]=this.pos[1];break;case"Q":a[6]=a[4],a[5]=a[3],a[4]=1*a[4]/3+2*a[2]/3,a[3]=1*a[3]/3+2*a[1]/3,a[2]=1*this.pos[1]/3+2*a[2]/3,a[1]=1*this.pos[0]/3+2*a[1]/3;break;case"A":a=(o=function(l,u){var y,b,w,k,E,I,P,B,U,j,p,T,L,N,q,Q,ne,ae,ye,xe,we,se,Me,Oe,Ue,je,mt=Math.abs(u[1]),dt=Math.abs(u[2]),bt=u[3]%360,ii=u[4],Et=u[5],it=u[6],Je=u[7],Xe=new SVG.Point(l),gt=new SVG.Point(it,Je),ci=[];if(0===mt||0===dt||Xe.x===gt.x&&Xe.y===gt.y)return[["C",Xe.x,Xe.y,gt.x,gt.y,gt.x,gt.y]];for((b=(y=new SVG.Point((Xe.x-gt.x)/2,(Xe.y-gt.y)/2).transform((new SVG.Matrix).rotate(bt))).x*y.x/(mt*mt)+y.y*y.y/(dt*dt))>1&&(mt*=b=Math.sqrt(b),dt*=b),w=(new SVG.Matrix).rotate(bt).scale(1/mt,1/dt).rotate(-bt),Xe=Xe.transform(w),I=(k=[(gt=gt.transform(w)).x-Xe.x,gt.y-Xe.y])[0]*k[0]+k[1]*k[1],E=Math.sqrt(I),k[0]/=E,k[1]/=E,P=I<4?Math.sqrt(1-I/4):0,ii===Et&&(P*=-1),B=new SVG.Point((gt.x+Xe.x)/2+P*-k[1],(gt.y+Xe.y)/2+P*k[0]),U=new SVG.Point(Xe.x-B.x,Xe.y-B.y),j=new SVG.Point(gt.x-B.x,gt.y-B.y),p=Math.acos(U.x/Math.sqrt(U.x*U.x+U.y*U.y)),U.y<0&&(p*=-1),T=Math.acos(j.x/Math.sqrt(j.x*j.x+j.y*j.y)),j.y<0&&(T*=-1),Et&&p>T&&(T+=2*Math.PI),!Et&&p<T&&(T-=2*Math.PI),Q=[],ne=p,L=(T-p)/(N=Math.ceil(2*Math.abs(p-T)/Math.PI)),q=4*Math.tan(L/4)/3,we=0;we<=N;we++)ye=Math.cos(ne),ae=Math.sin(ne),xe=new SVG.Point(B.x+ye,B.y+ae),Q[we]=[new SVG.Point(xe.x+q*ae,xe.y-q*ye),xe,new SVG.Point(xe.x-q*ae,xe.y+q*ye)],ne+=L;for(Q[0][0]=Q[0][1].clone(),Q[Q.length-1][2]=Q[Q.length-1][1].clone(),w=(new SVG.Matrix).rotate(bt).scale(mt,dt).rotate(-bt),we=0,se=Q.length;we<se;we++)Q[we][0]=Q[we][0].transform(w),Q[we][1]=Q[we][1].transform(w),Q[we][2]=Q[we][2].transform(w);for(we=1,se=Q.length;we<se;we++)Me=(xe=Q[we-1][2]).x,Oe=xe.y,Ue=(xe=Q[we][0]).x,je=xe.y,it=(xe=Q[we][1]).x,ci.push(["C",Me,Oe,Ue,je,it,Je=xe.y]);return ci}(this.pos,a))[0]}return a[0]="C",this.pos=[a[5],a[6]],this.reflection=[2*a[5]-a[3],2*a[6]-a[4]],o}function r(a,o){if(!1===o)return!1;for(var l=o,u=a.length;l<u;++l)if("M"==a[l][0])return l;return!1}SVG.extend(SVG.PathArray,{morph:function(a){for(var o=this.value,l=this.parse(a),u=0,y=0,b=!1,w=!1;!1!==u||!1!==y;){var k;b=r(o,!1!==u&&u+1),w=r(l,!1!==y&&y+1),!1===u&&(u=0==(k=new SVG.PathArray(E.start).bbox()).height||0==k.width?o.push(o[0])-1:o.push(["M",k.x+k.width/2,k.y+k.height/2])-1),!1===y&&(y=0==(k=new SVG.PathArray(E.dest).bbox()).height||0==k.width?l.push(l[0])-1:l.push(["M",k.x+k.width/2,k.y+k.height/2])-1);var E=R(o,u,b,l,y,w);o=o.slice(0,u).concat(E.start,!1===b?[]:o.slice(b)),l=l.slice(0,y).concat(E.dest,!1===w?[]:l.slice(w)),u=!1!==b&&u+E.start.length,y=!1!==w&&y+E.dest.length}return this.value=o,this.destination=new SVG.PathArray,this.destination.value=l,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
    * https://github.com/svgdotjs/svg.draggable.js
    * Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function R(e){e.remember("_draggable",this),this.el=e}R.prototype.init=function(e,t){var s=this;this.constraint=e,this.value=t,this.el.on("mousedown.drag",function(r){s.start(r)}),this.el.on("touchstart.drag",function(r){s.start(r)})},R.prototype.transformPoint=function(e,t){var s=(e=e||window.event).changedTouches&&e.changedTouches[0]||e;return this.p.x=s.clientX-(t||0),this.p.y=s.clientY,this.p.matrixTransform(this.m)},R.prototype.getBBox=function(){var e=this.el.bbox();return this.el instanceof SVG.Nested&&(e=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(e.x=this.el.x(),e.y=this.el.y()),e},R.prototype.start=function(e){if("click"!=e.type&&"mousedown"!=e.type&&"mousemove"!=e.type||1==(e.which||e.buttons)){var t=this;if(this.el.fire("beforedrag",{event:e,handler:this}),!this.el.event().defaultPrevented){e.preventDefault(),e.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var s,r=this.getBBox();if(this.el instanceof SVG.Text)switch(s=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":s/=2;break;case"start":s=0}this.startPoints={point:this.transformPoint(e,s),box:r,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(a){t.drag(a)}),SVG.on(window,"touchmove.drag",function(a){t.drag(a)}),SVG.on(window,"mouseup.drag",function(a){t.end(a)}),SVG.on(window,"touchend.drag",function(a){t.end(a)}),this.el.fire("dragstart",{event:e,p:this.startPoints.point,m:this.m,handler:this})}}},R.prototype.drag=function(e){var t=this.getBBox(),s=this.transformPoint(e),r=this.startPoints.box.x+s.x-this.startPoints.point.x,a=this.startPoints.box.y+s.y-this.startPoints.point.y,o=this.constraint,l=s.x-this.startPoints.point.x,u=s.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:e,p:s,m:this.m,handler:this}),this.el.event().defaultPrevented)return s;if("function"==typeof o){var y=o.call(this.el,r,a,this.m);"boolean"==typeof y&&(y={x:y,y}),!0===y.x?this.el.x(r):!1!==y.x&&this.el.x(y.x),!0===y.y?this.el.y(a):!1!==y.y&&this.el.y(y.y)}else"object"==typeof o&&(null!=o.minX&&r<o.minX?l=(r=o.minX)-this.startPoints.box.x:null!=o.maxX&&r>o.maxX-t.width&&(l=(r=o.maxX-t.width)-this.startPoints.box.x),null!=o.minY&&a<o.minY?u=(a=o.minY)-this.startPoints.box.y:null!=o.maxY&&a>o.maxY-t.height&&(u=(a=o.maxY-t.height)-this.startPoints.box.y),null!=o.snapToGrid&&(r-=r%o.snapToGrid,a-=a%o.snapToGrid,l-=l%o.snapToGrid,u-=u%o.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:l,y:u},!0):this.el.move(r,a));return s},R.prototype.end=function(e){var t=this.drag(e);this.el.fire("dragend",{event:e,p:t,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(e,t){"function"!=typeof e&&"object"!=typeof e||(t=e,e=!0);var s=this.remember("_draggable")||new R(this);return(e=void 0===e||e)?s.init(t||{},e):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function R(e){this.el=e,e.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,s,r){var a="string"!=typeof t?t:s[t];return r?a/2:a},this.pointCoords=function(t,s){var r=this.pointsList[t];return{x:this.pointCoord(r[0],s,"t"===t||"b"===t),y:this.pointCoord(r[1],s,"r"===t||"l"===t)}}}R.prototype.init=function(e,t){var s=this.el.bbox();this.options={};var r=this.el.selectize.defaults.points;for(var a in this.el.selectize.defaults)this.options[a]=this.el.selectize.defaults[a],void 0!==t[a]&&(this.options[a]=t[a]);var o=["points","pointsExclude"];for(var a in o){var l=this.options[o[a]];"string"==typeof l?l=l.length>0?l.split(/\s*,\s*/i):[]:"boolean"==typeof l&&"points"===o[a]&&(l=l?r:[]),this.options[o[a]]=l}this.options.points=[r,this.options.points].reduce(function(u,y){return u.filter(function(b){return y.indexOf(b)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(u,y){return u.filter(function(b){return y.indexOf(b)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(s.x,s.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(e):this.selectRect(e),this.observe(),this.cleanup()},R.prototype.selectPoints=function(e){return this.pointSelection.isSelected=e,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},R.prototype.getPointArray=function(){var e=this.el.bbox();return this.el.array().valueOf().map(function(t){return[t[0]-e.x,t[1]-e.y]})},R.prototype.drawPoints=function(){for(var e=this,t=this.getPointArray(),s=0,r=t.length;s<r;++s){var a=function(l){return function(u){(u=u||window.event).preventDefault?u.preventDefault():u.returnValue=!1,u.stopPropagation(),e.el.fire("point",{x:u.pageX||u.touches[0].pageX,y:u.pageY||u.touches[0].pageY,i:l,event:u})}}(s),o=this.drawPoint(t[s][0],t[s][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",a).on("mousedown",a);this.pointSelection.set.add(o)}},R.prototype.drawPoint=function(e,t){var s=this.options.pointType;switch(s){case"circle":return this.drawCircle(e,t);case"rect":return this.drawRect(e,t);default:if("function"==typeof s)return s.call(this,e,t);throw new Error("Unknown "+s+" point type!")}},R.prototype.drawCircle=function(e,t){return this.nested.circle(this.options.pointSize).center(e,t)},R.prototype.drawRect=function(e,t){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(e,t)},R.prototype.updatePointSelection=function(){var e=this.getPointArray();this.pointSelection.set.each(function(t){this.cx()===e[t][0]&&this.cy()===e[t][1]||this.center(e[t][0],e[t][1])})},R.prototype.updateRectSelection=function(){var e=this,t=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:t.width,height:t.height}),this.options.points.length&&this.options.points.map(function(r,a){var o=e.pointCoords(r,t);e.rectSelection.set.get(a+1).center(o.x,o.y)}),this.options.rotationPoint){var s=this.rectSelection.set.length();this.rectSelection.set.get(s-1).center(t.width/2,20)}},R.prototype.selectRect=function(e){var t=this,s=this.el.bbox();function r(l){return function(u){(u=u||window.event).preventDefault?u.preventDefault():u.returnValue=!1,u.stopPropagation(),t.el.fire(l,{x:u.pageX||u.touches[0].pageX,y:u.pageY||u.touches[0].pageY,event:u})}}if(this.rectSelection.isSelected=e,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(s.width,s.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(l,u){var y=t.pointCoords(l,s),b=t.drawPoint(y.x,y.y).attr("class",t.options.classPoints+"_"+l).on("mousedown",r(l)).on("touchstart",r(l));t.rectSelection.set.add(b)}),this.rectSelection.set.each(function(){this.addClass(t.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var a=function(l){(l=l||window.event).preventDefault?l.preventDefault():l.returnValue=!1,l.stopPropagation(),t.el.fire("rot",{x:l.pageX||l.touches[0].pageX,y:l.pageY||l.touches[0].pageY,event:l})},o=this.drawPoint(s.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",a).on("mousedown",a);this.rectSelection.set.add(o)}},R.prototype.handler=function(){var e=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(e.x,e.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},R.prototype.observe=function(){var e=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){e.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){e.handler()})},R.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(e,t){return"object"==typeof e&&(t=e,e=!0),(this.remember("_selectHandler")||new R(this)).init(void 0===e||e,t||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function R(e){e.remember("_resizeHandler",this),this.el=e,this.parameters={},this.lastUpdateCall=null,this.p=e.doc().node.createSVGPoint()}R.prototype.transformPoint=function(e,t,s){return this.p.x=e-(this.offset.x-window.pageXOffset),this.p.y=t-(this.offset.y-window.pageYOffset),this.p.matrixTransform(s||this.m)},R.prototype._extractPosition=function(e){return{x:null!=e.clientX?e.clientX:e.touches[0].clientX,y:null!=e.clientY?e.clientY:e.touches[0].clientY}},R.prototype.init=function(e){var t=this;if(this.stop(),"stop"!==e){for(var s in this.options={},this.el.resize.defaults)this.options[s]=this.el.resize.defaults[s],void 0!==e[s]&&(this.options[s]=e[s]);this.el.on("lt.resize",function(r){t.resize(r||window.event)}),this.el.on("rt.resize",function(r){t.resize(r||window.event)}),this.el.on("rb.resize",function(r){t.resize(r||window.event)}),this.el.on("lb.resize",function(r){t.resize(r||window.event)}),this.el.on("t.resize",function(r){t.resize(r||window.event)}),this.el.on("r.resize",function(r){t.resize(r||window.event)}),this.el.on("b.resize",function(r){t.resize(r||window.event)}),this.el.on("l.resize",function(r){t.resize(r||window.event)}),this.el.on("rot.resize",function(r){t.resize(r||window.event)}),this.el.on("point.resize",function(r){t.resize(r||window.event)}),this.update()}},R.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},R.prototype.resize=function(e){var t=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var s=this._extractPosition(e.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(s.x,s.y),x:e.detail.x,y:e.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==e.detail.i){var r=this.el.array().valueOf();this.parameters.i=e.detail.i,this.parameters.pointCoords=[r[e.detail.i][0],r[e.detail.i][1]]}switch(e.type){case"lt":this.calc=function(a,o){var l=this.snapToGrid(a,o);if(this.parameters.box.width-l[0]>0&&this.parameters.box.height-l[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+l[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-l[0]);l=this.checkAspectRatio(l),this.el.move(this.parameters.box.x+l[0],this.parameters.box.y+l[1]).size(this.parameters.box.width-l[0],this.parameters.box.height-l[1])}};break;case"rt":this.calc=function(a,o){var l=this.snapToGrid(a,o,2);if(this.parameters.box.width+l[0]>0&&this.parameters.box.height-l[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-l[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+l[0]);l=this.checkAspectRatio(l,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+l[1]).size(this.parameters.box.width+l[0],this.parameters.box.height-l[1])}};break;case"rb":this.calc=function(a,o){var l=this.snapToGrid(a,o,0);if(this.parameters.box.width+l[0]>0&&this.parameters.box.height+l[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-l[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+l[0]);l=this.checkAspectRatio(l),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+l[0],this.parameters.box.height+l[1])}};break;case"lb":this.calc=function(a,o){var l=this.snapToGrid(a,o,1);if(this.parameters.box.width-l[0]>0&&this.parameters.box.height+l[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+l[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-l[0]);l=this.checkAspectRatio(l,!0),this.el.move(this.parameters.box.x+l[0],this.parameters.box.y).size(this.parameters.box.width-l[0],this.parameters.box.height+l[1])}};break;case"t":this.calc=function(a,o){var l=this.snapToGrid(a,o,2);if(this.parameters.box.height-l[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+l[1]).height(this.parameters.box.height-l[1])}};break;case"r":this.calc=function(a,o){var l=this.snapToGrid(a,o,0);if(this.parameters.box.width+l[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+l[0])}};break;case"b":this.calc=function(a,o){var l=this.snapToGrid(a,o,0);if(this.parameters.box.height+l[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+l[1])}};break;case"l":this.calc=function(a,o){var l=this.snapToGrid(a,o,1);if(this.parameters.box.width-l[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+l[0],this.parameters.box.y).width(this.parameters.box.width-l[0])}};break;case"rot":this.calc=function(a,o){var l=a+this.parameters.p.x,u=o+this.parameters.p.y,y=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),b=Math.atan2(u-this.parameters.box.y-this.parameters.box.height/2,l-this.parameters.box.x-this.parameters.box.width/2),w=this.parameters.rotation+180*(b-y)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(w-w%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(a,o){var l=this.snapToGrid(a,o,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),u=this.el.array().valueOf();u[this.parameters.i][0]=this.parameters.pointCoords[0]+l[0],u[this.parameters.i][1]=this.parameters.pointCoords[1]+l[1],this.el.plot(u)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:e}),SVG.on(window,"touchmove.resize",function(a){t.update(a||window.event)}),SVG.on(window,"touchend.resize",function(){t.done()}),SVG.on(window,"mousemove.resize",function(a){t.update(a||window.event)}),SVG.on(window,"mouseup.resize",function(){t.done()})},R.prototype.update=function(e){if(e){var t=this._extractPosition(e),s=this.transformPoint(t.x,t.y),r=s.x-this.parameters.p.x,a=s.y-this.parameters.p.y;this.lastUpdateCall=[r,a],this.calc(r,a),this.el.fire("resizing",{dx:r,dy:a,event:e})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},R.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},R.prototype.snapToGrid=function(e,t,s,r){var a;return a=void 0!==r?[(s+e)%this.options.snapToGrid,(r+t)%this.options.snapToGrid]:[(this.parameters.box.x+e+(1&(s=s??3)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+t+(2&s?0:this.parameters.box.height))%this.options.snapToGrid],e<0&&(a[0]-=this.options.snapToGrid),t<0&&(a[1]-=this.options.snapToGrid),e-=Math.abs(a[0])<this.options.snapToGrid/2?a[0]:a[0]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),t-=Math.abs(a[1])<this.options.snapToGrid/2?a[1]:a[1]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(e,t,s,r)},R.prototype.constraintToBox=function(e,t,s,r){var a,o,l=this.options.constraint||{};return void 0!==r?(a=s,o=r):(a=this.parameters.box.x+(1&s?0:this.parameters.box.width),o=this.parameters.box.y+(2&s?0:this.parameters.box.height)),void 0!==l.minX&&a+e<l.minX&&(e=l.minX-a),void 0!==l.maxX&&a+e>l.maxX&&(e=l.maxX-a),void 0!==l.minY&&o+t<l.minY&&(t=l.minY-o),void 0!==l.maxY&&o+t>l.maxY&&(t=l.maxY-o),[e,t]},R.prototype.checkAspectRatio=function(e,t){if(!this.options.saveAspectRatio)return e;var s=e.slice(),r=this.parameters.box.width/this.parameters.box.height,a=this.parameters.box.width+e[0],o=this.parameters.box.height-e[1],l=a/o;return l<r?(s[1]=a/r-this.parameters.box.height,t&&(s[1]=-s[1])):l>r&&(s[0]=this.parameters.box.width-o*r,t&&(s[0]=-s[0])),s},SVG.extend(SVG.Element,{resize:function(e){return(this.remember("_resizeHandler")||new R(this)).init(e||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var gi=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new W(this.ctx),this.ctx.axes=new $t(this.ctx),this.ctx.core=new Vi(this.ctx.el,this.ctx),this.ctx.config=new He({}),this.ctx.data=new pt(this.ctx),this.ctx.grid=new vt(this.ctx),this.ctx.graphics=new D(this.ctx),this.ctx.coreUtils=new z(this.ctx),this.ctx.crosshairs=new jt(this.ctx),this.ctx.events=new Zt(this.ctx),this.ctx.exports=new ot(this.ctx),this.ctx.localization=new Yt(this.ctx),this.ctx.options=new oe,this.ctx.responsive=new ri(this.ctx),this.ctx.series=new We(this.ctx),this.ctx.theme=new Ft(this.ctx),this.ctx.formatters=new Ae(this.ctx),this.ctx.titleSubtitle=new Vt(this.ctx),this.ctx.legend=new Fe(this.ctx),this.ctx.toolbar=new Wt(this.ctx),this.ctx.tooltip=new _t(this.ctx),this.ctx.dimensions=new Bt(this.ctx),this.ctx.updateHelpers=new Oi(this.ctx),this.ctx.zoomPanSelection=new Di(this.ctx),this.ctx.w.globals.tooltip=new _t(this.ctx)}}]),R}(),Mt=function(){function R(e){Ce(this,R),this.ctx=e,this.w=e.w}return Se(R,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(t,s){this.removeClass("*"),this.off(),this.stop()},!0),e.ungroup(),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,r=this.w.globals.dom.Paper.node;r.parentNode&&r.parentNode.parentNode&&!e.isUpdating&&(r.parentNode.parentNode.style.minHeight="unset");var a=this.w.globals.dom.baseEl;a&&this.ctx.eventList.forEach(function(l){a.removeEventListener(l,t.ctx.events.documentEvent)});var o=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elLegendWrap=null,o.elLegendForeign=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),R}(),mi=new WeakMap,ji=function(){function R(e,t){Ce(this,R),this.opts=t,this.ctx=this,this.w=new ke(t).init(),this.el=e,this.w.globals.cuid=f.randomId(),this.w.globals.chartID=this.w.config.chart.id?f.escapeString(this.w.config.chart.id):this.w.globals.cuid,new gi(this).initModules(),this.create=f.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return Se(R,[{key:"render",value:function(){var e=this;return new Promise(function(t,s){if(null!==e.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var r=e.w.config.chart.events.beforeMount;if("function"==typeof r&&r(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(b,w){var k=!1;if(b.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var E=b.getBoundingClientRect();"none"!==b.style.display&&0!==E.width||(k=!0)}var I=new ResizeObserver(function(P){k&&w.call(b,P),k=!0});b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(b.children).forEach(function(P){return I.observe(P)}):I.observe(b),mi.set(w,I)}(e.el.parentNode,e.parentResizeHandler),!e.css){var a=e.el.getRootNode&&e.el.getRootNode(),o=f.is("ShadowRoot",a),l=e.el.ownerDocument,u=l.getElementById("apexcharts-css");!o&&u||(e.css=document.createElement("style"),e.css.id="apexcharts-css",e.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n',o?a.prepend(e.css):l.head.appendChild(e.css))}var y=e.create(e.w.config.series,{});if(!y)return t(e);e.mount(y).then(function(){"function"==typeof e.w.config.chart.events.mounted&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(y)}).catch(function(b){s(b)})}else s(new Error("Element not found"))})}},{key:"create",value:function(e,t){var s=this.w;new gi(this).initModules();var r=this.w.globals;if(r.noData=!1,r.animationEnded=!1,this.responsive.checkResponsiveConfig(t),s.config.xaxis.convertedCatToNumeric&&new Ve(s.config).convertCatToNumericXaxis(s.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===s.config.chart.type&&(s.config.grid.show=!1,s.config.yaxis[0].show=!1),0===r.svgWidth))return r.animationEnded=!0,null;var a=z.checkComboSeries(e);r.comboCharts=a.comboCharts,r.comboBarCount=a.comboBarCount;var o=e.every(function(b){return b.data&&0===b.data.length});(0===e.length||o)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(e),this.theme.init(),new qe(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),r.noData&&r.collapsedSeries.length!==r.series.length&&!s.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),r.axisCharts&&(this.core.coreCalculations(),"category"!==s.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=s.globals.minX,this.ctx.toolbar.maxX=s.globals.maxX),this.formatters.heatmapLabelFormatters(),new z(this).getLargestMarkerSize(),this.dimensions.plotCoords();var l=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(e,l),y=new at(this);return y.bringForward(),s.config.dataLabels.background.enabled&&y.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:u,xyRatios:l,dimensions:{plot:{left:s.globals.translateX,top:s.globals.translateY,width:s.globals.gridWidth,height:s.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=this,r=s.w;return new Promise(function(a,o){if(null===s.el)return o(new Error("Not enough data to display or target element not found"));(null===t||r.globals.allSeriesCollapsed)&&s.series.handleNoData(),s.grid=new vt(s);var l=s.grid.drawGrid();if(s.annotations=new ge(s),s.annotations.drawImageAnnos(),s.annotations.drawTextAnnos(),"back"===r.config.grid.position&&l&&r.globals.dom.elGraphical.add(l.el),Array.isArray(t.elGraph))for(var u=0;u<t.elGraph.length;u++)r.globals.dom.elGraphical.add(t.elGraph[u]);else r.globals.dom.elGraphical.add(t.elGraph);"front"===r.config.grid.position&&l&&r.globals.dom.elGraphical.add(l.el),l&&l.elGridBorders&&l.elGridBorders.node&&r.globals.dom.elGraphical.add(l.elGridBorders),"front"===r.config.xaxis.crosshairs.position&&s.crosshairs.drawXCrosshairs(),"front"===r.config.yaxis[0].crosshairs.position&&s.crosshairs.drawYCrosshairs(),"treemap"!==r.config.chart.type&&s.axes.drawAxis(r.config.chart.type,l);var y=new Rt(e.ctx,l),b=new ct(e.ctx,l);if(null!==l&&(y.xAxisLabelCorrections(l.xAxisTickWidth),b.setYAxisTextAlignments(),r.config.yaxis.map(function(k,E){-1===r.globals.ignoreYAxisIndexes.indexOf(E)&&b.yAxisTitleRotate(E,k.opposite)})),s.annotations.drawAxesAnnotations(),!r.globals.noData){if(r.config.tooltip.enabled&&!r.globals.noData&&s.w.globals.tooltip.drawTooltip(t.xyRatios),r.globals.axisCharts&&(r.globals.isXNumeric||r.config.xaxis.convertedCatToNumeric||r.globals.isRangeBar))(r.config.chart.zoom.enabled||r.config.chart.selection&&r.config.chart.selection.enabled||r.config.chart.pan&&r.config.chart.pan.enabled)&&s.zoomPanSelection.init({xyRatios:t.xyRatios});else{var w=r.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(k){w[k]=!1})}r.config.chart.toolbar.show&&!r.globals.allSeriesCollapsed&&s.toolbar.createToolbar()}r.globals.memory.methodsToExec.length>0&&r.globals.memory.methodsToExec.forEach(function(k){k.method(k.params,!1,k.context)}),r.globals.axisCharts||r.globals.noData||s.core.resizeNonAxisCharts(),a(s)})}},{key:"destroy",value:function(){var e,t;window.removeEventListener("resize",this.windowResizeHandler),(t=mi.get(e=this.parentResizeHandler))&&(t.disconnect(),mi.delete(e));var s=this.w.config.chart.id;s&&Apex._chartInstances.forEach(function(r,a){r.id===f.escapeString(s)&&Apex._chartInstances.splice(a,1)}),new Mt(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=this.w;return l.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(u,y){return t.updateHelpers._extendSeries(u,y)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),l.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,s,r,a,o)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,s)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.w.config.series.slice();return r.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(r,t,s)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this;s.w.globals.dataChanged=!0,s.series.getPreviousPaths();for(var r=s.w.config.series.slice(),a=0;a<r.length;a++)if(null!=e[a])for(var o=0;o<e[a].data.length;o++)r[a].data.push(e[a].data[o]);return s.w.config.series=r,t&&(s.w.globals.initialSeries=f.clone(s.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(s,r){new Mt(t.ctx).clear({isUpdating:!0});var a=t.create(t.w.config.series,e);if(!a)return s(t);t.mount(a).then(function(){"function"==typeof t.w.config.chart.events.updated&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,s(t)}).catch(function(o){r(o)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(s){t.push(s)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"resetSeries",value:function(){this.series.resetSeries(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this;s&&(r=s),r.annotations.addXaxisAnnotationExternal(e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r)}},{key:"addYaxisAnnotation",value:function(e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this;s&&(r=s),r.annotations.addYaxisAnnotationExternal(e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r)}},{key:"addPointAnnotation",value:function(e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this;s&&(r=s),r.annotations.addPointAnnotationExternal(e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=this;t&&(s=t),s.annotations.removeAnnotation(s,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Dt(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Dt(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new ot(this.ctx).dataURI(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ot(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;"function"==typeof e&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=f.escapeString(e),s=Apex._chartInstances.filter(function(r){return r.id===t})[0];return s&&s.chart}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new R(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var s=this.getChartByID(e);if(s){s.w.globals.isExecCalled=!0;var r=null;if(-1!==s.publicMethods.indexOf(t)){for(var a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];r=s[t].apply(s,o)}return r}}},{key:"merge",value:function(e,t){return f.extend(e,t)}}]),R}();return ji}),typeof DlhSoft>"u"&&(DlhSoft={assemblies:[],buildReleaseDate:new Date(1,0,1)}),DlhSoft.assemblies.push({assembly:"DlhSoft.Data.HTML.Controls",company:"DlhSoft",product:"Data Modern Library",version:"5.2.3.1",copyright:"Copyright \ufffd 2014-2021 DlhSoft",title:"Data HTML Controls",description:"Data related HTML client components"}),DlhSoft.buildReleaseDate=function(H,ue,m){return(H=new Date(H,4,8))>DlhSoft.buildReleaseDate?H:DlhSoft.buildReleaseDate}(2015);var _0x5c25="Licensing{undefined{string{DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.{.{length{license{push{type{content{:{lastIndexOf{substr{buildReleaseDate{charCodeAt{pow{toUpperCase{DlhSoft Component Licensing Warning{http://DlhSoft.com/Purchase.aspx{?Assemblies={,{http://www.componentsource.com/features/dlhsoft{ (version {){This component is currently licensed to be used for testing purposes only{The component is part of this assembly{To purchase a standard license for a product that includes this assembly you can use the Purchase page{ownerDocument{div{createElement{style{display:none;position: absolute; left: 24px; top: 24px; width: 480px; z-index: 1; color: Black; background-color: #ffffc0; border: solid 1px Blue; overflow: auto{setAttribute{padding: 6px; padding-top: 8px; font-family: Arial; font-size: small{font-weight: bold; margin-bottom: 4px{appendChild{createTextNode{color: Red; margin-top: 2px; margin-bottom: 2px{margin-top: 4px{a{color: Blue; text-decoration: underline{href{target{_blank{Purchase license{margin-left: 4px; color: Blue; text-decoration: underline{javascript://{Continue trial{click{removeChild{addEventListener{\n\n{: {:\n".split("{");null==DlhSoft[_0x5c25[0]]&&(DlhSoft[_0x5c25[0]]=function(){var H=_0x5c25[1],ue=_0x5c25[2],m=[],Ce=[],kt=_0x5c25[3];return{setLicense:function(_e,he){m[_0x5c25[7]]({type:_e,content:he})},validate:function(_e,he,Ne,Ze,Le,Re,be){he=he+_0x5c25[4]+Ne;for(var Te=0;Te<Ce[_0x5c25[5]];Te++)if(Ce[Te]==he)return;e:if(typeof Re!==ue&&typeof be!==H&&(be[_0x5c25[6]]!==H&&(Re=be[_0x5c25[6]]),typeof be===ue&&(Re=be)),typeof Re!==ue)for(be=0;be<m[_0x5c25[5]];be++)if((Te=m[be])[_0x5c25[8]]==he&&typeof Te[_0x5c25[9]]===ue){Re=Te[_0x5c25[9]];break e}!function(_e,he){if(typeof _e!==ue||typeof he!==ue)return!1;if(he==kt)return!0;var Ne=he[_0x5c25[11]](_0x5c25[10]);if(0<=Ne){var Le,Ze=he[_0x5c25[12]](0,Ne),Re=Ze[_0x5c25[11]](_0x5c25[10]);if(0<=Re)try{Le=new Date(parseInt(Ze[_0x5c25[12]](Re+1)))}catch{}if(typeof Le===H&&(Le=new Date(2013,11,31)),DlhSoft[_0x5c25[13]]>Le)return!1;for(Ze=Ze+_0x5c25[10]+_e,i=Le=0;i<Ze[_0x5c25[5]];i++)Le=(Le<<5)-Le+(Re=Ze[_0x5c25[14]](i)),Le&=Le;if(0>Le&&(Le=Math[_0x5c25[15]](2,32)-Le),(Ze=Le.toString(16)[_0x5c25[16]]())==(Ne=he[_0x5c25[12]](Ne+1)))return!0}return!1}(he,Re)?function(_e,he,Ne,Ze,Le){var Re=_0x5c25[17],Te=typeof ComponentSource!==H&&ComponentSource?_0x5c25[21]:_0x5c25[18]+_0x5c25[19]+Ze+_0x5c25[20]+Le,$=Ze+_0x5c25[22]+Le+_0x5c25[23],f=_0x5c25[24],W=_0x5c25[25],Y=_0x5c25[26];setTimeout(function(){var D=_e[_0x5c25[27]],z=D[_0x5c25[29]](_0x5c25[28]);z[_0x5c25[32]](_0x5c25[30],_0x5c25[31]);var M=D[_0x5c25[29]](_0x5c25[28]);M[_0x5c25[32]](_0x5c25[30],_0x5c25[33]);var J=D[_0x5c25[29]](_0x5c25[28]);J[_0x5c25[32]](_0x5c25[30],_0x5c25[34]),M[_0x5c25[35]](J),J[_0x5c25[35]](D[_0x5c25[36]](Re)),M[_0x5c25[35]](D[_0x5c25[36]](f+_0x5c25[10])),(J=D[_0x5c25[29]](_0x5c25[28]))[_0x5c25[32]](_0x5c25[30],_0x5c25[37]),J[_0x5c25[35]](D[_0x5c25[36]](he)),M[_0x5c25[35]](J),M[_0x5c25[35]](D[_0x5c25[36]](W+_0x5c25[10])),(J=D[_0x5c25[29]](_0x5c25[28]))[_0x5c25[32]](_0x5c25[30],_0x5c25[37]),J[_0x5c25[35]](D[_0x5c25[36]]($)),M[_0x5c25[35]](J),M[_0x5c25[35]](D[_0x5c25[36]](Y+_0x5c25[10])),(J=D[_0x5c25[29]](_0x5c25[28]))[_0x5c25[32]](_0x5c25[30],_0x5c25[38]);var G=D[_0x5c25[29]](_0x5c25[39]);G[_0x5c25[32]](_0x5c25[30],_0x5c25[40]),G[_0x5c25[32]](_0x5c25[41],Te),G[_0x5c25[32]](_0x5c25[42],_0x5c25[43]),G[_0x5c25[35]](D[_0x5c25[36]](_0x5c25[44])),J[_0x5c25[35]](G),(G=D[_0x5c25[29]](_0x5c25[39]))[_0x5c25[32]](_0x5c25[30],_0x5c25[45]),G[_0x5c25[32]](_0x5c25[41],_0x5c25[46]),G[_0x5c25[35]](D[_0x5c25[36]](_0x5c25[47])),G[_0x5c25[50]](_0x5c25[48],function(){_e[_0x5c25[49]](z),Ce[_0x5c25[7]](Ne)},!1),J[_0x5c25[35]](G),M[_0x5c25[35]](J),z[_0x5c25[35]](M),_e[_0x5c25[35]](z)},0)}(_e,Ne,he,Ze,Le):_e[_0x5c25[6]]=Re}}}());var DlhSoft,__extends=this&&this.__extends||function(H,ue){function m(){this.constructor=H}for(var Ce in ue)ue.hasOwnProperty(Ce)&&(H[Ce]=ue[Ce]);H.prototype=null===ue?Object.create(ue):(m.prototype=ue.prototype,new m)};function initializeGanttChartTheme(H,ue){if("Default"!=ue){if("Aero"==ue)return void(H.theme="Aero");switch(typeof H.headerHeight>"u"&&(H.headerHeight=62),typeof H.itemHeight>"u"&&(H.itemHeight=28),typeof H.barMargin>"u"&&(H.barMargin=4),typeof H.completedBarMargin>"u"&&(H.completedBarMargin=1),typeof H.barCornerRadius>"u"&&(H.barCornerRadius=1),typeof H.completedBarCornerRadius>"u"&&(H.completedBarCornerRadius=1),typeof H.arrowSize>"u"&&(H.arrowSize=2),typeof H.hourWidth>"u"&&(H.hourWidth=5),ue){case"Generic-bright":typeof H.headerBackground>"u"&&(H.headerBackground="white"),typeof H.mainStroke>"u"&&(H.mainStroke="#005c9e"),typeof H.mainFill>"u"&&(H.mainFill="white"),typeof H.accentFill>"u"&&(H.accentFill="#005c9e"),typeof H.diamondFill>"u"&&(H.diamondFill="#e31d3b"),typeof H.diamondStroke>"u"&&(H.diamondStroke="#005c9e"),typeof H.standardLabelColor>"u"&&(H.standardLabelColor="#daae66"),typeof H.summaryLabelColor>"u"&&(H.summaryLabelColor="#dcf2f8;"),typeof H.milestoneLabelColor>"u"&&(H.milestoneLabelColor="#ff851b;");break;case"Generic-blue":typeof H.headerBackground>"u"&&(H.headerBackground="white");break;case"Royal-blue":typeof H.border>"u"&&(H.border="#ccc"),typeof H.headerBackground>"u"&&(H.headerBackground="#aaa"),typeof H.headerForeground>"u"&&(H.headerForeground="white"),typeof H.toggleFill>"u"&&(H.toggleFill="#ccc"),typeof H.selectedGridForeground>"u"&&(H.selectedGridForeground="#4b5d6b"),typeof H.selectedGridBackground>"u"&&(H.selectedGridBackground="#ddd"),typeof H.nonworkingBackground>"u"&&(H.nonworkingBackground="#f8f8f8"),typeof H.mainStroke>"u"&&(H.mainStroke="#407cee"),typeof H.mainFill>"u"&&(H.mainFill="#407cee"),typeof H.accentFill>"u"&&(H.accentFill="#6aa84f"),typeof H.diamondFill>"u"&&(H.diamondFill="#fdbb86"),typeof H.diamondStroke>"u"&&(H.diamondStroke="#222222"),typeof H.standardLabelColor>"u"&&(H.standardLabelColor="#dcf2f8;"),typeof H.summaryLabelColor>"u"&&(H.summaryLabelColor="#dcf2f8;"),typeof H.milestoneLabelColor>"u"&&(H.milestoneLabelColor="#ff851b;");break;case"Purple-green":typeof H.headerBackground>"u"&&(H.headerBackground="#dddfd4"),typeof H.mainStroke>"u"&&(H.mainStroke="#005173"),typeof H.mainFill>"u"&&(H.mainFill="#a0729d"),typeof H.accentFill>"u"&&(H.accentFill="#91bc0e"),typeof H.standardLabelColor>"u"&&(H.standardLabelColor="#fff;"),typeof H.summaryLabelColor>"u"&&(H.summaryLabelColor="#fff;"),typeof H.milestoneLabelColor>"u"&&(H.milestoneLabelColor="#ff851b;");break;case"Blue-navy":typeof H.headerBackground>"u"&&(H.headerBackground="#eeeeee"),typeof H.selectedGridBackground>"u"&&(H.selectedGridBackground="#e8e8e8"),typeof H.mainStroke>"u"&&(H.mainStroke="#6534ff"),typeof H.mainFill>"u"&&(H.mainFill="#369bf9"),typeof H.accentFill>"u"&&(H.accentFill="#227fd5"),typeof H.alternativeGridBackground>"u"&&(H.alternativeGridBackground="#f9f9f9"),typeof H.standardLabelColor>"u"&&(H.standardLabelColor="#dcf2f8;"),typeof H.summaryLabelColor>"u"&&(H.summaryLabelColor="#dcf2f8;"),typeof H.milestoneLabelColor>"u"&&(H.milestoneLabelColor="#ff851b;");break;case"Orange-brown":typeof H.headerBackground>"u"&&(H.headerBackground="#eeeeee"),typeof H.selectedGridBackground>"u"&&(H.selectedGridBackground="#e8e8e8"),typeof H.mainStroke>"u"&&(H.mainStroke="#cc9d38"),typeof H.mainFill>"u"&&(H.mainFill="#ffcf6b"),typeof H.accentFill>"u"&&(H.accentFill="#d5a05a"),typeof H.diamondFill>"u"&&(H.diamondFill="#00c389"),typeof H.diamondStroke>"u"&&(H.diamondStroke="#222222"),typeof H.alternativeBackground>"u"&&(H.alternativeBackground="#f9f9f9"),typeof H.standardLabelColor>"u"&&(H.standardLabelColor="#fff;"),typeof H.summaryLabelColor>"u"&&(H.summaryLabelColor="#fff;"),typeof H.milestoneLabelColor>"u"&&(H.milestoneLabelColor="#6a66b3;");break;case"Teal-green":typeof H.headerBackground>"u"&&(H.headerBackground="#eeeeee"),typeof H.mainStroke>"u"&&(H.mainStroke="#3294a1"),typeof H.mainFill>"u"&&(H.mainFill="#5ebccc"),typeof H.accentFill>"u"&&(H.accentFill="#3294a1"),typeof H.diamondFill>"u"&&(H.diamondFill="#faffb3"),typeof H.diamondStroke>"u"&&(H.diamondStroke="#3294a1"),typeof H.standardLabelColor>"u"&&(H.standardLabelColor="#dcf2f8;"),typeof H.summaryLabelColor>"u"&&(H.summaryLabelColor="#dcf2f8;"),typeof H.milestoneLabelColor>"u"&&(H.milestoneLabelColor="#ff851b;");break;case"Steel-blue":typeof H.border>"u"&&(H.border="#aaaaaa"),typeof H.headerBackground>"u"&&(H.headerBackground="#6b7d8b"),typeof H.headerForeground>"u"&&(H.headerForeground="white"),typeof H.headerBorder>"u"&&(H.headerBorder="#aaaaaa"),typeof H.containerBackground>"u"&&(H.containerBackground="#d5e5f2"),typeof H.chartBackground>"u"&&(H.chartBackground="#bfcfda"),typeof H.gridForeground>"u"&&(H.gridForeground="gray"),typeof H.toggleFill>"u"&&(H.toggleFill="gray"),typeof H.selectedGridForeground>"u"&&(H.selectedGridForeground="#4b5d6b"),typeof H.selectedGridBackground>"u"&&(H.selectedGridBackground="#95a5b2"),typeof H.nonworkingBackground>"u"&&(H.nonworkingBackground="#95a5b2"),typeof H.mainStroke>"u"&&(H.mainStroke="#4477aa"),typeof H.mainFill>"u"&&(H.mainFill="#6699cc"),typeof H.accentFill>"u"&&(H.accentFill="#4c7f3d"),typeof H.diamondFill>"u"&&(H.diamondFill="#999"),typeof H.diamondStroke>"u"&&(H.diamondStroke="#222222"),typeof H.standardLabelColor>"u"&&(H.standardLabelColor="#dcf2f8;"),typeof H.summaryLabelColor>"u"&&(H.summaryLabelColor="#dcf2f8;"),typeof H.milestoneLabelColor>"u"&&(H.milestoneLabelColor="#ff851b;");break;case"Cyan-green":typeof H.headerBackground>"u"&&(H.headerBackground="#dddddd"),typeof H.mainStroke>"u"&&(H.mainStroke="#7fc6ce"),typeof H.mainFill>"u"&&(H.mainFill="#1fb5ce"),typeof H.accentFill>"u"&&(H.accentFill="#1fce43"),typeof H.diamondFill>"u"&&(H.diamondFill="#d6485b"),typeof H.diamondStroke>"u"&&(H.diamondStroke="#222222"),typeof H.standardLabelColor>"u"&&(H.standardLabelColor="#dcf2f8;"),typeof H.summaryLabelColor>"u"&&(H.summaryLabelColor="#dcf2f8;"),typeof H.milestoneLabelColor>"u"&&(H.milestoneLabelColor="#ff851b;");break;case"Purple-beige":typeof H.selectedGridBackground>"u"&&(H.selectedGridBackground="#d0d5e5"),typeof H.mainStroke>"u"&&(H.mainStroke="#bfb8a4"),typeof H.mainFill>"u"&&(H.mainFill="#d0d5f5"),typeof H.accentFill>"u"&&(H.accentFill="#bfb8a4"),typeof H.diamondFill>"u"&&(H.diamondFill="#bfb8a4"),typeof H.diamondStroke>"u"&&(H.diamondStroke="#005c9e"),typeof H.alternativeGridBackground>"u"&&(H.alternativeGridBackground="#f0eeeb"),typeof H.alternativeChartBackground>"u"&&(H.alternativeChartBackground="#f9f9f9"),typeof H.standardLabelColor>"u"&&(H.standardLabelColor="#555;"),typeof H.summaryLabelColor>"u"&&(H.summaryLabelColor="#fff;"),typeof H.milestoneLabelColor>"u"&&(H.milestoneLabelColor="#ff851b;");break;case"Dark-black":typeof H.containerClass>"u"&&(H.containerClass="dark"),typeof H.border>"u"&&(H.border="#222222"),typeof H.headerBackground>"u"&&(H.headerBackground="#111111"),typeof H.headerForeground>"u"&&(H.headerForeground="#eeeeee"),typeof H.headerBorder>"u"&&(H.headerBorder="#222222"),typeof H.containerBackground>"u"&&(H.containerBackground="#222222"),typeof H.gridForeground>"u"&&(H.gridForeground="#dddddd"),typeof H.chartForeground>"u"&&(H.chartForeground="#dddddd"),typeof H.scaleSeparatorBorder>"u"&&(H.scaleSeparatorBorder="#505050"),typeof H.toggleFill>"u"&&(H.toggleFill="#808080"),typeof H.toggleHoveringFill>"u"&&(H.toggleHoveringFill="white"),typeof H.selectedGridForeground>"u"&&(H.selectedGridForeground="white"),typeof H.selectedGridBackground>"u"&&(H.selectedGridBackground="#404040"),typeof H.nonworkingBackground>"u"&&(H.nonworkingBackground="#333333"),typeof H.mainStroke>"u"&&(H.mainStroke="gray"),typeof H.accentFill>"u"&&(H.accentFill="#ffbb00"),typeof H.summaryFill>"u"&&(H.summaryFill="#505050"),typeof H.diamondFill>"u"&&(H.diamondFill="#ffbb00"),typeof H.currentTimeStroke>"u"&&(H.currentTimeStroke="#289451"),typeof H.standardLabelColor>"u"&&(H.standardLabelColor="#dcf2f8;"),typeof H.summaryLabelColor>"u"&&(H.summaryLabelColor="#dcf2f8;"),typeof H.milestoneLabelColor>"u"&&(H.milestoneLabelColor="#ff851b;");break;case"Gray-blue":typeof H.headerBackground>"u"&&(H.headerBackground="white"),typeof H.containerBackground>"u"&&(H.containerBackground="#fafafa"),typeof H.selectedGridBackground>"u"&&(H.selectedGridBackground="#def8ff"),typeof H.mainStroke>"u"&&(H.mainStroke="#005c9e"),typeof H.mainFill>"u"&&(H.mainFill="white"),typeof H.accentFill>"u"&&(H.accentFill="#007acc"),typeof H.diamondFill>"u"&&(H.diamondFill="#abe2ff"),typeof H.diamondStroke>"u"&&(H.diamondStroke="#007acc");break;case"DlhSoft-gray":typeof H.border>"u"&&(H.border="#aaaaaa"),typeof H.headerBackground>"u"&&(H.headerBackground="#CDDFFC"),typeof H.headerForeground>"u"&&(H.headerForeground="#333"),typeof H.headerBorder>"u"&&(H.headerBorder="transparent"),typeof H.selectedGridBackground>"u"&&(H.selectedGridBackground="#e8e8e8"),typeof H.mainStroke>"u"&&(H.mainStroke="#777"),typeof H.mainFill>"u"&&(H.mainFill="#f9f9f9"),typeof H.accentFill>"u"&&(H.accentFill="#decfb9"),typeof H.summaryFill>"u"&&(H.summaryFill="#777"),typeof H.diamondFill>"u"&&(H.diamondFill="#99c9ce"),typeof H.diamondStroke>"u"&&(H.diamondStroke="#777"),typeof H.alternativeGridBackground>"u"&&(H.alternativeGridBackground="#f8f8f8"),typeof H.currentTimeStroke>"u"&&(H.currentTimeStroke="#82a0b3")}typeof H.containerStyle>"u"&&H.containerBackground&&(H.containerStyle="background-color: "+H.containerBackground),typeof H.columnHeaderStyle>"u"&&H.headerForeground&&(H.columnHeaderStyle="color: "+H.headerForeground),H.gridForeground?(typeof H.itemStyle>"u"&&(H.itemStyle="color: "+H.gridForeground+(H.gridBackground?"; background-color: "+H.gridBackground:"")),typeof H.selectedItemStyle>"u"&&H.selectedGridForeground&&(H.selectedItemStyle="color: "+H.selectedGridForeground+"; background-color: "+(H.selectedGridBackground?H.selectedGridBackground:H.gridForeground))):typeof H.selectedItemStyle>"u"&&(H.selectedGridForeground||H.selectedGridBackground)&&(H.selectedItemStyle="color: "+(H.selectedGridForeground?H.selectedGridForeground:"black")+"; background-color: "+(H.selectedGridBackground?H.selectedGridBackground:"#f0f0f0")),typeof H.toggleButtonStyle>"u"&&H.toggleFill&&(H.toggleButtonStyle="fill: "+H.toggleFill),typeof H.toggleButtonHoveringStyle>"u"&&H.toggleHoveringFill&&(H.toggleButtonHoveringStyle="fill: "+H.toggleHoveringFill),typeof H.scales>"u"&&(H.scales=[{scaleType:"NonworkingTime",isHeaderVisible:!1,isHighlightingVisible:!0,highlightingStyle:"stroke-width: 0; fill: "+(H.nonworkingBackground?H.nonworkingBackground:"#f8f8f8")+"; fill-opacity: 0.65"},{scaleType:"Weeks",headerTextFormat:"Date",headerStyle:"padding: 7px 5px; border-right: 1px solid "+(H.headerBorder?H.headerBorder:"#e8e8e8")+"; border-bottom: 1px solid "+(H.headerBorder?H.headerBorder:"#e8e8e8")+(H.headerForeground?"; color: "+H.headerForeground:""),isSeparatorVisible:!0,separatorStyle:"stroke: "+(H.scaleSeparatorBorder?H.scaleSeparatorBorder:"#c8bfe7")+"; stroke-width: 0.5px"},{scaleType:"Days",headerTextFormat:"DayOfWeekAbbreviation",headerStyle:"padding: 7px 5px; border-right: 1px solid "+(H.headerBorder?H.headerBorder:"#e8e8e8")+(H.headerForeground?"; color: "+H.headerForeground:"")},{scaleType:"CurrentTime",isHeaderVisible:!1,isSeparatorVisible:!0,separatorStyle:"stroke: "+(H.currentTimeStroke?H.currentTimeStroke:"#e31d3b")+"; stroke-width: 0.5px"}]),H.chartBackground&&H.scales.splice(0,0,{scaleType:"Custom",isHeaderVisible:!1,intervals:[{start:new Date(1,0,1),finish:new Date(1e4,11,31,23,59,59,999)}],isHighlightingVisible:!0,highlightingStyle:"fill: "+H.chartBackground}),H.mainFill&&(typeof H.standardBarStyle>"u"&&(H.standardBarStyle="stroke: "+(H.mainStroke?H.mainStroke:H.mainFill)+"; fill: "+H.mainFill),typeof H.collapsedSummaryLineStyle>"u"&&(H.collapsedSummaryLineStyle="stroke: "+(H.mainStroke?H.mainStroke:H.mainFill)+"; stroke-width: 0.65px; stroke-dasharray: 2 2")),typeof H.standardCompletedBarStyle>"u"&&H.accentFill&&(H.standardCompletedBarStyle="stroke: "+H.accentFill+"; fill: "+H.accentFill),typeof H.summaryBarStyle>"u"&&H.summaryFill&&(H.summaryBarStyle="stroke: "+(H.summaryStroke?H.summaryStroke:H.summaryFill)+"; fill: "+H.summaryFill),typeof H.milestoneBarStyle>"u"&&H.diamondFill&&(H.milestoneBarStyle="stroke: "+(H.diamondStroke?H.diamondStroke:H.diamondFill)+"; fill: "+H.diamondFill),H.mainStroke&&(typeof H.arrowFill>"u"&&(H.baselineBarStyle="fill: none; stroke: "+H.mainStroke+"; stroke-width: 0.65px; stroke-dasharray: 2, 2"),H.arrowFill||(H.arrowFill=H.mainStroke),typeof H.dependencyLineStyle>"u"&&(H.dependencyLineStyle="stroke: "+H.arrowFill+"; stroke-width: 0.65px; fill: none; marker-end: url(#ArrowMarker)")),typeof H.assignmentsStyle>"u"&&H.chartForeground&&(H.assignmentsStyle="font-size: x-small; fill: "+H.chartForeground),H.alternativeBackground&&(typeof H.alternativeGridBackground>"u"&&(H.alternativeGridBackground=H.alternativeBackground),typeof H.alternativeChartBackground>"u"&&(H.alternativeChartBackground=H.alternativeBackground)),typeof H.alternativeItemStyle>"u"&&H.alternativeGridBackground&&(H.alternativeItemStyle="background-color: "+H.alternativeGridBackground),typeof H.alternativeChartItemStyle>"u"&&H.alternativeChartBackground&&(H.alternativeChartItemStyle="fill: "+H.alternativeChartBackground)}}function initializeLoadChartTheme(H,ue){initializeGanttChartTheme(H,ue),"Default"!=ue&&(typeof H.barHeight>"u"&&(H.barHeight=20),typeof H.allocationFill>"u"&&(H.allocationFill=H.mainFill?"white"!=H.mainFill?H.mainFill:H.mainStroke:"#8abbed"),typeof H.normalAllocationBarStyle>"u"&&(H.normalAllocationBarStyle=H.underAllocationBarStyle="stroke: "+H.allocationFill+"; fill: "+H.allocationFill),typeof H.overAllocationBarStyle>"u"&&(H.overAllocationBarStyle="stroke: #e31d3b; fill: #e31d3b"))}!function(H){var ue,m,Ce,kt,Se,wt,_e,he,be,Te,Ne,Ze,Le,Re;ue=H.Controls||(H.Controls={}),function(be){be.initialize=function($,f,W){return new Te($,f,W)},be.get=function($){return $.component};var Te=function(){function $(f,W,Y){this.host=f,this.settings=W,this.isInitialized=!1;var D="DlhSoft.Controls ContentControl DlhSoft.Data.HTML.Controls 5 validate Licensing".split(" ");H[D[5]][D[4]](f,D[0],D[1],D[2],D[3],Y,W),this.host.component=this,typeof W>"u"&&(W={}),this.settings=W,$.initializeSettings(this.settings),(typeof(W=this.settings.content)>"u"||null==W)&&(W=$.getContent(f)),this.content=W,this.settings.content=W,this.refresh(),this.isInitialized=!0}return $.initializeSettings=function(f){typeof f.theme>"u"&&(f.theme="Modern"),typeof f.containerStyle>"u"&&(f.containerStyle="font-family: Arial; font-size: "+("Modern"==f.theme?"12px":"small")),typeof f.contentTemplate>"u"&&(f.contentTemplate=function(W,Y){if((typeof Y>"u"||null==Y)&&(Y=""),Y instanceof HTMLElement)return Y;var D=W.createElement("span");return D.innerHTML=Y.toString(),D})},$.getContent=function(f){var D,W=f.ownerDocument.createElement("span"),Y=[];for(D=0;D<f.childNodes.length;D++)Y.push(f.childNodes[D]);for(D=f.childNodes.length;0<D--;)f.removeChild(f.childNodes[D]);for(D=0;D<Y.length;D++)W.appendChild(Y[D]);return W},$.prototype.refresh=function(){for(var f=this.host.ownerDocument,W=this.host.childNodes.length;0<W--;)this.host.removeChild(this.host.childNodes[W]);this.contentContainer=this.settings.contentTemplate(f,this.content),null!=this.settings.containerStyle&&this.contentContainer.setAttribute("style",this.settings.containerStyle),typeof this.settings.containerClass<"u"&&this.contentContainer.setAttribute("class",this.settings.containerClass),this.host.appendChild(this.contentContainer)},$.prototype.setContent=function(f){this.content=f,this.settings.content=f,this.refresh()},$}();be.Element=Te}(m=ue.ContentControl||(ue.ContentControl={})),function(be){be.initialize=function($,f,W,Y){return new Te($,f,W,Y)},be.get=function($){return $.component};var Te=function(){function $(f,W,Y,D){this.host=f,this.settings=Y,this.isInitialized=!1;var z="DlhSoft.Controls ItemsControl DlhSoft.Data.HTML.Controls 5 validate Licensing".split(" ");H[z[5]][z[4]](f,z[0],z[1],z[2],z[3],D,Y),this.host.component=this,typeof Y>"u"&&(Y={}),this.settings=Y,$.initializeSettings(this.settings),(typeof W>"u"||null==W)&&(W=this.settings.items),(typeof W>"u"||null==W)&&(W=$.getItems(f)),this.items=W,this.settings.items=W,this.refresh(),this.isInitialized=!0}return $.initializeSettings=function(f){typeof f.theme>"u"&&(f.theme="Modern"),typeof f.itemContainerStyle>"u"&&(f.itemContainerStyle="font-family: Arial; font-size: "+("Modern"==f.theme?"12px":"small")),typeof f.itemTemplate>"u"&&(f.itemTemplate=function(W,Y){if((typeof Y>"u"||null==Y)&&(Y=""),Y instanceof HTMLElement)return Y;var D=W.createElement("span");return D.innerHTML=Y.toString(),D})},$.getItems=function(f){var Y,W=[];for(Y=0;Y<f.childNodes.length;Y++)f.childNodes[Y]instanceof HTMLElement&&W.push(f.childNodes[Y]);for(Y=f.childNodes.length;0<Y--;)f.removeChild(f.childNodes[Y]);return W},$.prototype.refresh=function(){for(var f=this.host.ownerDocument,W=this.host.childNodes.length;0<W--;)this.host.removeChild(this.host.childNodes[W]);for(this.itemContainers=[],W=0;W<this.items.length;W++){var Y=this.settings.itemTemplate(f,this.items[W]);null!=this.settings.itemContainerStyle&&Y.setAttribute("style",this.settings.itemContainerStyle),typeof this.settings.itemContainerClass<"u"&&Y.setAttribute("class",this.settings.itemContainerClass),this.host.appendChild(Y)}},$.prototype.setItems=function(f){this.items=f,this.settings.items=f,this.refresh()},$}();be.Element=Te}(ue.ItemsControl||(ue.ItemsControl={})),function(be){be.initialize=function($,f,W,Y){return new Te($,f,W,Y)},be.get=function($){return $.component};var Te=function(){function $(f,W,Y,D){this.host=f,this.clickHandler=W,this.settings=Y,this.isInitialized=!1,W="DlhSoft.Controls Button DlhSoft.Data.HTML.Controls 5 validate Licensing".split(" "),H[W[5]][W[4]](f,W[0],W[1],W[2],W[3],D,Y),this.host.component=this,typeof Y>"u"&&(Y={}),this.settings=Y,$.initializeSettings(this.settings);var z=this.host.ownerDocument;(this.inputHost=f instanceof HTMLInputElement?f:null)&&(z=z.createElement("span"),this.inputHost.parentElement&&this.inputHost.parentElement.insertBefore(z,this.inputHost),this.host=z,H[W[5]][W[4]](z,W[0],W[1],W[2],W[3],D,Y),this.host.component=this),(Y=this.host.getAttribute("style"))&&(this.settings.containerStyle=Y+";"+this.settings.containerStyle,this.host.setAttribute("style","")),(Y=this.host.getAttribute("class"))&&!this.settings.containerClass&&(this.settings.containerClass=Y,this.host.setAttribute("class","")),(typeof(Y=this.settings.content)>"u"||null==Y)&&(Y=m.Element.getContent(f)),this.content=Y,this.settings.content=Y,this.isEnabled=this.settings.isEnabled,this.isInitialRefresh=!0,this.refresh(),this.isInitialized=!0}return $.initializeSettings=function(f){m.Element.initializeSettings(f),f.containerStyle+=("Modern"==f.theme?"; color: #505050":"")+"; display: inline-block; text-align: center; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: default; background-color: #f0f0f0; border: 1px solid #e0e0e0; "+("Modern"==f.theme?"":"; border-radius: 3px"),typeof f.inputType>"u"&&(f.inputType="button"),typeof f.isEnabled>"u"&&(f.isEnabled=!0),typeof f.disabledStyle>"u"&&(f.disabledStyle="opacity: 0.5"),typeof f.hoveringStyle>"u"&&(f.hoveringStyle="background-color: "+("Modern"==f.theme?"#e8e8ff":"#e8e8e8")),typeof f.pressedStyle>"u"&&(f.pressedStyle="background-color: "+("Modern"==f.theme?"#d0d0ff":"#e8e8e8")),typeof f.contentStyle>"u"&&(f.contentStyle="padding: 4px 8px 4px 8px; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: default")},$.prototype.refresh=function(){var f=this;if(!(this.isInitialRefresh&&(delete this.isInitialRefresh,this instanceof kt.Element))){for(var W=this.host.ownerDocument,Y=this.host.childNodes.length;0<Y--;)this.host.removeChild(this.host.childNodes[Y]);this.inputHost?(this.inputElement=this.inputHost,this.inputElement.value&&(this.content=this.inputElement.value)):this.inputElement=W.createElement("input"),this.settings.inputName&&this.inputElement.setAttribute("name",this.settings.inputName),this.inputElement.value||(this.inputElement.value=this.inputElement.name),this.inputElement.setAttribute("type","toggleButton"!=this.settings.inputType?this.settings.inputType:"checkbox"),this.inputElement.style.display="none",this.host.appendChild(this.inputElement),this.contentControlHost=W.createElement("div"),this.contentControlHost.setAttribute("style",this.settings.containerStyle),typeof this.settings.containerClass<"u"&&this.contentControlHost.setAttribute("class",this.settings.containerClass),this.host.appendChild(this.contentControlHost),this.contentControl=new m.Element(this.contentControlHost,{theme:this.settings.theme,containerStyle:null,content:this.content,contentTemplate:function(D,z){(typeof z>"u"||null==z)&&(z="");var M=D.createElement("div");f.contentContainer=M,M.setAttribute("style",f.settings.contentStyle),typeof f.settings.contentClass<"u"&&M.setAttribute("class",f.settings.contentClass),M.appendChild(f.settings.contentTemplate(D,z));var J=D.createElement("div");f.hoverableContainer=J,f.isEnabled||(f.hoverableContainer.setAttribute("style",f.settings.disabledStyle),typeof f.settings.disabledClass<"u"&&f.hoverableContainer.setAttribute("class",f.settings.disabledClass));var G=D.createElement("div");return f.pressableContainer=G,G.appendChild(M),J.appendChild(G),J.onmouseenter=function(){f.isEnabled&&f.hoverableContainer==J&&(J.setAttribute("style",f.settings.hoveringStyle),typeof f.settings.hoveringClass<"u"&&J.setAttribute("class",f.settings.hoveringClass),"toggleButton"!=f.settings.inputType&&f.isPressed&&(G.setAttribute("style",f.settings.pressedStyle),typeof f.settings.pressedClass<"u"&&G.setAttribute("class",f.settings.pressedClass)),f.isHovering=!0,f.settings.hoveringHandler&&f.settings.hoveringHandler(f))},J.onmouseleave=function(){f.isEnabled&&f.hoverableContainer==J&&(f.isHovering=!1,J.setAttribute("style",""),J.setAttribute("class",""),"toggleButton"!=f.settings.inputType&&(G.setAttribute("style",""),G.setAttribute("class","")),f.settings.unhoveringHandler&&f.settings.unhoveringHandler(f))},"toggleButton"!=f.settings.inputType?(G.onmousedown=function(){f.isEnabled&&f.pressableContainer==G&&(G.setAttribute("style",f.settings.pressedStyle),typeof f.settings.pressedClass<"u"&&G.setAttribute("class",f.settings.pressedClass),f.isPressed=!0,f.settings.pressedHandler&&f.settings.pressedHandler(f))},D.addEventListener("mouseup",function(){f.isEnabled&&f.pressableContainer==G&&(f.isPressed=!1,G.setAttribute("style",""),G.setAttribute("class",""),f.settings.unpressedHandler&&f.settings.unpressedHandler(f))},!1),G.onmouseup=function(){if(f.isEnabled&&f.pressableContainer==G){f.clickHandler&&f.clickHandler();try{var re=f.inputElement.ownerDocument.createEvent("HTMLEvents");re.initEvent("click",!0,!0),f.inputElement.dispatchEvent(re)}catch{}}}):G.onmousedown=function(){if(f.isEnabled&&f.pressableContainer==G)if(f.isPressed){f.isPressed=!1,G.setAttribute("style",""),G.setAttribute("class",""),f.settings.unpressedHandler&&f.settings.unpressedHandler(f),f.clickHandler&&f.clickHandler();try{(re=f.inputElement.ownerDocument.createEvent("HTMLEvents")).initEvent("click",!0,!0),f.inputElement.dispatchEvent(re),(K=f.inputElement.ownerDocument.createEvent("HTMLEvents")).initEvent("change",!0,!0),f.inputElement.dispatchEvent(K)}catch{}}else{G.setAttribute("style",f.settings.pressedStyle),typeof f.settings.pressedClass<"u"&&G.setAttribute("class",f.settings.pressedClass),f.isPressed=!0,f.settings.pressedHandler&&f.settings.pressedHandler(f),f.clickHandler&&f.clickHandler();try{var re=f.inputElement.ownerDocument.createEvent("HTMLEvents");re.initEvent("click",!0,!0),f.inputElement.dispatchEvent(re);var K=f.inputElement.ownerDocument.createEvent("HTMLEvents");K.initEvent("change",!0,!0),f.inputElement.dispatchEvent(K)}catch{}}},J}},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")}},$.prototype.setContent=function(f){this.content=f,this.settings.content=f,this.refresh()},$.prototype.enable=function(){this.isEnabled=!0,this.settings.isEnabled=!0,this.refresh()},$.prototype.disable=function(){this.isEnabled=!1,this.settings.isEnabled=!1,this.refresh()},$}();be.Element=Te}(Ce=ue.Button||(ue.Button={})),function(be){be.initialize=function($,f,W,Y){return new Te($,f,W,Y)},be.get=function($){return $.component};var Te=function($){function f(W,Y,D,z){var M=this;$.call(this,W,void 0,D,z),this.toggleHandler=Y,this.isInitialized=!1,this.settings.inputType="toggleButton",this.clickHandler=function(){M.toggleHandler&&M.toggleHandler(M.isPressed)},this.refresh(),this.isInitialized=!0}return __extends(f,$),f}(Ce.Element);be.Element=Te}(kt=ue.ToggleButton||(ue.ToggleButton={})),function(be){be.initialize=function($,f,W){return new Te($,f,W)},be.get=function($){return $.component};var Te=function(){function $(f,W,Y){this.host=f,this.settings=W,this.isInitialized=!1;var D="DlhSoft.Controls TextBox DlhSoft.Data.HTML.Controls 5 validate Licensing".split(" ");H[D[5]][D[4]](f,D[0],D[1],D[2],D[3],Y,W),this.host.component=this,typeof W>"u"&&(W={}),this.settings=W,$.initializeSettings(this.settings);var z=this.host.ownerDocument;(this.inputHost=f instanceof HTMLInputElement?f:null)&&(f=z.createElement("span"),this.inputHost.parentElement&&this.inputHost.parentElement.insertBefore(f,this.inputHost),this.host=f,H[D[5]][D[4]](f,D[0],D[1],D[2],D[3],Y,W),this.host.component=this),(typeof(W=W.value)>"u"||null==W)&&(W=this.inputHost?this.inputHost.value:this.host.innerText?this.host.innerText:this.host.innerHTML),this.value=W,this.settings.value=W,this.isEnabled=this.settings.isEnabled,this.refresh(),this.isInitialized=!0}return $.initializeSettings=function(f){typeof f.theme>"u"&&(f.theme="Modern"),typeof f.isEnabled>"u"&&(f.isEnabled=!0),typeof f.isReadOnly>"u"&&(f.isReadOnly=!1),typeof f.inputStyle>"u"&&"Modern"==f.theme&&(f.inputStyle="border: 1px solid #e0e0e0; background-color: White; color: #505050; font-family: Arial; font-size: 12px; padding: 4px")},$.prototype.refresh=function(){for(var f=this,W=this.host.ownerDocument,Y=this.host.childNodes.length;0<Y--;)this.host.removeChild(this.host.childNodes[Y]);this.inputElement=this.inputHost?this.inputHost:W.createElement("input"),this.settings.inputName&&this.inputElement.setAttribute("name",this.settings.inputName),this.inputElement.setAttribute("type","text"),typeof this.settings.inputStyle<"u"&&this.inputElement.setAttribute("style",this.settings.inputStyle+(this.inputElement.getAttribute("style")?";"+this.inputElement.getAttribute("style"):"")),this.settings.inputClass&&this.inputElement.setAttribute("class",this.settings.inputClass),this.inputElement.value=this.value,this.settings.isReadOnly?this.inputElement.setAttribute("readonly","readonly"):this.inputElement.removeAttribute("readonly"),this.settings.isEnabled?this.inputElement.removeAttribute("disabled"):this.inputElement.setAttribute("disabled","disabled"),this.host.appendChild(this.inputElement),this.inputElement.onchange=function(){f.isEnabled&&(f.value=f.inputElement.value,f.settings.changeHandler&&f.settings.changeHandler(f.value))},this.inputElement.onclick=function(){f.settings.clickHandler&&f.settings.clickHandler()}},$.prototype.getValue=function(){return this.value},$.prototype.setValue=function(f){this.value=f,this.settings.value=f,this.refresh()},$.prototype.enable=function(){this.isEnabled=!0,this.settings.isEnabled=!0,this.refresh()},$.prototype.disable=function(){this.isEnabled=!1,this.settings.isEnabled=!1,this.refresh()},$}();be.Element=Te}(ue.TextBox||(ue.TextBox={})),function(be){be.initialize=function($,f,W,Y){return new Te($,f,W,Y)},be.get=function($){return $.component};var Te=function(){function $(f,W,Y,D){this.host=f,this.selectedTime=W,this.settings=Y,this.isInitialized=!1;var z="DlhSoft.Controls CalendarSelector DlhSoft.Data.HTML.Controls 5 validate Licensing".split(" ");H[z[5]][z[4]](f,z[0],z[1],z[2],z[3],D,Y),this.host.component=this,typeof Y>"u"&&(Y={}),this.settings=Y,$.initializeSettings(this.settings),typeof W>"u"&&(W=Y.minValue),W<Y.minValue&&(W=Y.minValue),this.selectedTime=W,null==this.settings.displayedTime&&(f=this.settings.rows*this.settings.columns,this.settings.displayedTime=Math.floor(this.selectedTime/f)*f),this.settings.displayedTime<Y.minValue&&(this.settings.displayedTime=Y.minValue),this.refresh(),this.isInitialized=!0}return $.initializeSettings=function(f){typeof f.theme>"u"&&(f.theme="Modern"),typeof f.rows>"u"?f.rows=4:0>=f.rows&&(f.rows=1),typeof f.columns>"u"?f.columns=3:0>=f.columns&&(f.columns=1),typeof f.headerProvider>"u"&&(f.headerProvider=function(W,Y){return W.createTextNode(null!=Y?Y.toString()+" - "+(Y+f.rows*f.columns-1).toString():"?")}),typeof f.headerStyle>"u"&&(f.headerStyle="color: "+("Modern"==f.theme?"#505050":"Black")+"; background-color: #f0f0f0; padding: 8px; font-size: "+("Modern"==f.theme?"12px":"small")+"; text-align: center; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: default"),typeof f.timeStyle>"u"&&(f.timeStyle="color: "+("Modern"==f.theme?"#505050":"Black")+"; min-width: "+Math.max(128/f.columns,64)+"px; height: "+Math.max(80/f.rows,20)+"px; padding: 2px; text-align: center; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: default; font-size: "+("Modern"==f.theme?"12px":"small")),typeof f.selectedTimeStyle>"u"&&(f.selectedTimeStyle="background-color: #3399ff; color: White; padding: 2px"),typeof f.timeFormatter>"u"&&(f.timeFormatter=function(W){return W.toString()}),typeof f.invertMatrix>"u"&&(f.invertMatrix=!1),typeof f.minValue>"u"&&(f.minValue=0),typeof f.scrollingHeight>"u"&&(f.scrollingHeight="auto")},$.prototype.refresh=function(){for(var f=this,W=this.host.ownerDocument,Y=this.host.childNodes.length;0<Y--;)this.host.removeChild(this.host.childNodes[Y]);(Y=W.createElement("table")).cellSpacing="0",Y.cellPadding="0",Y.setAttribute("style",this.settings.containerStyle),this.settings.containerClass&&Y.setAttribute("class",this.settings.containerClass);var D=null!=this.settings.displayedTime?this.settings.displayedTime:0,z=W.createElement("tr");z.setAttribute("style",this.settings.headerStyle),z.setAttribute("class",this.settings.headerClass),(M=W.createElement("td")).setAttribute("style","text-align: left; padding-left: 4px"),(J=W.createElement("a")).setAttribute("href","javascript://"),J.setAttribute("style","text-decoration: none; color: Gray; font-size: "+("Modern"==this.settings.theme?"10px":"x-small")+"; cursor: pointer"),J.appendChild(W.createTextNode("\u25c4")),J.onclick=function(Ve){f.setDisplayedValue(D-f.settings.rows*f.settings.columns),Ve.stopPropagation()},M.appendChild(J),z.appendChild(M),(M=W.createElement("td")).setAttribute("style",this.settings.headerStyle),M.setAttribute("class",this.settings.headerClass),(J=W.createElement("span")).appendChild(this.settings.headerProvider(W,this.settings.displayedTime)),M.appendChild(J),z.appendChild(M),(M=W.createElement("td")).setAttribute("style","text-align: right; padding-right: 4px"),(J=W.createElement("a")).setAttribute("href","javascript://"),J.setAttribute("style","text-decoration: none; color: Gray; font-size: "+("Modern"==this.settings.theme?"10px":"x-small")+"; cursor: pointer"),J.appendChild(W.createTextNode("\u25ba")),J.onclick=function(Ve){f.setDisplayedValue(D+f.settings.rows*f.settings.columns),Ve.stopPropagation()},M.appendChild(J),z.appendChild(M),Y.appendChild(z),M=W.createElement("tr"),Y.appendChild(M),(z=W.createElement("td")).colSpan=3,M.appendChild(z),(M=W.createElement("div")).setAttribute("style","padding: 2px; max-height: "+this.settings.scrollingHeight+"; overflow-y: auto"),z.appendChild(M),(z=W.createElement("table")).cellSpacing="0",z.cellPadding="0",M.appendChild(z);for(var M=null!=this.settings.displayedTime?this.settings.displayedTime:0,J=null!=this.selectedTime?this.selectedTime:0,G=this.settings.rows,re=this.settings.columns,K=0;K<G;K++){for(var oe=W.createElement("tr"),ge=0;ge<re;ge++){this.settings.invertMatrix&&(M=D+ge*G+K);var Ae,fe=W.createElement("td");fe.setAttribute("style",this.settings.timeStyle),fe.setAttribute("class",this.settings.timeClass);try{Ae=this.settings.timeFormatter(M)}catch{Ae=M.toString()}var Ye=W.createElement("div");fe.appendChild(Ye);var Be=W.createElement("a");Be.setAttribute("href","javascript://"),Be.setAttribute("style","text-decoration: none; display: inline-block; cursor: pointer; color: inherit"),Be.appendChild(W.createTextNode(Ae)),Ye.appendChild(Be),null!=J&&M==J&&(Ye.setAttribute("style",this.settings.selectedTimeStyle),Ye.setAttribute("class",this.settings.selectedTimeClass),this.selectedElement=Ye),Be.value=M,Be.onclick=function(Ke){f.setValue(Ke.currentTarget.value),Ke.stopPropagation()},oe.appendChild(fe),M++}z.appendChild(oe)}this.host.appendChild(Y)},$.prototype.getValue=function(){return this.selectedTime},$.prototype.setValue=function(f){(!f||f<this.settings.minValue)&&(f=this.settings.minValue),this.selectedTime=f,this.refresh(),this.settings.selectedTimeChangeHandler&&this.settings.selectedTimeChangeHandler(f)},$.prototype.setDisplayedValue=function(f){(!f||f<this.settings.minValue)&&(f=this.settings.minValue),(null==this.settings.displayedTime||f!=this.settings.displayedTime)&&(this.settings.displayedTime=f,this.refresh(),this.settings.displayedTimeChangeHandler&&this.settings.displayedTimeChangeHandler(f))},$}();be.Element=Te}(Se=ue.CalendarSelector||(ue.CalendarSelector={})),function(be){be.initialize=function($,f,W,Y){return new Te($,f,W,Y)},be.get=function($){return $.component};var Te=function(){function $(f,W,Y,D){this.host=f,this.selectedDate=W,this.settings=Y,this.isInitialized=!1;var z="DlhSoft.Controls Calendar DlhSoft.Data.HTML.Controls 5 validate Licensing".split(" ");H[z[5]][z[4]](f,z[0],z[1],z[2],z[3],D,Y),this.host.component=this,typeof Y>"u"&&(Y={}),this.settings=Y,$.initializeSettings(this.settings),typeof W>"u"&&(W=new Date),W<this.settings.minValue&&(W=this.settings.minValue),this.selectedDates=(this.selectedDate=W)?[this.selectedDate]:[],this.selectedDateRanges=(this.selectedDateRange=this.selectedDate?{start:this.selectedDate,finish:this.selectedDate}:null)?[this.selectedDateRange]:null,null==this.settings.displayedDate&&(this.settings.displayedDate=this.selectedDate),this.settings.displayedDate<this.settings.minValue&&(this.settings.displayedDate=this.settings.minValue),this.refresh(),this.isInitialized=!0}return $.initializeSettings=function(f){typeof f.theme>"u"&&(f.theme="Modern"),typeof f.isReadOnly>"u"&&(f.isReadOnly=!1),typeof f.isTodayLinkVisible>"u"&&(f.isTodayLinkVisible=!1),typeof f.defaultTimeOfDay>"u"&&(f.defaultTimeOfDay=0),typeof f.allowMultipleSelection>"u"&&(f.allowMultipleSelection=!1),typeof f.allowRangeSelection>"u"&&(f.allowRangeSelection=!1),typeof f.monthYearHeaderStyle>"u"&&(f.monthYearHeaderStyle="color: "+("Modern"==f.theme?"#505050":"Black")+"; background-color: #f0f0f0; padding: 8px; font-size: "+("Modern"==f.theme?"12px":"small")+"; text-align: center; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: default"),typeof f.dayOfWeekHeaderStyle>"u"&&(f.dayOfWeekHeaderStyle="color: "+("Modern"==f.theme?"#505050":"Black")+"; padding: 3px; padding-top: 4px; padding-bottom: 2px; border-bottom: 1px solid "+("Modern"==f.theme?"#e0e0e0":"Silver")+"; font-size: "+("Modern"==f.theme?"12px":"small")+"; text-align: center; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: default"),typeof f.dayStyle>"u"&&(f.dayStyle="color: "+("Modern"==f.theme?"#505050":"Black")+"; min-width: 24px; padding: 2px; text-align: center; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: default; font-size: "+("Modern"==f.theme?"12px":"small")+(f.allowMultipleSelection||f.allowRangeSelection?"; height: "+("Modern"==f.theme?"18px":"20px"):"")),typeof f.otherMonthDayStyle>"u"&&(f.otherMonthDayStyle="color: "+("Modern"==f.theme?"#c0c0c0":"Silver")),typeof f.selectedDayStyle>"u"&&(f.selectedDayStyle="background-color: #3399ff; color: White; padding: 2px"),typeof f.disabledDayStyle>"u"&&(f.disabledDayStyle="color: "+("Modern"==f.theme?"#c0c0c0":"Silver")),typeof f.todayLinkStyle>"u"&&(f.todayLinkStyle="color: "+("Modern"==f.theme?"#505050":"Black")+"; padding: 4px; border-top: 1px solid "+("Modern"==f.theme?"#e0e0e0":"Silver")+"; font-size: "+("Modern"==f.theme?"12px":"small")+"; text-align: center; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: default"),typeof f.todayString>"u"&&(f.todayString="Today"),typeof f.months>"u"&&(f.months="January February March April May June July August September October November December".split(" ")),typeof f.daysOfWeek>"u"&&(f.daysOfWeek="Su Mo Tu We Th Fr Sa".split(" ")),typeof f.monthRows>"u"&&(f.monthRows=1),1>f.monthRows&&(f.monthRows=1),typeof f.monthColumns>"u"&&(f.monthColumns=1),1>f.monthColumns&&(f.monthColumns=1),typeof f.monthCellSpacing>"u"&&(f.monthCellSpacing="0"),typeof f.applyMonthStyleForSingleCell>"u"&&(f.applyMonthStyleForSingleCell=!1),typeof f.applyNextMonthButtonToLastColumn>"u"&&(f.applyNextMonthButtonToLastColumn=!0),typeof f.applyNextMonthButtonToLastRow>"u"&&(f.applyNextMonthButtonToLastRow=!1),typeof f.containerStyle>"u"&&(f.containerStyle=("Modern"==f.theme?"":"border: 1px solid #707070; ")+"font-family: Arial"+(typeof f.monthCellStyle>"u"&&(1<f.monthRows||1<f.monthColumns||f.applyMonthStyleForSingleCell)?"Modern"==f.theme?"; margin: -2px":"; padding: 2px":"Modern"==f.theme?"; border: 1px solid #e0e0e0":"")),typeof f.monthCellStyle>"u"&&(f.monthCellStyle="margin: 2px; border: 1px solid "+("Modern"==f.theme?"#e0e0e0":"Silver")),typeof f.calendarSelectorLevels>"u"&&(f.calendarSelectorLevels=0),typeof f.calendarSelectorPopupStyle>"u"&&(f.calendarSelectorPopupStyle="background-color: White; border: 1px solid "+("Modern"==f.theme?"#e0e0e0":"#707070")+"; font-family: Arial"),typeof f.minValue>"u"&&(f.minValue=new Date(101,0,1)),typeof f.weekStart>"u"&&(f.weekStart=0)},$.prototype.refresh=function(){for(var f=this,W=this.host.ownerDocument,Y=this.host.childNodes.length;0<Y--;)this.host.removeChild(this.host.childNodes[Y]);var D,z;(Y=W.createElement("table")).cellSpacing=this.settings.monthCellSpacing,Y.cellPadding="0",Y.setAttribute("style",this.settings.containerStyle),this.settings.containerClass&&Y.setAttribute("class",this.settings.containerClass);var M=$.getDate(null!=this.settings.displayedDate?this.settings.displayedDate:null!=this.selectedDate?this.selectedDate:new Date);this.settings.defaultTimeOfDay>=$.dayDuration&&(M=$.subtractDay(M)),D=M;for(var J=0;J<this.settings.monthRows;J++){var G=W.createElement("tr");Y.appendChild(G);for(var re=0;re<this.settings.monthColumns;re++){var K=W.createElement("td");G.appendChild(K);var oe=W.createElement("table");oe.cellSpacing="0",oe.cellPadding="0",(1<this.settings.monthRows||1<this.settings.monthColumns||this.settings.applyMonthStyleForSingleCell)&&(oe.setAttribute("style",this.settings.monthCellStyle),oe.setAttribute("class",this.settings.monthCellClass)),K.appendChild(oe),(K=W.createElement("tr")).setAttribute("style",this.settings.monthYearHeaderStyle),K.setAttribute("class",this.settings.monthYearHeaderClass),(Ve=W.createElement("td")).setAttribute("style","text-align: left; padding-left: 4px"),0==J&&0==re&&((ge=W.createElement("a")).setAttribute("href","javascript://"),ge.setAttribute("style","text-decoration: none; color: Gray; font-size: "+("Modern"==this.settings.theme?"10px":"x-small")+"; cursor: pointer"),ge.appendChild(W.createTextNode("\u25c4")),ge.onclick=function($e){for(var ot=M;ot.getMonth()==M.getMonth();)ot=$.subtractDay(ot);f.setDisplayedValue(ot),$e.stopPropagation()},Ve.appendChild(ge)),K.appendChild(Ve),(Ve=W.createElement("td")).setAttribute("style",this.settings.monthYearHeaderStyle),Ve.setAttribute("class",this.settings.monthYearHeaderClass),Ve.colSpan=5;var ge=W.createElement("span"),Be=W.createTextNode(this.settings.months[D.getMonth()]+" "+D.getFullYear());if(1>this.settings.calendarSelectorLevels||0<J||0<re)ge.appendChild(Be);else{var fe=W.createElement("a");fe.setAttribute("href","javascript://"),fe.setAttribute("style","text-decoration: none; display: inline-block; cursor: pointer; color: inherit"),fe.appendChild(Be),ge.appendChild(fe);var Ae=W.createElement("div");Ae.setAttribute("style","display: none; position: absolute; margin-left: -40px"),fe.appendChild(Ae);var Ye=W.createElement("div");Ye.setAttribute("style",this.settings.calendarSelectorPopupStyle),this.settings.calendarSelectorPopupClass&&Ye.setAttribute("class",this.settings.calendarSelectorPopupClass),Ae.appendChild(Ye),fe.onclick=function(pt){if((pt.target||pt.srcElement)==fe){if("none"!=Ae.style.display)Ae.style.display="none";else{var $e=12*M.getFullYear()+M.getMonth(),ot={theme:f.settings.theme,headerProvider:function(vt,Tt){var Dt=vt.createTextNode(Math.floor(Tt/12).toString());if(2>f.settings.calendarSelectorLevels)return Dt;var ct=vt.createElement("a");ct.setAttribute("href","javascript://"),ct.setAttribute("style","text-decoration: none; display: inline-block; cursor: pointer; color: inherit"),ct.appendChild(Dt);var Zt=vt.createElement("div");Zt.setAttribute("style","display: none; position: absolute; margin-left: -10px"),ct.appendChild(Zt);var Yt=vt.createElement("div");return Yt.setAttribute("style",f.settings.calendarSelectorPopupStyle),f.settings.calendarSelectorPopupClass&&Yt.setAttribute("class",f.settings.calendarSelectorPopupClass),Zt.appendChild(Yt),ct.onclick=function($t){if(($t.target||$t.srcElement)==ct){if("none"!=Zt.style.display)Zt.style.display="none";else{var jt=Math.floor(Tt/12)-1;Zt.style.display="block";var ri=Se.initialize(Yt,jt,{rows:5,columns:2,invertMatrix:!0,headerProvider:function(Ft,Vt){var lt=Ft.createTextNode((Vt+1).toString()+" - "+(Vt+10).toString());if(3>f.settings.calendarSelectorLevels)return lt;var xt=Ft.createElement("a");xt.setAttribute("href","javascript://"),xt.setAttribute("style","text-decoration: none; display: inline-block; cursor: pointer; color: inherit"),xt.appendChild(lt);var Ct=Ft.createElement("div");Ct.setAttribute("style","display: none; position: absolute; margin-left: -10px"),xt.appendChild(Ct);var Ht=Ft.createElement("div");return Ht.setAttribute("style",f.settings.calendarSelectorPopupStyle),f.settings.calendarSelectorPopupClass&&Ht.setAttribute("class",f.settings.calendarSelectorPopupClass),Ct.appendChild(Ht),xt.onclick=function(Bt){if((Bt.target||Bt.srcElement)==xt){if("none"!=Ct.style.display)Ct.style.display="none";else{var ai=Math.floor(Vt/10);Ct.style.display="block",Se.initialize(Ht,ai,{rows:5,columns:2,invertMatrix:!0,headerProvider:function(Fe,Wt){return Fe.createTextNode((10*Wt+1).toString()+" - "+(10*(Wt+10)).toString())},timeFormatter:function(Fe){return(10*Fe+1).toString()+"-"+(10*Fe+10).toString().substr((10*Fe+10).toString().length-2)},minValue:10},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.").settings.selectedTimeChangeHandler=function(Fe){ri.setDisplayedValue(10*Fe)}}Bt.stopPropagation()}},xt},timeFormatter:function(Ft){return(Ft+1).toString()},minValue:100},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");ri.settings.selectedTimeChangeHandler=function(Ft){Rt.setDisplayedValue(12*(Ft+1))}}$t.stopPropagation()}},ct},timeFormatter:function(vt){return f.settings.months[vt-12*Math.floor(vt/12)]},minValue:1212};Ae.style.display="block";var Rt=Se.initialize(Ye,$e,ot,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");Rt.settings.selectedTimeChangeHandler=function(vt){f.setDisplayedValue(new Date(Math.floor(vt/12),vt-12*Math.floor(vt/12),1))}}pt.stopPropagation()}}}for(Ve.appendChild(ge),K.appendChild(Ve),(Ve=W.createElement("td")).setAttribute("style","text-align: right; padding-right: 4px"),(this.settings.applyNextMonthButtonToLastRow?J==this.settings.monthRows-1:0==J)&&(this.settings.applyNextMonthButtonToLastColumn?re==this.settings.monthColumns-1:0==re)&&((ge=W.createElement("a")).setAttribute("href","javascript://"),ge.setAttribute("style","text-decoration: none; color: Gray; font-size: "+("Modern"==this.settings.theme?"10px":"x-small")+"; cursor: pointer"),ge.appendChild(W.createTextNode("\u25ba")),ge.onclick=function(pt){for(var $e=M;$e.getMonth()==M.getMonth();)$e=$.addDay($e);f.setDisplayedValue($e),pt.stopPropagation()},Ve.appendChild(ge)),K.appendChild(Ve),oe.appendChild(K),ge=W.createElement("tr"),Ve=K=this.settings.weekStart;Ve<K+7;Ve++)z=Ve%7,(Be=W.createElement("td")).setAttribute("style",this.settings.dayOfWeekHeaderStyle),Be.setAttribute("class",this.settings.dayOfWeekHeaderClass),Be.appendChild(W.createTextNode(this.settings.daysOfWeek[z%7])),ge.appendChild(Be);oe.appendChild(ge),null!=(ge=null!=this.selectedDate?$.getDate(this.selectedDate):null)&&this.settings.defaultTimeOfDay>=$.dayDuration&&(ge=$.subtractDay(ge)),Be=D.getMonth();var Ve=$.getFirstDayOfMonth(D),He=$.getPreviousWeekStart(Ve,K);for(D=0;6>D;D++){var Ke=W.createElement("tr");for(Ve=K;Ve<K+7;Ve++){z=Ve%7,(z=W.createElement("td")).setAttribute("style",this.settings.dayStyle),z.setAttribute("class",this.settings.dayClass);var ke=He.getDate().toString(),De=W.createElement("span");z.appendChild(De);var qe=W.createElement("span");De.appendChild(qe);var Qe=typeof this.settings.disabledDateSelector<"u"&&this.settings.disabledDateSelector(He),at=He.getMonth()==Be,We=W.createElement("a");We.setAttribute("href","javascript://"),We.setAttribute("style","text-decoration: none; display: inline-block; cursor: "+(this.settings.isReadOnly||Qe||!at&&(this.settings.allowRangeSelection||this.settings.allowMultipleSelection)?"default":"pointer")+"; color: inherit; width: 20px"),We.appendChild(W.createTextNode(ke)),qe.appendChild(We),Qe?(De.setAttribute("style",this.settings.disabledDayStyle),De.setAttribute("class",this.settings.disabledDayClass)):at?((ke=ge&&Math.abs(He.valueOf()-ge.valueOf())<=$.hourDuration||this.isValueSelected(He))&&(De.setAttribute("style",this.settings.selectedDayStyle),De.setAttribute("class",this.settings.selectedDayClass)),this.settings.highlightingStyleSelector&&(De=this.settings.highlightingStyleSelector(He,ke))&&qe.setAttribute("style",De),this.settings.highlightingClassSelector&&(De=this.settings.highlightingClassSelector(He,ke))&&qe.setAttribute("class",De)):(qe.setAttribute("style",this.settings.otherMonthDayStyle),qe.setAttribute("class",this.settings.otherMonthDayClass)),!this.settings.isReadOnly&&!Qe&&(We.value=$.addTimeOfDay(He,this.settings.defaultTimeOfDay),this.settings.allowMultipleSelection||this.settings.allowRangeSelection?this.settings.allowRangeSelection?at&&(We.onmousedown=function($e){var ot=$e.currentTarget.value;f.draggingFromDate=ot,f.setValue(ot),$e.preventDefault()},We.onmouseover=function($e){f.draggingFromDate&&($e=$e.currentTarget.value,!f.draggingToDate||$e.valueOf()!=f.draggingToDate.valueOf())&&(f.draggingToDate=$e,f.setValueRange({start:f.draggingFromDate,finish:f.draggingToDate}))}):at&&(We.onclick=function($e){f.invertValueSelection($e.currentTarget.value),$e.stopPropagation()}):We.onclick=function($e){var ot=$e.currentTarget.value;f.setDisplayedValue(ot),f.setValue(ot),$e.stopPropagation()}),Ke.appendChild(z),He=$.addDay(He)}oe.appendChild(Ke)}D=He}}!this.settings.isReadOnly&&this.settings.isTodayLinkVisible&&(J=W.createElement("tr"),(G=W.createElement("td")).colSpan=7,G.setAttribute("style",this.settings.todayLinkStyle),G.setAttribute("class",this.settings.todayLinkClass),(re=W.createElement("a")).setAttribute("href","javascript://"),re.setAttribute("style","text-decoration: none; color: inherit; cursor: pointer"),re.appendChild(W.createTextNode(this.settings.todayString)),G.appendChild(re),re.value=$.addTimeOfDay($.getDate(new Date),this.settings.defaultTimeOfDay),re.onclick=function(pt){var $e=pt.currentTarget.value;f.setDisplayedValue($e),f.setValue($e),pt.stopPropagation()},J.appendChild(G),Y.appendChild(J)),this.host.appendChild(Y),this.isInitialized||W.addEventListener("mouseup",function(){f.draggingToDate&&delete f.draggingToDate,f.draggingFromDate&&delete f.draggingFromDate},!0)},$.prototype.getValue=function(){return this.selectedDate},$.prototype.setValue=function(f){null!=f&&f<this.settings.minValue&&(f=this.settings.minValue),(null==this.selectedDate&&null!=f||null!=this.selectedDate&&null==f||null!=this.selectedDate&&null!=f&&f.valueOf()!=this.selectedDate.valueOf()||this.settings.forceSetOnClick)&&(this.isDuringInternalSetValue=!0,this.selectedDate=f,this.setValues(null!=f?[f]:[]),delete this.isDuringInternalSetValue,null==this.settings.displayedDate&&null!=f?(this.settings.displayedDate=f,this.refresh(),this.settings.displayedDateChangeHandler&&this.settings.displayedDateChangeHandler(f)):this.refresh(),this.settings.selectedDateChangeHandler&&this.settings.selectedDateChangeHandler(f))},$.prototype.setDisplayedValue=function(f){null!=f&&f<this.settings.minValue&&(f=this.settings.minValue),(null==this.settings.displayedDate||f.valueOf()!=this.settings.displayedDate.valueOf())&&(this.settings.displayedDate=f,this.refresh(),this.settings.displayedDateChangeHandler&&this.settings.displayedDateChangeHandler(f))},$.prototype.getValues=function(){return this.selectedDates},$.prototype.setValues=function(f){this.selectedDates=f,0<f.length&&(this.isDuringInternalSetValues=!0,this.selectedDate=f[0],this.setValueRanges([{start:this.selectedDate,finish:this.selectedDate}]),delete this.isDuringInternalSetValues)},$.prototype.getValueRange=function(){return this.selectedDateRange},$.prototype.setValueRange=function(f){if(f.finish||(f.finish=f.start),f.finish<f.start){var W=f.finish;f.finish=f.start,f.start=W}this.setValueRanges([f])},$.prototype.getValueRanges=function(){return this.selectedDateRanges},$.prototype.setValueRanges=function(f){if(this.selectedDateRanges=f,0<f.length&&(this.selectedDateRange=f[0],!this.isDuringInternalSetValues)){this.selectedDates=[];for(var W=0;W<f.length;W++){var Y=f[W];if(Y.finish||(Y.finish=Y.start),Y.finish<Y.start){var D=Y.finish;Y.finish=Y.start,Y.start=D}for(D=Y.start;D<=Y.finish;D=$.addDay(D))this.selectedDates.push(D)}this.selectedDate=this.selectedDateRange.start}this.isDuringInternalSetValue||(this.refresh(),this.settings.selectedDateChangeHandler&&this.settings.selectedDateChangeHandler(this.selectedDate)),this.settings.selectionChangedHandler&&this.settings.selectionChangedHandler()},$.prototype.isValueSelected=function(f){f=f.valueOf();for(var W=0;W<this.selectedDates.length;W++)if(this.selectedDates[W].valueOf()==f)return!0;return!1},$.prototype.invertValueSelection=function(f){for(var W=f.valueOf(),Y=0;Y<this.selectedDates.length;Y++)if(this.selectedDates[Y].valueOf()==W)return void(1<this.selectedDates.length&&(this.selectedDates.splice(Y,1),this.setValues(this.selectedDates)));this.selectedDates.push(f),this.setValues(this.selectedDates)},$.getDate=function(f){var W=f.getTimezoneOffset()*$.minuteDuration;return new Date(Math.floor((f.valueOf()-W)/$.dayDuration)*$.dayDuration+W)},$.getPreviousWeekStart=function(f,W){for(var Y=$.getDate(f),D=Y;Y.getDay()!=W;)Y=$.subtractDay(Y);if(D.valueOf()-Y.valueOf()>6.5*$.dayDuration)for(D=0;7>D;D++)Y=$.addDay(Y);return Y},$.addDay=function(W){var Y=W.getTimezoneOffset()*$.minuteDuration;return Y=(W=new Date(W.valueOf()-Y+$.dayDuration)).getTimezoneOffset()*$.minuteDuration,new Date(W.valueOf()+Y)},$.subtractDay=function(f){return $.getDate(new Date(f.valueOf()-$.dayDuration))},$.addTimeOfDay=function(Y,W){var D=Y.getTimezoneOffset()*$.minuteDuration;return D=(Y=new Date(Y.valueOf()-D+W)).getTimezoneOffset()*$.minuteDuration,new Date(Y.valueOf()+D)},$.getFirstDayOfMonth=function(f){for(f=$.getDate(f);1<f.getDate();)f=$.subtractDay(f);return f},$.weekDuration=7*($.dayDuration=24*($.hourDuration=60*($.minuteDuration=60*($.secondDuration=1e3)))),$.initialSundayDateTimeValue=3*$.dayDuration,$}();be.Element=Te}(wt=ue.Calendar||(ue.Calendar={})),function(be){be.initialize=function($,f,W,Y){return new Te($,f,W,Y)},be.get=function($){return $.component};var Te=function(){function $(f,W,Y,D){this.host=f,this.value=W,this.settings=Y,this.isInitialized=!1,this.dropDownButtonElement=null;var z="DlhSoft.Controls DatePicker DlhSoft.Data.HTML.Controls 5 validate Licensing".split(" ");H[z[5]][z[4]](f,z[0],z[1],z[2],z[3],D,Y),this.host.component=this,typeof Y>"u"&&(Y={}),this.settings=Y,$.initializeSettings(this.settings);var M=this.host.ownerDocument;if(this.inputHost=f instanceof HTMLInputElement?f:null){if(null==W)try{W=this.settings.dateTimeParser(this.inputHost.value)}catch{}f=M.createElement("span"),this.inputHost.parentElement&&this.inputHost.parentElement.insertBefore(f,this.inputHost),this.host=f,H[z[5]][z[4]](f,z[0],z[1],z[2],z[3],D,Y),this.host.component=this}typeof W>"u"&&(W=Y.isNullValueAccepted?null:new Date),this.value=W,this.refresh(),this.isInitialized=!0}return $.initializeSettings=function(f){typeof f.isTodayLinkVisible>"u"&&(f.isTodayLinkVisible=!0),typeof f.calendarSelectorLevels>"u"&&(f.calendarSelectorLevels=1/0),typeof f.popupStyle>"u"&&(f.popupStyle="background-color: White; border: 1px solid "+("Modern"==f.theme?"#e0e0e0":"#707070")+"; font-family: Arial"),typeof f.calendarSelectorPopupStyle>"u"&&(f.calendarSelectorPopupStyle=f.popupStyle),typeof f.calendarSelectorPopupClass>"u"&&(f.calendarSelectorPopupClass=f.popupClass),wt.Element.initializeSettings(f),typeof f.openDropDownOnInputClick>"u"&&(f.openDropDownOnInputClick=!0),typeof f.dateTimeFormatter>"u"&&(f.dateTimeFormatter=function(G){if(null==G&&f.isNullValueAccepted)return"";var Y=function(re,K){void 0===K&&(K=2);for(var oe=re.toString();oe.length<K;)oe="0"+oe;return oe},D=G.getFullYear(),z=G.getMonth()+1,M=G.getDate(),J=G.getHours();return G=G.getMinutes(),Y(z)+"/"+Y(M)+"/"+Y(D,4)+" "+Y(J)+":"+Y(G)}),typeof f.dateTimeParser>"u"&&(f.dateTimeParser=function(W){return typeof W>"u"||null==W||0==W.length?f.isNullValueAccepted?null:new Date:(W=new Date(W),isNaN(W.valueOf())||W.getFullYear()<=0?new Date:W)}),typeof f.isNullValueAccepted>"u"&&(f.isNullValueAccepted=!0),typeof f.isDropDownButtonVisible>"u"&&(f.isDropDownButtonVisible=!1),typeof f.dropDownButtonDefinition>"u"&&(f.dropDownButtonDefinition="<svg style='display: inline-block; margin-left: 4px; cursor: pointer; vertical-align: middle' width='12' height='12'><rect x='0' y='0' width='12' height='3' style='fill: #707070; stroke: #707070; stroke-width: 0.65'/><rect x='0' y='3' width='12' height='9' style='fill: none; stroke: #707070; stroke-width: 0.65'/><line x1='3' y1='3' x2='3' y2='12' style='stroke: #707070; stroke-width: 0.65'/><line x1='6' y1='3' x2='6' y2='12' style='stroke: #707070; stroke-width: 0.65'/><line x1='9' y1='3' x2='9' y2='12' style='stroke: #707070; stroke-width: 0.65'/><line x1='0' y1='6' x2='12' y2='6' style='stroke: #707070; stroke-width: 0.65'/><line x1='0' y1='9' x2='12' y2='9' style='stroke: #707070; stroke-width: 0.65'/></svg>"),typeof f.inputStyle>"u"&&"Modern"==f.theme&&(f.inputStyle="border: 1px solid #e0e0e0; background-color: White; color: #505050; font-family: Arial; font-size: 12px; padding: 4px")},$.prototype.refresh=function(){for(var f=this,W=this.host.ownerDocument,Y=this.host.childNodes.length;0<Y--;)this.host.removeChild(this.host.childNodes[Y]);if((Y=W.createElement("div")).setAttribute("style","margin-top: -1px"),this.inputHost)(D=W.createElement("span")).setAttribute("style","display: inline-block"),D.appendChild(Y),this.host.appendChild(D),this.popupElement=(Y=this.host.firstChild).firstChild,this.inputHost.parentElement&&this.inputHost.parentElement.removeChild(this.inputHost),this.popupElement&&this.popupElement.parentElement&&this.popupElement.parentElement.insertBefore(this.inputHost,this.popupElement),this.inputElement=this.inputHost;else{var D=W.createElement("span");D.setAttribute("style","display: inline-block");var z=W.createElement("input");D.appendChild(z),D.appendChild(Y),this.host.appendChild(D),this.inputElement=(Y=this.host.firstChild).firstChild,this.popupElement=Y.childNodes[1]}this.popupElement&&((Y=W.createElement("div")).setAttribute("style",this.settings.popupStyle),this.settings.popupClass&&Y.setAttribute("class",this.settings.popupClass),this.popupElement.appendChild(Y)),this.inputElement&&(typeof this.settings.inputStyle<"u"&&this.inputElement.setAttribute("style",this.settings.inputStyle+(this.inputElement.getAttribute("style")?";"+this.inputElement.getAttribute("style"):"")),this.settings.inputClass&&this.inputElement.setAttribute("class",this.settings.inputClass)),this.settings.isDropDownButtonVisible&&(this.dropDownButtonElement=W.createElement("span"),this.dropDownButtonElement.setAttribute("style","display: inline-block"),this.dropDownButtonElement.innerHTML=this.settings.dropDownButtonDefinition,this.popupElement&&this.popupElement.parentElement&&this.popupElement.parentElement.insertBefore(this.dropDownButtonElement,this.popupElement)),this.inputElement&&(this.inputElement.DatePicker=this,this.setValue(this.value),this.settings.isReadOnly&&this.inputElement.setAttribute("readonly","readonly")),this.popupElement&&(Y=this.popupElement.firstChild,this.calendarHost=W.createElement("div"),Y.appendChild(this.calendarHost)),this.calendarHost&&(this.calendar=new wt.Element(this.calendarHost,this.value,{theme:this.settings.theme,isReadOnly:this.settings.isReadOnly,displayedDate:this.settings.displayedDate,defaultTimeOfDay:this.settings.defaultTimeOfDay,weekStart:this.settings.weekStart,isTodayLinkVisible:this.settings.isTodayLinkVisible,containerStyle:null,monthYearHeaderStyle:this.settings.monthYearHeaderStyle,monthYearHeaderClass:this.settings.monthYearHeaderClass,dayOfWeekHeaderStyle:this.settings.dayOfWeekHeaderStyle,dayOfWeekHeaderClass:this.settings.dayOfWeekHeaderClass,dayStyle:this.settings.dayStyle,dayClass:this.settings.dayClass,otherMonthDayStyle:this.settings.otherMonthDayStyle,otherMonthDayClass:this.settings.otherMonthDayClass,selectedDayStyle:this.settings.selectedDayStyle,selectedDayClass:this.settings.selectedDayClass,disabledDayStyle:this.settings.disabledDayStyle,disabledDayClass:this.settings.disabledDayClass,todayLinkStyle:this.settings.todayLinkStyle,todayLinkClass:this.settings.todayLinkClass,monthRows:this.settings.monthRows,monthColumns:this.settings.monthColumns,monthCellSpacing:this.settings.monthCellSpacing,monthCellStyle:this.settings.monthCellStyle,monthCellClass:this.settings.monthCellClass,highlightingStyleSelector:this.settings.highlightingStyleSelector,highlightingClassSelector:this.settings.highlightingClassSelector,disabledDateSelector:this.settings.disabledDateSelector,applyMonthStyleForSingleCell:this.settings.applyMonthStyleForSingleCell,applyNextMonthButtonToLastColumn:!0,applyNextMonthButtonToLastRow:!1,allowMultipleSelection:!1,allowRangeSelection:!1,calendarSelectorLevels:this.settings.calendarSelectorLevels,calendarSelectorPopupStyle:this.settings.calendarSelectorPopupStyle,calendarSelectorPopupClass:this.settings.calendarSelectorPopupClass,minValue:this.settings.minValue,months:this.settings.months,daysOfWeek:this.settings.daysOfWeek,todayString:this.settings.todayString,forceSetOnClick:!0,selectedDateChangeHandler:function(M){f.setValue(M),f.settings.selectedDateChangeHandler&&f.settings.selectedDateChangeHandler(M)}},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),this.inputElement&&(this.inputElement.addEventListener("change",function(){f.refreshValue()},!0),this.dropDownButtonElement&&(this.dropDownButtonElement.onmousedown=function(){f.recordClick(),f.refreshValue(),setTimeout(function(){f.toggleDropDown()},0)}),this.popupElement)&&(this.popupElement.style.position="absolute",this.popupElement.style.display="none",this.inputElement.addEventListener("focus",function(){f.settings.openDropDownOnInputClick&&(f.openDropDown(),f.focusValue=f.inputElement.value)},!0),this.inputElement.addEventListener("blur",function(){f.settings.openDropDownOnInputClick&&typeof f.focusValue<"u"&&delete f.focusValue},!0),this.inputElement.addEventListener("keydown",function(M){13==M.keyCode?f.settings.openDropDownOnInputClick&&f.refreshValue():f.closeDropDown()},!0),this.inputElement.addEventListener("mousedown",function(){setTimeout(function(){f.settings.openDropDownOnInputClick&&!(typeof f.focusValue<"u"&&f.inputElement.value!=f.focusValue)&&(f.refreshValue(),f.openDropDown())},0),f.recordClick()},!0),this.inputElement.addEventListener("input",function(){f.closeDropDown()},!0),this.popupElement.onmousedown=function(){f.recordClick()},W.addEventListener("mousedown",function(){setTimeout(function(){f.isDuringRecordedClick()||f.closeDropDown()},0)},!0),W.addEventListener("mousewheel",function(){f.closeDropDown()},!0),W.addEventListener("DOMMouseScroll",function(){f.closeDropDown()},!0))},$.prototype.recordClick=function(){var f=this;this.isDuringClick||(this.isDuringClick=!0,setTimeout(function(){delete f.isDuringClick},0))},$.prototype.isDuringRecordedClick=function(){return typeof this.isDuringClick<"u"},$.prototype.getValue=function(){return this.value},$.prototype.setValue=function(f){this.resetValue(f)},$.prototype.setDisplayedValue=function(f){this.calendar&&this.calendar.setDisplayedValue(f)},$.prototype.refreshValue=function(){this.resetValue()},$.prototype.resetValue=function(f){if(!this.isDuringInternalSetValue){this.isDuringInternalSetValue=!0,this.closeDropDown();var Y,W=this.value;try{this.value=f??this.settings.dateTimeParser(this.inputElement.value)}catch{}null!=this.value&&this.value<this.settings.minValue&&(this.value=this.settings.isNullValueAccepted?null:this.settings.minValue),this.settings.disabledDateSelector&&null!=this.value&&this.settings.disabledDateSelector(this.value)&&(this.value=this.settings.isNullValueAccepted?null:new Date);try{Y=this.settings.dateTimeFormatter(this.value)}catch{Y=""}if(Y!=this.inputElement.value&&(this.inputElement.value=Y,this.isInitialized))try{var D=this.inputElement.ownerDocument.createEvent("HTMLEvents");D.initEvent("change",!0,!0),this.inputElement.dispatchEvent(D)}catch{}(this.value&&!W||!this.value&&W||this.value&&W&&this.value.valueOf()!=W.valueOf())&&(this.calendar&&(this.calendar.selectedDate=this.value,this.calendar.refresh()),this.settings.valueChangeHandler&&this.settings.valueChangeHandler(this.value)),delete this.isDuringInternalSetValue}},$.prototype.openDropDown=function(){this.isOpen||this.toggleDropDown()},$.prototype.closeDropDown=function(){this.isOpen&&this.toggleDropDown()},$.prototype.toggleDropDown=function(){var f=this;(this.isOpen=!this.isOpen)&&this.value&&this.setDisplayedValue(this.value);var W=function(){var M=f.inputElement.getBoundingClientRect();f.popupElement.style.position="fixed",f.popupElement.style.zIndex="1",f.popupElement.style.left=M.left+"px",f.popupElement.style.top=M.top+M.height+"px",f.popupElement.style.display=f.isOpen?"block":"none";var J=f.popupElement.getBoundingClientRect();J.bottom>f.popupElement.ownerDocument.documentElement.clientHeight&&M.top>=J.height&&(f.popupElement.style.top=M.top-J.height+2+"px"),J.right>f.popupElement.ownerDocument.documentElement.clientWidth&&f.popupElement.ownerDocument.documentElement.clientWidth>=J.width&&(f.popupElement.style.left=f.popupElement.ownerDocument.documentElement.clientWidth-J.width+"px")};if(W(),this.isOpen&&this.settings.dropDownOpenedHandler?this.settings.dropDownOpenedHandler():!this.isOpen&&this.settings.dropDownClosedHandler&&this.settings.dropDownClosedHandler(),this.isOpen){var Y=this.host.ownerDocument.documentElement.clientWidth,D=this.host.ownerDocument.documentElement.clientHeight,z=this.host.getBoundingClientRect();this.positionChangeHandlerTimer=setInterval(function(){var M=f.host.ownerDocument.documentElement.clientWidth,J=f.host.ownerDocument.documentElement.clientHeight,G=f.host.getBoundingClientRect();M!=Y||J!=D?f.closeDropDown():(G.left!=z.left||G.top!=z.top||G.width!=z.width||G.height!=z.height)&&W(),Y=M,D=J,z=G},100)}else this.positionChangeHandlerTimer&&(clearInterval(this.positionChangeHandlerTimer),delete this.positionChangeHandlerTimer)},$}();be.Element=Te}(_e=ue.DatePicker||(ue.DatePicker={})),be=he=ue.CalendarDay||(ue.CalendarDay={}),Te=function(){function $(f,W,Y,D,z){this.host=f,this.selectedTime=W,this.header=Y,this.settings=D,this.isInitialized=!1;var M="DlhSoft.Controls CalendarDay DlhSoft.Data.HTML.Controls 5 validate Licensing".split(" ");H[M[5]][M[4]](f,M[0],M[1],M[2],M[3],z,D),this.host.component=this,typeof D>"u"&&(D={}),typeof Y<"u"&&typeof D.header>"u"&&(D.header=Y),this.settings=D,$.initializeSettings(this.settings),typeof W>"u"&&(f=new Date,W=new Date(f.valueOf()-f.getTimezoneOffset()*$.minuteDuration).getTime(),W-=Math.floor(W/$.dayDuration)*$.dayDuration),this.selectedTime=W,this.refresh(),this.isInitialized=!0}return $.initializeSettings=function(f){typeof f.theme>"u"&&(f.theme="Modern"),typeof f.isReadOnly>"u"&&(f.isReadOnly=!1),typeof f.isNowLinkVisible>"u"&&(f.isNowLinkVisible=!1),typeof f.header>"u"&&(f.header="Time of day"),typeof f.isHeaderVisible>"u"&&(f.isHeaderVisible=!0),typeof f.headerStyle>"u"&&(f.headerStyle="color: "+("Modern"==f.theme?"#505050":"Black")+"; background-color: #f0f0f0; padding: 8px; font-size: "+("Modern"==f.theme?"12px":"small")+"; text-align: center; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: default"),typeof f.timeStyle>"u"&&(f.timeStyle="color: "+("Modern"==f.theme?"#505050":"Black")+"; min-width: 24px; padding: 2px; text-align: center; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: default; font-size: "+("Modern"==f.theme?"12px":"small")),typeof f.selectedTimeStyle>"u"&&(f.selectedTimeStyle="background-color: #3399ff; color: White; padding: 2px"),typeof f.disabledTimeStyle>"u"&&(f.disabledTimeStyle="color: "+("Modern"==f.theme?"#c0c0c0":"Silver")),typeof f.nowLinkStyle>"u"&&(f.nowLinkStyle="color: "+("Modern"==f.theme?"#505050":"Black")+"; padding: 4px; border-top: 1px solid "+("Modern"==f.theme?"#e0e0e0":"Silver")+"; font-size: "+("Modern"==f.theme?"12px":"small")+"; text-align: center; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: default"),typeof f.nowString>"u"&&(f.nowString="Now"),typeof f.hourDivisions>"u"?f.hourDivisions=2:0>=f.hourDivisions&&(f.hourDivisions=1),typeof f.timeFormatter>"u"&&(f.timeFormatter=function(D){var Y=Math.floor(D/$.hourDuration),z=(D=Math.floor((D-Y*$.hourDuration)/$.minuteDuration),function(M,J){void 0===J&&(J=2);for(var G=M.toString();G.length<J;)G="0"+G;return G});return z(Y)+":"+z(D)}),typeof f.hourColumns>"u"?f.hourColumns=4:0>=f.hourColumns&&(f.hourColumns=1),typeof f.scrollingHeight>"u"&&(f.scrollingHeight="auto")},$.prototype.refresh=function(){for(var f=this,W=this.host.ownerDocument,Y=this.host.childNodes.length;0<Y--;)this.host.removeChild(this.host.childNodes[Y]);if((Y=W.createElement("table")).cellSpacing="0",Y.cellPadding="0",Y.setAttribute("style",this.settings.containerStyle),this.settings.containerClass&&Y.setAttribute("class",this.settings.containerClass),this.settings.isHeaderVisible){var D=W.createElement("tr");D.setAttribute("style",this.settings.headerStyle),D.setAttribute("class",this.settings.headerClass),(z=W.createElement("td")).setAttribute("style",this.settings.headerStyle),z.setAttribute("class",this.settings.headerClass),(M=W.createElement("span")).appendChild(W.createTextNode(this.settings.header)),z.appendChild(M),D.appendChild(z),Y.appendChild(D)}z=W.createElement("tr"),Y.appendChild(z),D=W.createElement("td"),z.appendChild(D),(z=W.createElement("div")).setAttribute("style","max-height: "+this.settings.scrollingHeight+"; overflow-y: auto"),D.appendChild(z),(D=W.createElement("table")).cellSpacing="0",D.cellPadding="0",z.appendChild(D);for(var z=null!=this.selectedTime?$.getTime(this.selectedTime,this.settings.hourDivisions):null,M=this.settings.hourDivisions,J=this.settings.hourColumns,G=24/J,re=0;re<G*M;re++){for(var K=W.createElement("tr"),oe=0;oe<J;oe++){var Ae,ge=(oe*G+re/M)*$.hourDuration,fe=W.createElement("td");fe.setAttribute("style",this.settings.timeStyle),fe.setAttribute("class",this.settings.timeClass);try{Ae=this.settings.timeFormatter(ge)}catch{Ae=(ge/$.hourDuration).toString()}var Ye=W.createElement("span");fe.appendChild(Ye);var Be=W.createElement("span");Ye.appendChild(Be);var Ve=typeof this.settings.disabledTimeSelector<"u"&&this.settings.disabledTimeSelector(ge),He=W.createElement("a");if(He.setAttribute("href","javascript://"),He.setAttribute("style","text-decoration: none; display: inline-block; cursor: "+(this.settings.isReadOnly||Ve?"default":"pointer")+"; color: inherit; width: 40px"),He.appendChild(W.createTextNode(Ae)),Be.appendChild(He),Ve)Ye.setAttribute("style",this.settings.disabledTimeStyle),Ye.setAttribute("class",this.settings.disabledTimeClass);else{var Ke=null!=z&&ge==z;Ke&&(Ye.setAttribute("style",this.settings.selectedTimeStyle),Ye.setAttribute("class",this.settings.selectedTimeClass),this.selectedElement=Ye),this.settings.highlightingStyleSelector&&(Ye=this.settings.highlightingStyleSelector(ge,Ke))&&Be.setAttribute("style",Ye),this.settings.highlightingClassSelector&&(Ke=this.settings.highlightingClassSelector(ge,Ke))&&Be.setAttribute("class",Ke)}!this.settings.isReadOnly&&!Ve&&(He.value=ge,He.onclick=function(qe){f.setValue(qe.currentTarget.value),qe.stopPropagation()}),K.appendChild(fe)}D.appendChild(K)}!this.settings.isReadOnly&&this.settings.isNowLinkVisible&&(Ae=W.createElement("tr"),(D=W.createElement("td")).setAttribute("style",this.settings.nowLinkStyle),D.setAttribute("class",this.settings.nowLinkClass),(z=W.createElement("a")).setAttribute("href","javascript://"),z.setAttribute("style","text-decoration: none; color: inherit; cursor: pointer"),z.appendChild(W.createTextNode(this.settings.nowString)),D.appendChild(z),z.value=-1,z.onclick=function(ke){var De=ke.currentTarget.value;0>De&&(De=new Date,De=new Date(De.valueOf()-De.getTimezoneOffset()*$.minuteDuration).getTime(),De-=Math.floor(De/$.dayDuration)*$.dayDuration),f.setValue(De),ke.stopPropagation()},Ae.appendChild(D),Y.appendChild(Ae)),this.host.appendChild(Y)},$.prototype.getValue=function(){return this.selectedTime},$.prototype.setValue=function(f){null!=f&&0>f&&(f=0),(f!=this.selectedTime||this.settings.forceSetOnClick)&&(this.selectedTime=f,this.refresh(),this.settings.selectedTimeChangeHandler&&this.settings.selectedTimeChangeHandler(f))},$.getTime=function(f,W){var Y=$.hourDuration/W;return Math.floor(f/Y)*Y},$.dayDuration=24*($.hourDuration=60*($.minuteDuration=60*($.secondDuration=1e3))),$}(),be.Element=Te,function(be){be.initialize=function($,f,W,Y,D){return new Te($,f,W,Y,D)},be.get=function($){return $.component};var Te=function(){function $(f,W,Y,D,z){this.host=f,this.value=W,this.header=Y,this.settings=D,this.isInitialized=!1,this.dropDownButtonElement=null;var M="DlhSoft.Controls TimePicker DlhSoft.Data.HTML.Controls 5 validate Licensing".split(" ");if(H[M[5]][M[4]](f,M[0],M[1],M[2],M[3],z,D),this.host.component=this,typeof D>"u"&&(D={}),typeof Y<"u"&&typeof D.header>"u"&&(D.header=Y),this.settings=D,$.initializeSettings(this.settings),Y=this.host.ownerDocument,this.inputHost=f instanceof HTMLInputElement?f:null){if(null==W)try{W=this.settings.timeParser(this.inputHost.value)}catch{}f=Y.createElement("span"),this.inputHost.parentElement&&this.inputHost.parentElement.insertBefore(f,this.inputHost),this.host=f,H[M[5]][M[4]](f,M[0],M[1],M[2],M[3],z,D),this.host.component=this}typeof W>"u"&&(D.isNullValueAccepted?W=null:(W=new Date,W=new Date(W.valueOf()-W.getTimezoneOffset()*$.minuteDuration).getTime(),W-=Math.floor(W/$.dayDuration)*$.dayDuration)),this.value=W,this.refresh(),this.isInitialized=!0}return $.initializeSettings=function(f){typeof f.isNowLinkVisible>"u"&&(f.isNowLinkVisible=!0),typeof f.timeFormatter>"u"&&(f.timeFormatter=function(D){if(null==D&&f.isNullValueAccepted)return"";var Y=Math.floor(D/$.hourDuration),z=(D=Math.floor((D-Y*$.hourDuration)/$.minuteDuration),function(M,J){void 0===J&&(J=2);for(var G=M.toString();G.length<J;)G="0"+G;return G});return z(Y)+":"+z(D)}),he.Element.initializeSettings(f),typeof f.openDropDownOnInputClick>"u"&&(f.openDropDownOnInputClick=!0),typeof f.timeParser>"u"&&(f.timeParser=function(W){if(typeof W>"u"||null==W||0==W.length)return f.isNullValueAccepted?null:0;var Y=W.lastIndexOf(" ");return Y>=0&&(W=W.substr(Y+1)),W=new Date("01/01/1970 "+W),isNaN(W.valueOf())||W.getFullYear()<=0||1970!=W.getFullYear()||0!=W.getMonth()||1!=W.getDate()?(W=new Date,W=new Date(W.valueOf()-W.getTimezoneOffset()*$.minuteDuration).getTime(),W-=Math.floor(W/$.dayDuration)*$.dayDuration):W.getTime()-W.getTimezoneOffset()*$.minuteDuration}),typeof f.isNullValueAccepted>"u"&&(f.isNullValueAccepted=!0),typeof f.isDropDownButtonVisible>"u"&&(f.isDropDownButtonVisible=!1),typeof f.dropDownButtonDefinition>"u"&&(f.dropDownButtonDefinition="<svg style='display: inline-block; margin-left: 4px; cursor: pointer; vertical-align: middle' width='12' height='12'><circle cx='6' cy='6' r='6' style='fill: none; stroke: #707070; stroke-width: 0.65'/><line x1='6' y1='2' x2='6' y2='6' style='stroke: #707070; stroke-width: 0.65'/><line x1='6' y1='6' x2='10' y2='6' style='stroke: #707070; stroke-width: 0.65'/></svg>"),typeof f.popupStyle>"u"&&(f.popupStyle="background-color: White; border: 1px solid "+("Modern"==f.theme?"#e0e0e0":"#707070")+"; font-family: Arial"),typeof f.inputStyle>"u"&&"Modern"==f.theme&&(f.inputStyle="border: 1px solid #e0e0e0; background-color: White; color: #505050; font-family: Arial; font-size: 12px; padding: 4px"),typeof f.defaultPrefix>"u"&&(f.defaultPrefix="")},$.prototype.refresh=function(){for(var f=this,W=this.host.ownerDocument,Y=this.host.childNodes.length;0<Y--;)this.host.removeChild(this.host.childNodes[Y]);if((Y=W.createElement("div")).setAttribute("style","margin-top: -1px"),this.inputHost)(D=W.createElement("span")).setAttribute("style","display: inline-block"),D.appendChild(Y),this.host.appendChild(D),this.popupElement=(Y=this.host.firstChild).firstChild,this.inputHost.parentElement&&this.inputHost.parentElement.removeChild(this.inputHost),this.popupElement&&this.popupElement.parentElement&&this.popupElement.parentElement.insertBefore(this.inputHost,this.popupElement),this.inputElement=this.inputHost;else{var D=W.createElement("span");D.setAttribute("style","display: inline-block");var z=W.createElement("input");D.appendChild(z),D.appendChild(Y),this.host.appendChild(D),this.inputElement=(Y=this.host.firstChild).firstChild,this.popupElement=Y.childNodes[1]}this.popupElement&&((Y=W.createElement("div")).setAttribute("style",this.settings.popupStyle),this.settings.popupClass&&Y.setAttribute("class",this.settings.popupClass),this.popupElement.appendChild(Y)),this.inputElement&&(typeof this.settings.inputStyle<"u"&&this.inputElement.setAttribute("style",this.settings.inputStyle+(this.inputElement.getAttribute("style")?";"+this.inputElement.getAttribute("style"):"")),this.settings.inputClass&&this.inputElement.setAttribute("class",this.settings.inputClass)),this.settings.isDropDownButtonVisible&&(this.dropDownButtonElement=W.createElement("span"),this.dropDownButtonElement.setAttribute("style","display: inline-block"),this.dropDownButtonElement.innerHTML=this.settings.dropDownButtonDefinition,this.popupElement&&this.popupElement.parentElement&&this.popupElement.parentElement.insertBefore(this.dropDownButtonElement,this.popupElement)),this.inputElement&&(this.inputElement.TimePicker=this,this.setValue(this.value),this.settings.isReadOnly&&this.inputElement.setAttribute("readonly","readonly")),this.popupElement&&(Y=this.popupElement.firstChild,this.calendarDayHost=W.createElement("div"),Y.appendChild(this.calendarDayHost)),this.calendarDayHost&&(this.calendarDay=new he.Element(this.calendarDayHost,this.value,void 0,{theme:this.settings.theme,isReadOnly:this.settings.isReadOnly,header:this.settings.header,isHeaderVisible:this.settings.isHeaderVisible,isNowLinkVisible:this.settings.isNowLinkVisible,containerStyle:null,headerStyle:this.settings.headerStyle,headerClass:this.settings.headerClass,timeStyle:this.settings.timeStyle,timeClass:this.settings.timeClass,selectedTimeStyle:this.settings.selectedTimeStyle,selectedTimeClass:this.settings.selectedTimeClass,disabledTimeStyle:this.settings.disabledTimeStyle,disabledTimeClass:this.settings.disabledTimeClass,nowLinkStyle:this.settings.nowLinkStyle,nowLinkClass:this.settings.nowLinkClass,highlightingStyleSelector:this.settings.highlightingStyleSelector,highlightingClassSelector:this.settings.highlightingClassSelector,disabledTimeSelector:this.settings.disabledTimeSelector,nowString:this.settings.nowString,hourDivisions:this.settings.hourDivisions,timeFormatter:this.settings.timeFormatter,hourColumns:this.settings.hourColumns,scrollingHeight:this.settings.scrollingHeight,forceSetOnClick:!0,selectedTimeChangeHandler:function(M){f.setValue(M),f.settings.selectedTimeChangeHandler&&f.settings.selectedTimeChangeHandler(M)}},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),this.inputElement&&(this.inputElement.addEventListener("change",function(){f.refreshValue()},!0),this.dropDownButtonElement&&(this.dropDownButtonElement.onmousedown=function(){f.recordClick(),f.refreshValue(),setTimeout(function(){f.toggleDropDown()},0)}),this.popupElement)&&(this.popupElement.style.position="absolute",this.popupElement.style.display="none",this.inputElement.addEventListener("focus",function(){f.settings.openDropDownOnInputClick&&(f.openDropDown(),f.focusValue=f.inputElement.value)},!0),this.inputElement.addEventListener("blur",function(){f.settings.openDropDownOnInputClick&&typeof f.focusValue<"u"&&delete f.focusValue},!0),this.inputElement.addEventListener("keydown",function(M){13==M.keyCode?f.settings.openDropDownOnInputClick&&f.refreshValue():f.closeDropDown()},!0),this.inputElement.addEventListener("mousedown",function(){setTimeout(function(){f.settings.openDropDownOnInputClick&&!(typeof f.focusValue<"u"&&f.inputElement.value!=f.focusValue)&&(f.refreshValue(),f.openDropDown())},0),f.recordClick()},!0),this.inputElement.addEventListener("input",function(){f.closeDropDown()},!0),this.popupElement.onmousedown=function(){f.recordClick()},W.addEventListener("mousedown",function(){setTimeout(function(){f.isDuringRecordedClick()||f.closeDropDown()},0)},!0),W.addEventListener("mousewheel",function(M){f.isMouseWheelScrollingPopup(M)||f.closeDropDown()},!0),W.addEventListener("DOMMouseScroll",function(M){f.isMouseWheelScrollingPopup(M)||f.closeDropDown()},!0))},$.prototype.recordClick=function(){var f=this;this.isDuringClick||(this.isDuringClick=!0,setTimeout(function(){delete f.isDuringClick},0))},$.prototype.isDuringRecordedClick=function(){return typeof this.isDuringClick<"u"},$.prototype.isMouseWheelScrollingPopup=function(f){for(var W=typeof f.wheelDelta<"u"?f.wheelDelta/120:typeof f.detail<"u"?-f.detail/3:0,Y=(f=f.target,!1);null!=f;){if(0<f.offsetHeight&&f.offsetHeight<f.scrollHeight&&!(1>=f.scrollTop&&0<W||f.scrollTop>=f.scrollHeight-f.clientHeight-1&&0>W)&&(Y=!0),f==this.popupElement)return Y;f=f.parentElement}return!1},$.prototype.getValue=function(){return this.value},$.prototype.setValue=function(f){this.resetValue(f)},$.prototype.refreshValue=function(){this.resetValue()},$.prototype.resetValue=function(f){if(!this.isDuringInternalSetValue){this.isDuringInternalSetValue=!0,this.closeDropDown();var Y,W=this.value;try{this.value=f??this.settings.timeParser(this.inputElement.value)}catch{}this.settings.disabledTimeSelector&&null!=this.value&&this.settings.disabledTimeSelector(this.value)&&(this.settings.isNullValueAccepted?this.value=null:(f=new Date,this.value=new Date(f.valueOf()-f.getTimezoneOffset()*$.minuteDuration).getTime(),this.value-=Math.floor(this.value/$.dayDuration)*$.dayDuration)),0<(f=0<=(f=this.inputElement.value?this.inputElement.value.lastIndexOf(" "):-1)?this.inputElement.value.substr(0,f):this.settings.defaultPrefix).length&&(f+=" ");try{Y=f+this.settings.timeFormatter(this.value)}catch{}if(Y!=this.inputElement.value&&(this.inputElement.value=Y,this.isInitialized))try{var D=this.inputElement.ownerDocument.createEvent("HTMLEvents");D.initEvent("change",!0,!0),this.inputElement.dispatchEvent(D)}catch{}(this.value&&!W||!this.value&&W||this.value&&W&&this.value!=W)&&(this.calendarDay&&(this.calendarDay.selectedTime=this.value,this.calendarDay.refresh()),this.settings.valueChangeHandler&&this.settings.valueChangeHandler(this.value)),delete this.isDuringInternalSetValue}},$.prototype.openDropDown=function(){this.isOpen||this.toggleDropDown()},$.prototype.closeDropDown=function(){this.isOpen&&this.toggleDropDown()},$.prototype.toggleDropDown=function(){var f=this;this.isOpen=!this.isOpen;var W=function(){var M=f.inputElement.getBoundingClientRect();f.popupElement.style.position="fixed",f.popupElement.style.zIndex="1",f.popupElement.style.left=M.left+"px",f.popupElement.style.top=M.top+M.height+"px",f.popupElement.style.display=f.isOpen?"block":"none";var J=f.popupElement.getBoundingClientRect();J.bottom>f.popupElement.ownerDocument.documentElement.clientHeight&&M.top>=J.height&&(f.popupElement.style.top=M.top-J.height+2+"px"),J.right>f.popupElement.ownerDocument.documentElement.clientWidth&&f.popupElement.ownerDocument.documentElement.clientWidth>=J.width&&(f.popupElement.style.left=f.popupElement.ownerDocument.documentElement.clientWidth-J.width+"px")};if(W(),this.isOpen&&this.settings.dropDownOpenedHandler?this.settings.dropDownOpenedHandler():!this.isOpen&&this.settings.dropDownClosedHandler&&this.settings.dropDownClosedHandler(),this.isOpen){this.calendarDay.selectedElement&&this.calendarDay.selectedElement.scrollIntoView();var Y=this.host.ownerDocument.documentElement.clientWidth,D=this.host.ownerDocument.documentElement.clientHeight,z=this.host.getBoundingClientRect();this.positionChangeHandlerTimer=setInterval(function(){var M=f.host.ownerDocument.documentElement.clientWidth,J=f.host.ownerDocument.documentElement.clientHeight,G=f.host.getBoundingClientRect();M!=Y||J!=D?f.closeDropDown():(G.left!=z.left||G.top!=z.top||G.width!=z.width||G.height!=z.height)&&W(),Y=M,D=J,z=G},100)}else this.positionChangeHandlerTimer&&(clearInterval(this.positionChangeHandlerTimer),delete this.positionChangeHandlerTimer)},$.dayDuration=24*($.hourDuration=60*($.minuteDuration=60*($.secondDuration=1e3))),$}();be.Element=Te}(Ne=ue.TimePicker||(ue.TimePicker={})),function(be){be.initialize=function($,f,W,Y){return new Te($,f,W,Y)},be.get=function($){return $["DateTimePicker.component"]};var Te=function(){function $(f,W,Y,D){var M,z=this;this.host=f,this.value=W,this.settings=Y,this.isInitialized=!1,this.host["DateTimePicker.component"]=this,typeof Y>"u"&&(Y={}),typeof Y.license<"u"&&typeof Y.datePickerSettings<"u"&&(Y.datePickerSettings.license=Y.license),this.settings=Y,$.initializeSettings(this.settings),typeof W>"u"&&(W=Y.datePickerSettings.isNullValueAccepted?null:new Date),this.value=W,this.timePicker=Ne.initialize(f,void 0,void 0,this.settings.timePickerSettings,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."),this.inputElement=this.timePicker.inputElement,this.inputElement["DateTimePicker.component"]=this,this.datePicker=_e.initialize(this.inputElement,this.value,this.settings.datePickerSettings,D),this.value=this.datePicker.value;try{M=W?this.datePicker.settings.dateTimeFormatter(W):""}catch{M=""}0<=(f=M.lastIndexOf(" "))&&(M=M.substr(0,f)),this.timePicker.settings.defaultPrefix=M;var J=this.datePicker.settings.dropDownOpenedHandler;this.datePicker.settings.dropDownOpenedHandler=function(){z.datePicker.isOpen&&z.timePicker.isOpen&&z.timePicker.closeDropDown(),z.isOpen=z.datePicker.isOpen,J&&J()};var G=this.datePicker.settings.dropDownClosedHandler;this.datePicker.settings.dropDownClosedHandler=function(){z.isOpen=z.datePicker.isOpen,G&&G()};var re=this.timePicker.settings.dropDownOpenedHandler;this.timePicker.settings.dropDownOpenedHandler=function(){z.timePicker.isOpen&&!z.value?z.timePicker.closeDropDown():(z.timePicker.isOpen&&z.datePicker.isOpen&&z.datePicker.closeDropDown(),z.isTimeOpen=z.timePicker.isOpen,re&&re())};var K=this.timePicker.settings.dropDownClosedHandler;this.timePicker.settings.dropDownClosedHandler=function(){z.isTimeOpen=z.timePicker.isOpen,K&&K()};var oe=this.datePicker.settings.valueChangeHandler;this.datePicker.settings.valueChangeHandler=function(ge){z.value=ge,oe&&oe(ge)},this.inputElement&&(this.inputElement.addEventListener("focus",function(){z.settings.openDropDownOnInputClick&&("Time"===z.getCurrentValuePart()?(z.timePicker.refreshValue(),z.openTimeDropDown()):z.openDropDown(),z.focusValue=z.inputElement.value)},!0),this.inputElement.addEventListener("blur",function(){z.settings.openDropDownOnInputClick&&typeof z.focusValue<"u"&&delete z.focusValue},!0),this.inputElement.addEventListener("keydown",function(ge){13==ge.keyCode?z.settings.openDropDownOnInputClick&&z.refreshValue():z.closeDropDown()},!0),this.inputElement.addEventListener("mousedown",function(){setTimeout(function(){!z.settings.openDropDownOnInputClick||typeof z.focusValue<"u"&&z.inputElement.value!=z.focusValue||("Time"===z.getCurrentValuePart()?(z.timePicker.refreshValue(),z.openTimeDropDown()):(z.datePicker.refreshValue(),z.openDropDown()))},0)},!0)),this.isInitialized=!0}return $.initializeSettings=function(f){if(typeof f.theme>"u"&&(f.theme="Modern"),typeof f.isReadOnly>"u"&&(f.isReadOnly=!1),typeof f.isNullValueAccepted>"u"&&(f.isNullValueAccepted=!0),typeof f.openDropDownOnInputClick>"u"&&(f.openDropDownOnInputClick=!0),typeof f.datePickerSettings>"u"&&(f.datePickerSettings={}),f.datePickerSettings.isReadOnly=f.isReadOnly,f.datePickerSettings.theme=f.theme,typeof f.datePickerSettings.isTodayLinkVisible>"u"&&(f.datePickerSettings.isTodayLinkVisible=f.areCurrentLinksVisible),typeof f.datePickerSettings.defaultTimeOfDay>"u"&&(f.datePickerSettings.defaultTimeOfDay=f.defaultTimeOfDay),f.datePickerSettings.openDropDownOnInputClick=!1,typeof f.datePickerSettings.isDropDownButtonVisible>"u"&&(f.datePickerSettings.isDropDownButtonVisible=f.areDropDownButtonsVisible),f.datePickerSettings.allowMultipleSelection=!1,f.datePickerSettings.allowRangeSelection=!1,typeof f.datePickerSettings.dateTimeFormatter>"u"&&(f.datePickerSettings.dateTimeFormatter=f.dateTimeFormatter),typeof f.datePickerSettings.dateTimeParser>"u"&&(f.datePickerSettings.dateTimeParser=f.dateTimeParser),f.datePickerSettings.isNullValueAccepted=f.isNullValueAccepted,typeof f.datePickerSettings.valueChangeHandler>"u"&&(f.datePickerSettings.valueChangeHandler=f.valueChangeHandler),typeof f.datePickerSettings.popupClass>"u"&&(f.datePickerSettings.popupClass=f.popupClass),typeof f.datePickerSettings.popupStyle>"u"&&(f.datePickerSettings.popupStyle=f.popupStyle),typeof f.datePickerSettings.inputClass>"u"&&(f.datePickerSettings.inputClass=f.inputClass),typeof f.datePickerSettings.inputStyle>"u"&&(f.datePickerSettings.inputStyle=f.inputStyle),typeof f.datePickerSettings.disabledDateSelector>"u"&&(f.datePickerSettings.disabledDateSelector=f.disabledDateSelector),typeof f.datePickerSettings.calendarSelectorLevels>"u"&&(f.datePickerSettings.calendarSelectorLevels=f.calendarSelectorLevels),typeof f.datePickerSettings.months>"u"&&(f.datePickerSettings.months=f.months),typeof f.datePickerSettings.daysOfWeek>"u"&&(f.datePickerSettings.daysOfWeek=f.daysOfWeek),typeof f.timePickerSettings>"u"&&(f.timePickerSettings={}),f.timePickerSettings.theme=f.theme,f.timePickerSettings.isReadOnly=f.isReadOnly,typeof f.timePickerSettings.isNowLinkVisible>"u"&&(f.timePickerSettings.isNowLinkVisible=f.areCurrentLinksVisible),typeof f.timePickerSettings.nowString>"u"&&(f.timePickerSettings.nowString="Current"),f.timePickerSettings.openDropDownOnInputClick=!1,typeof f.timePickerSettings.isDropDownButtonVisible>"u"&&(f.timePickerSettings.isDropDownButtonVisible=f.areDropDownButtonsVisible),typeof f.timePickerSettings.timeFormatter>"u"&&typeof f.datePickerSettings.dateTimeFormatter<"u"&&(f.timePickerSettings.timeFormatter=function(D){var z=new Date(1970,0,1);return D=null!=D?f.datePickerSettings.dateTimeFormatter(new Date(z.valueOf()+D)):"",(z=D.lastIndexOf(" "))<0?"":D.substr(z+1)}),typeof f.timePickerSettings.timeParser>"u"&&typeof f.datePickerSettings.dateTimeParser<"u"&&typeof f.datePickerSettings.dateTimeFormatter<"u"&&(f.timePickerSettings.timeParser=function(D){if((M=D.lastIndexOf(" "))<0)return f.isNullValueAccepted?null:(D=new Date,(D=new Date(D.valueOf()-D.getTimezoneOffset()*$.minuteDuration).getTime())-Math.floor(D/$.dayDuration)*$.dayDuration);D=D.substr(M+1);var M,z=f.datePickerSettings.dateTimeFormatter(new Date(1970,0,1));return(M=z.indexOf(" "))>=0&&(z=z.substr(0,M+1)),D=f.datePickerSettings.dateTimeParser(z+D),isNaN(D.valueOf())||D.getFullYear()<=0||1970!=D.getFullYear()||0!=D.getMonth()||1!=D.getDate()?(D=new Date,D=new Date(D.valueOf()-D.getTimezoneOffset()*$.minuteDuration).getTime(),D-=Math.floor(D/$.dayDuration)*$.dayDuration):D.getTime()-D.getTimezoneOffset()*$.minuteDuration}),f.timePickerSettings.isNullValueAccepted=f.isNullValueAccepted,typeof f.timePickerSettings.disabledTimeSelector<"u"){var W=f.datePickerSettings.disabledDateSelector;f.datePickerSettings.disabledDateSelector=function(Y){var D=!1;return W&&(D=W(Y)),!!D||(Y=new Date(Y.valueOf()-Y.getTimezoneOffset()*$.minuteDuration).getTime(),Y-=Math.floor(Y/$.dayDuration)*$.dayDuration,f.timePickerSettings.disabledTimeSelector(Y))}}typeof f.timePickerSettings.popupClass>"u"&&(f.timePickerSettings.popupClass=f.popupClass),typeof f.timePickerSettings.popupStyle>"u"&&(f.timePickerSettings.popupStyle=f.popupStyle),f.timePickerSettings.inputClass=void 0,f.timePickerSettings.inputStyle=null,typeof f.timePickerSettings.disabledTimeSelector>"u"&&(f.timePickerSettings.disabledTimeSelector=f.disabledTimeSelector)},$.prototype.refreshValue=function(){this.datePicker.refreshValue(),this.timePicker.refreshValue()},$.prototype.getValue=function(){return this.datePicker.getValue()},$.prototype.setValue=function(f){this.datePicker.setValue(f)},$.prototype.getTimeValue=function(){return this.timePicker.getValue()},$.prototype.setTimeValue=function(f){this.timePicker.setValue(f)},$.prototype.openDropDown=function(){this.datePicker.openDropDown()},$.prototype.closeDropDown=function(){this.datePicker.closeDropDown()},$.prototype.openTimeDropDown=function(){this.timePicker.openDropDown()},$.prototype.closeTimeDropDown=function(){this.timePicker.closeDropDown()},$.prototype.getCurrentValuePart=function(){if(!this.inputElement||!this.inputElement.value)return null;var f=this.inputElement.value.lastIndexOf(" ");return 0>f?"Date":this.inputElement.selectionStart>f?"Time":"Date"},$.dayDuration=24*($.hourDuration=60*($.minuteDuration=60*($.secondDuration=1e3))),$}();be.Element=Te}(ue.DateTimePicker||(ue.DateTimePicker={})),function(be){be.initialize=function($,f,W,Y,D){return new Te($,f,W,Y,D)},be.get=function($){return $.component};var Te=function(){function $(f,W,Y,D,z){this.host=f,this.availableChoices=W,this.value=Y,this.settings=D,this.isInitialized=!1,this.dropDownButtonElement=null;var M="DlhSoft.Controls MultiSelectorComboBox DlhSoft.Data.HTML.Controls 5 validate Licensing".split(" ");H[M[5]][M[4]](f,M[0],M[1],M[2],M[3],z,D),this.host.component=this,typeof D>"u"&&(D={}),this.settings=D,$.initializeSettings(this.settings),typeof this.settings.choiceStyle>"u"&&!(this instanceof Le.Element)&&(this.settings.choiceStyle="cursor: pointer");var J=this.host.ownerDocument;(this.inputHost=f instanceof HTMLInputElement?f:null)&&(null==Y&&(Y=this.inputHost.value),f=J.createElement("span"),this.inputHost.parentElement&&this.inputHost.parentElement.insertBefore(f,this.inputHost),this.host=f,H[M[5]][M[4]](f,M[0],M[1],M[2],M[3],z,D),this.host.component=this),(typeof W>"u"||null==W)&&(W=[]),this.availableChoices=W,(typeof Y>"u"||null==Y)&&(Y=""),this.value=Y,this.refresh(),this.isInitialized=!0}return $.initializeSettings=function(f){typeof f.theme>"u"&&(f.theme="Modern"),typeof f.isReadOnly>"u"&&(f.isReadOnly=!1),typeof f.autoAppendAvailableChoices>"u"&&(f.autoAppendAvailableChoices=!1),typeof f.openDropDownOnInputClick>"u"&&(f.openDropDownOnInputClick=!0),typeof f.isDropDownButtonVisible>"u"&&(f.isDropDownButtonVisible=!1),typeof f.dropDownButtonDefinition>"u"&&(f.dropDownButtonDefinition="<span style='display: inline-block; margin-left: 1px; color: "+("Modern"==f.theme?"#909090":"#707070")+"; font-size: "+("Modern"==f.theme?"10px":"x-small")+"; "+(f.isReadOnly?"opacity: 0.25":"cursor: pointer")+"; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none'>\u25bc</span>"),typeof f.separator>"u"&&(f.separator=","),typeof f.isSpaceSeparated>"u"&&(f.isSpaceSeparated=!0),typeof f.delimiters>"u"&&(f.delimiters=["["]),typeof f.areCheckBoxesVisible>"u"&&(f.areCheckBoxesVisible=!0),typeof f.popupStyle>"u"&&(f.popupStyle="background-color: White; color: "+("Modern"==f.theme?"#505050":"Black")+"; border: 1px solid "+("Modern"==f.theme?"#e0e0e0":"#707070")+"; font-family: Arial; font-size: "+("Modern"==f.theme?"12px":"small")+"; max-height: 188px; overflow-y: auto"),typeof f.inputStyle>"u"&&"Modern"==f.theme&&(f.inputStyle="border: 1px solid #e0e0e0; background-color: White; color: #505050; font-family: Arial; font-size: 12px; padding: 4px")},$.prototype.refresh=function(){for(var f=this,W=this.host.ownerDocument,Y=this.host.childNodes.length;0<Y--;)this.host.removeChild(this.host.childNodes[Y]);if((Y=W.createElement("div")).setAttribute("style","margin-top: -1px"),this.inputHost)(D=W.createElement("span")).setAttribute("style","display: inline-block"),D.appendChild(Y),this.host.appendChild(D),this.popupElement=(Y=this.host.firstChild).firstChild,this.inputHost.parentElement&&this.inputHost.parentElement.removeChild(this.inputHost),this.popupElement&&this.popupElement.parentElement&&this.popupElement.parentElement.insertBefore(this.inputHost,this.popupElement),this.inputElement=this.inputHost;else{var D=W.createElement("span");D.setAttribute("style","display: inline-block");var z=W.createElement("input");D.appendChild(z),D.appendChild(Y),this.host.appendChild(D),this.inputElement=(Y=this.host.firstChild).firstChild,this.popupElement=Y.childNodes[1]}this.popupElement&&((Y=W.createElement("div")).setAttribute("style",this.settings.popupStyle),this.settings.popupClass&&Y.setAttribute("class",this.settings.popupClass),this.popupElement.appendChild(Y)),this.inputElement&&(typeof this.settings.inputStyle<"u"&&this.inputElement.setAttribute("style",this.settings.inputStyle+(this.inputElement.getAttribute("style")?";"+this.inputElement.getAttribute("style"):"")),this.settings.inputClass&&this.inputElement.setAttribute("class",this.settings.inputClass)),this.settings.isDropDownButtonVisible&&(this.dropDownButtonElement=W.createElement("span"),this.dropDownButtonElement.setAttribute("style","display: inline-block"),this.dropDownButtonElement.innerHTML=this.settings.dropDownButtonDefinition,this.popupElement&&this.popupElement.parentElement&&this.popupElement.parentElement.insertBefore(this.dropDownButtonElement,this.popupElement)),this.inputElement&&(this.inputElement.MultiSelectorComboBox=this,this.setValue(this.value),(this.settings.isReadOnly||this instanceof Re.Element)&&this.inputElement.setAttribute("readonly","readonly")),this.popupElement&&(Y=this.popupElement.firstChild,this.checkBoxListElement=W.createElement("div"),this.checkBoxListElement.setAttribute("style","margin: 2px; margin-left: 0px; padding-right: 2px; padding-bottom: 2px"),Y.appendChild(this.checkBoxListElement),this.refreshSelectedChoices()),this.inputElement&&(this.inputElement.addEventListener("change",function(){f.refreshValue(),f.refreshAvailableChoices()},!0),this.dropDownButtonElement&&(this.dropDownButtonElement.onmousedown=function(){f.recordClick(),f.refreshValue(),setTimeout(function(){f.toggleDropDown()},0)}),this.popupElement)&&(this.popupElement.style.position="absolute",this.popupElement.style.display="none",this.inputElement.addEventListener("focus",function(){f.settings.openDropDownOnInputClick&&(f.openDropDown(),f.focusValue=f.inputElement.value)},!0),this.inputElement.addEventListener("blur",function(){f.settings.openDropDownOnInputClick&&typeof f.focusValue<"u"&&delete f.focusValue},!0),this.inputElement.addEventListener("keydown",function(M){13==M.keyCode?f.settings.openDropDownOnInputClick&&f.refreshValue():f.closeDropDown()},!0),this.inputElement.addEventListener("mousedown",function(){setTimeout(function(){f.settings.openDropDownOnInputClick&&!(typeof f.focusValue<"u"&&f.inputElement.value!=f.focusValue)&&(f.refreshValue(),f.openDropDown())},0),f.recordClick()},!0),this.inputElement.addEventListener("input",function(){f.closeDropDown()},!0),this.popupElement.onmousedown=function(){f.recordClick()},W.addEventListener("mousedown",function(){setTimeout(function(){f.isDuringRecordedClick()||f.closeDropDown()},0)},!0),W.addEventListener("mousewheel",function(M){f.isMouseWheelScrollingPopup(M)||f.closeDropDown()},!0),W.addEventListener("DOMMouseScroll",function(M){f.isMouseWheelScrollingPopup(M)||f.closeDropDown()},!0))},$.prototype.recordClick=function(){var f=this;this.isDuringClick||(this.isDuringClick=!0,setTimeout(function(){delete f.isDuringClick},0))},$.prototype.isDuringRecordedClick=function(){return typeof this.isDuringClick<"u"},$.prototype.isMouseWheelScrollingPopup=function(f){for(var W=typeof f.wheelDelta<"u"?f.wheelDelta/120:typeof f.detail<"u"?-f.detail/3:0,Y=(f=f.target,!1);null!=f;){if(0<f.offsetHeight&&f.offsetHeight<f.scrollHeight&&!(1>=f.scrollTop&&0<W||f.scrollTop>=f.scrollHeight-f.clientHeight-1&&0>W)&&(Y=!0),f==this.popupElement)return Y;f=f.parentElement}return!1},$.prototype.getValue=function(){return this.value},$.prototype.setValue=function(f){this.resetValue(f)},$.prototype.refreshValue=function(){this.resetValue()},$.prototype.resetValue=function(f){this.isDuringInternalSetValue||(this.closeDropDown(),this.setValueInternal(f))},$.prototype.setValueInternal=function(f,W){if(!this.isDuringInternalSetValue){this.isDuringInternalSetValue=!0,typeof W>"u"&&(W=!0);var Y=this.value,D=this.value=typeof f<"u"&&null!=f?f:this.inputElement.value;if(D!=this.inputElement.value&&(this.inputElement.value=D,this.isInitialized))try{var z=this.inputElement.ownerDocument.createEvent("HTMLEvents");z.initEvent("change",!0,!0),this.inputElement.dispatchEvent(z)}catch{}(this.value&&!Y||!this.value&&Y||this.value&&Y&&this.value.valueOf()!=Y.valueOf())&&(W&&this.refreshSelectedChoices(),this.settings.valueChangeHandler&&this.settings.valueChangeHandler(this.value)),delete this.isDuringInternalSetValue}},$.prototype.refreshAvailableChoices=function(){if(this.settings.autoAppendAvailableChoices){for(var f=this.getSelectedChoices(!1),W=0;W<f.length;W++){var Y=f[W];0>this.availableChoices.indexOf(Y)&&this.availableChoices.push(Y)}this.refreshSelectedChoices()}},$.prototype.getSelectedChoice=function(f){return this.getSelectedChoices(f)[0]},$.prototype.getSelectedChoices=function(f){typeof f>"u"&&(f=!0);for(var W=[],Y=this.value.trim(),D=Y.split(this.settings.separator),z=0;z<D.length;z++)if(0!=(Y=D[z].trim()).length){for(var M=0;M<this.settings.delimiters.length;M++){var J=Y.indexOf(this.settings.delimiters[M]);0<=J&&(Y=Y.substr(0,J).trim())}(!f||0<=this.availableChoices.indexOf(Y))&&W.push(Y)}return W},$.prototype.refreshSelectedChoices=function(){for(var f=this,W=this.checkBoxListElement.childNodes.length;0<W--;)this.checkBoxListElement.removeChild(this.checkBoxListElement.childNodes[W]);if(this.checkBoxElements=[],this.checkBoxListElement){W=this.getSelectedChoices();for(var Y=0;Y<this.availableChoices.length;Y++){var D=document.createElement("div");D.setAttribute("style","padding: 1px; padding-left: 2px; padding-right: 2px");var z=this.availableChoices[Y],M=document.createElement("input");M.setAttribute("type","checkbox"),M.setAttribute("value",z);var J=0<=W.indexOf(z);J&&M.setAttribute("checked","checked"),this.settings.areCheckBoxesVisible&&(M.setAttribute("style","margin-bottom: -1px"+("Modern"==this.settings.theme&&null!=this.settings.inputStyle?"; border: 1px solid #e0e0e0":"")),M.onchange=function(ge){var fe=(ge=ge.currentTarget).getAttribute("value");f.setSelectedChoice(fe,ge.checked,!1)},D.appendChild(M)),this.checkBoxElements.push(M);var G=document.createElement(this instanceof Le.Element?"div":"span");G.setAttribute("style",this.settings.choiceStyle),G.setAttribute("class",this.settings.choiceClass);var re=document.createElement(this instanceof Le.Element?"div":"span");J&&(re.setAttribute("style",this.settings.selectedChoiceStyle),re.setAttribute("class",this.settings.selectedChoiceClass)),(J=document.createElement("span")).innerHTML=z,re.appendChild(J),G.appendChild(re),G.checkBox=M,G.onclick=function(oe){var ge=oe.currentTarget.checkBox.getAttribute("value");f.setValue(ge),oe.stopPropagation()},D.appendChild(G),this.checkBoxListElement.appendChild(D)}}},$.prototype.selectChoice=function(f){this.setSelectedChoice(f,!0)},$.prototype.unselectChoice=function(f){this.setSelectedChoice(f,!1)},$.prototype.setSelectedChoice=function(f,W,Y){typeof Y>"u"&&(Y=!0),f=f.trim();for(var D=this.value.trim(),z=D.split(this.settings.separator),M="",J=!1,G=0;G<z.length;G++)if(0!=(D=z[G].trim()).length){for(var re=D,K=0;K<this.settings.delimiters.length;K++){var oe=D.indexOf(this.settings.delimiters[K]);0<=oe&&(D=D.substr(0,oe).trim())}(D!=f||W)&&(M+=(0<M.length?this.settings.separator+(this.settings.isSpaceSeparated?" ":""):"")+re,D==f&&(J=!0))}!J&&W&&(M+=(0<M.length?this.settings.separator+(this.settings.isSpaceSeparated?" ":""):"")+f),Y?this.setValue(M):this.setValueInternal(M,!1)},$.prototype.openDropDown=function(){this.isOpen||this.toggleDropDown()},$.prototype.closeDropDown=function(){this.isOpen&&this.toggleDropDown()},$.prototype.toggleDropDown=function(){var f=this;if(!this.settings.isReadOnly&&(this.isOpen||!(0>=this.availableChoices.length))){(this.isOpen=!this.isOpen)&&this.refreshAvailableChoices();var W=function(){var M=f.inputElement.getBoundingClientRect();f.popupElement.style.position="fixed",f.popupElement.style.zIndex="1",f.popupElement.style.left=M.left+"px",f.popupElement.style.top=M.top+M.height+"px",f.popupElement.style.minWidth=f.inputElement.offsetWidth+"px",f.popupElement.style.display=f.isOpen?"block":"none";var J=f.popupElement.getBoundingClientRect();J.bottom>f.popupElement.ownerDocument.documentElement.clientHeight&&M.top>=J.height&&(f.popupElement.style.top=M.top-J.height+2+"px"),J.right>f.popupElement.ownerDocument.documentElement.clientWidth&&f.popupElement.ownerDocument.documentElement.clientWidth>=J.width&&(f.popupElement.style.left=f.popupElement.ownerDocument.documentElement.clientWidth-J.width+"px")};if(W(),this.isOpen&&this.settings.dropDownOpenedHandler?this.settings.dropDownOpenedHandler():!this.isOpen&&this.settings.dropDownClosedHandler&&this.settings.dropDownClosedHandler(),this.isOpen){var Y=this.host.ownerDocument.documentElement.clientWidth,D=this.host.ownerDocument.documentElement.clientHeight,z=this.host.getBoundingClientRect();this.positionChangeHandlerTimer=setInterval(function(){var M=f.host.ownerDocument.documentElement.clientWidth,J=f.host.ownerDocument.documentElement.clientHeight,G=f.host.getBoundingClientRect();M!=Y||J!=D?f.closeDropDown():(G.left!=z.left||G.top!=z.top||G.width!=z.width||G.height!=z.height)&&W(),Y=M,D=J,z=G},100)}else this.positionChangeHandlerTimer&&(clearInterval(this.positionChangeHandlerTimer),delete this.positionChangeHandlerTimer)}},$}();be.Element=Te}(Ze=ue.MultiSelectorComboBox||(ue.MultiSelectorComboBox={})),function(be){be.initialize=function($,f,W,Y,D){return new Te($,f,W,Y,D)},be.get=function($){return $.component};var Te=function($){function f(W,Y,D,z,M){$.call(this,W,Y,D,z,M),this.isInitialized=!1,this.settings.areCheckBoxesVisible=!1,typeof z.choiceStyle>"u"&&(z.choiceStyle="padding: 2px; margin-right: -4px; cursor: pointer"),typeof z.selectedChoiceStyle>"u"&&(z.selectedChoiceStyle="background-color: #3399ff; color: White; margin: -3px; padding: 2px"),this.refresh(),this.isInitialized=!0}return __extends(f,$),f}(Ze.Element);be.Element=Te}(Le=ue.ComboBox||(ue.ComboBox={})),function(be){be.initialize=function($,f,W,Y,D){return new Te($,f,W,Y,D)},be.get=function($){return $.component};var Te=function($){function f(){$.apply(this,arguments)}return __extends(f,$),f}(Le.Element);be.Element=Te}(Re=ue.DropDownList||(ue.DropDownList={})),function(be){be.initialize=function($,f,W,Y){return new Te($,f,W,Y)},be.get=function($){return $["ToolTip.component"]};var Te=function(){function $(f,M,Y,D){var z=this;this.content=f,this.targetElement=M,this.settings=Y,this.isInitialized=!1,this.isEnabled=!0,this.isVisible=!1;var J=(M=M.ownerDocument).createElement("span");M.body.appendChild(J);var G="DlhSoft.Controls ToolTip DlhSoft.Data.HTML.Controls 5 validate Licensing".split(" ");H[G[5]][G[4]](J,G[0],G[1],G[2],G[3],D,Y),f&&f instanceof HTMLElement?(f.parentNode&&f.parentNode.removeChild(f),D=f):(D=M.createElement("span")).innerHTML=f,J.appendChild(D),this.host=J,this.contentContainer=D,this.host["ToolTip.component"]=this,this.contentContainer["ToolTip.component"]=this,this.targetElement["ToolTip.component"]=this,typeof Y>"u"&&(Y={}),this.settings=Y,$.initializeSettings(this.settings),this.contentContainer.setAttribute("style",this.settings.containerStyle),this.settings.containerClass&&this.contentContainer.setAttribute("class",this.settings.containerClass),this.isEnabled=this.settings.isEnabled,(this.isVisible=this.settings.isVisible)?this.show():this.hide(),this.refresh();var re=!1;this.targetElement.addEventListener("mouseenter",function(){z.isEnabled&&(z.show(),re=!0)}),this.targetElement.addEventListener("mouseleave",function(){z.isEnabled&&(re=!1,isNaN(z.settings.duration)||setTimeout(function(){re||z.hide()},z.settings.duration))}),this.contentContainer.addEventListener("mouseenter",function(){z.isEnabled&&(re=!0)}),this.contentContainer.addEventListener("mouseleave",function(){z.isEnabled&&(re=!1,isNaN(z.settings.duration)||setTimeout(function(){re||z.hide()},z.settings.duration))}),this.targetElement.addEventListener("mouseup",function(){z.isEnabled&&z.hide()},!0),M.addEventListener("mousedown",function(){z.isEnabled&&(re||z.hide())},!0),M.addEventListener("mousewheel",function(){z.isEnabled&&z.hide()},!0),M.addEventListener("DOMMouseScroll",function(){z.isEnabled&&z.hide()},!0),this.isInitialized=!0}return $.initializeSettings=function(f){typeof f.theme>"u"&&(f.theme="Modern"),typeof f.isEnabled>"u"&&(f.isEnabled=!0),typeof f.duration>"u"&&(f.duration=0),typeof f.isVisible>"u"&&(f.isVisible=!1),typeof f.containerStyle>"u"&&(f.containerStyle="cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+("Modern"==f.theme?"#e0e0e0":"#707070")+"; background-color: "+("Modern"==f.theme?"White":"#ffffc0")+"; color: "+("Modern"==f.theme?"#505050":"Black")+"; font-family: Arial; font-size: "+("Modern"==f.theme?"12px":"small")+"; padding: 4px")},$.prototype.refresh=function(){var f=this.targetElement.getBoundingClientRect();this.x=f.left,this.y=f.top+f.height,this.contentContainer.style.position="fixed",this.contentContainer.style.zIndex="1",this.contentContainer.style.left=this.x+"px",this.contentContainer.style.top=this.y+"px",this.contentContainer.style.display=this.settings.isVisible?"inline-block":"none";var W=this.contentContainer.getBoundingClientRect();W.bottom>this.contentContainer.ownerDocument.documentElement.clientHeight&&f.top>=W.height&&(this.contentContainer.style.top=f.top-W.height+2+"px"),W.right>this.contentContainer.ownerDocument.documentElement.clientWidth&&this.contentContainer.ownerDocument.documentElement.clientWidth>=W.width&&(this.contentContainer.style.left=this.contentContainer.ownerDocument.documentElement.clientWidth-W.width+"px")},$.prototype.setPosition=function(f,W){this.setHorizontalPosition(f),this.setVerticalPosition(W)},$.prototype.setHorizontalPosition=function(f){this.x=f,this.contentContainer.style.left=this.x+"px"},$.prototype.setVerticalPosition=function(f){this.y=f,this.contentContainer.style.top=this.y+"px"},$.prototype.enable=function(){this.isEnabled||(this.settings.isEnabled=this.isEnabled=!0)},$.prototype.disable=function(){this.isEnabled&&(this.settings.isEnabled=this.isEnabled=!1)},$.prototype.show=function(){$.previouslyShown&&$.previouslyShown.hide(),$.previouslyShown=this,this.isVisible||(this.settings.isVisible=this.isVisible=!0,this.refresh(),this.settings.shownHandler&&this.settings.shownHandler())},$.prototype.hide=function(){this.isVisible&&(this.settings.isVisible=this.isVisible=!1,this.refresh(),this.settings.hiddenHandler&&this.settings.hiddenHandler())},$.prototype.setContent=function(f){f&&f instanceof HTMLElement?(f.parentNode&&f.parentNode.removeChild(f),this.host.replaceChild(f,this.contentContainer),this.contentContainer=f):this.contentContainer.innerHTML=f},$}();be.Element=Te}(ue.ToolTip||(ue.ToolTip={})),function(be){function Te($,f){for(var W=ue.TreeGrid.getDefaultColumns($,f),Y=0;Y<W.length;Y++)delete W[Y].isTreeView;return W}be.initialize=function($,f,W,Y){if(f)for(var D=0;D<f.length;D++)delete f[D].indentation,delete f[D].isExpanded;return W||(W={}),W.columns||(W.columns=Te(f,W)),ue.TreeGrid.initialize($,f,W,Y)},be.getDefaultColumns=Te}(ue.Grid||(ue.Grid={}))}(DlhSoft||(DlhSoft={})),typeof DlhSoft>"u"&&(DlhSoft={assemblies:[],buildReleaseDate:new Date(1,0,1)}),DlhSoft.assemblies.push({assembly:"DlhSoft.ProjectData.GanttChart.HTML.Controls",company:"DlhSoft",product:"Project Data Modern Library",version:"5.3.20.17",copyright:"Copyright \xa9 2012-2024 DlhSoft",title:"Project Data Gantt Chart HTML Controls",description:"Project Data Gantt Chart related HTML client components"}),DlhSoft.buildReleaseDate=function(H,ue,m){return(H=new Date(H,4,9))>DlhSoft.buildReleaseDate?H:DlhSoft.buildReleaseDate}(2024),_0x5c25="Licensing{undefined{string{DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.{.{length{license{push{type{content{:{lastIndexOf{substr{buildReleaseDate{charCodeAt{pow{toUpperCase{DlhSoft Component Licensing Warning{http://DlhSoft.com/Purchase.aspx{?Assemblies={,{http://www.componentsource.com/features/dlhsoft{ (version {){This component is currently licensed to be used for testing purposes only{The component is part of this assembly{To purchase a standard license for a product that includes this assembly you can use the Purchase page{ownerDocument{div{createElement{style{display:none;position: absolute; left: 24px; top: 24px; width: 480px; z-index: 1; color: Black; background-color: #ffffc0; border: solid 1px Blue; overflow: auto{setAttribute{padding: 6px; padding-top: 8px; font-family: Arial; font-size: small{font-weight: bold; margin-bottom: 4px{appendChild{createTextNode{color: Red; margin-top: 2px; margin-bottom: 2px{margin-top: 4px{a{color: Blue; text-decoration: underline{href{target{_blank{Purchase license{margin-left: 4px; color: Blue; text-decoration: underline{javascript://{Continue trial{click{removeChild{addEventListener{\n\n{: {:\n".split("{"),null==DlhSoft[_0x5c25[0]]&&(DlhSoft[_0x5c25[0]]=function(){var H=_0x5c25[1],ue=_0x5c25[2],m=[],Ce=[],kt=_0x5c25[3];return{setLicense:function(_e,he){m[_0x5c25[7]]({type:_e,content:he})},validate:function(_e,he,Ne,Ze,Le,Re,be){he=he+_0x5c25[4]+Ne;for(var Te=0;Te<Ce[_0x5c25[5]];Te++)if(Ce[Te]==he)return;e:if(typeof Re!==ue&&typeof be!==H&&(be[_0x5c25[6]]!==H&&(Re=be[_0x5c25[6]]),typeof be===ue&&(Re=be)),typeof Re!==ue)for(be=0;be<m[_0x5c25[5]];be++)if((Te=m[be])[_0x5c25[8]]==he&&typeof Te[_0x5c25[9]]===ue){Re=Te[_0x5c25[9]];break e}!function(_e,he){if(typeof _e!==ue||typeof he!==ue)return!1;if(he==kt)return!0;var Ne=he[_0x5c25[11]](_0x5c25[10]);if(0<=Ne){var Le,Ze=he[_0x5c25[12]](0,Ne),Re=Ze[_0x5c25[11]](_0x5c25[10]);if(0<=Re)try{Le=new Date(parseInt(Ze[_0x5c25[12]](Re+1)))}catch{}if(typeof Le===H&&(Le=new Date(2013,11,31)),DlhSoft[_0x5c25[13]]>Le)return!1;for(Ze=Ze+_0x5c25[10]+_e,i=Le=0;i<Ze[_0x5c25[5]];i++)Le=(Le<<5)-Le+(Re=Ze[_0x5c25[14]](i)),Le&=Le;if(0>Le&&(Le=Math[_0x5c25[15]](2,32)-Le),(Ze=Le.toString(16)[_0x5c25[16]]())==(Ne=he[_0x5c25[12]](Ne+1)))return!0}return!1}(he,Re)?function(_e,he,Ne,Ze,Le){var Re=_0x5c25[17],Te=typeof ComponentSource!==H&&ComponentSource?_0x5c25[21]:_0x5c25[18]+_0x5c25[19]+Ze+_0x5c25[20]+Le,$=Ze+_0x5c25[22]+Le+_0x5c25[23],f=_0x5c25[24],W=_0x5c25[25],Y=_0x5c25[26];setTimeout(function(){var D=_e[_0x5c25[27]],z=D[_0x5c25[29]](_0x5c25[28]);z[_0x5c25[32]](_0x5c25[30],_0x5c25[31]);var M=D[_0x5c25[29]](_0x5c25[28]);M[_0x5c25[32]](_0x5c25[30],_0x5c25[33]);var J=D[_0x5c25[29]](_0x5c25[28]);J[_0x5c25[32]](_0x5c25[30],_0x5c25[34]),M[_0x5c25[35]](J),J[_0x5c25[35]](D[_0x5c25[36]](Re)),M[_0x5c25[35]](D[_0x5c25[36]](f+_0x5c25[10])),(J=D[_0x5c25[29]](_0x5c25[28]))[_0x5c25[32]](_0x5c25[30],_0x5c25[37]),J[_0x5c25[35]](D[_0x5c25[36]](he)),M[_0x5c25[35]](J),M[_0x5c25[35]](D[_0x5c25[36]](W+_0x5c25[10])),(J=D[_0x5c25[29]](_0x5c25[28]))[_0x5c25[32]](_0x5c25[30],_0x5c25[37]),J[_0x5c25[35]](D[_0x5c25[36]]($)),M[_0x5c25[35]](J),M[_0x5c25[35]](D[_0x5c25[36]](Y+_0x5c25[10])),(J=D[_0x5c25[29]](_0x5c25[28]))[_0x5c25[32]](_0x5c25[30],_0x5c25[38]);var G=D[_0x5c25[29]](_0x5c25[39]);G[_0x5c25[32]](_0x5c25[30],_0x5c25[40]),G[_0x5c25[32]](_0x5c25[41],Te),G[_0x5c25[32]](_0x5c25[42],_0x5c25[43]),G[_0x5c25[35]](D[_0x5c25[36]](_0x5c25[44])),J[_0x5c25[35]](G),(G=D[_0x5c25[29]](_0x5c25[39]))[_0x5c25[32]](_0x5c25[30],_0x5c25[45]),G[_0x5c25[32]](_0x5c25[41],_0x5c25[46]),G[_0x5c25[35]](D[_0x5c25[36]](_0x5c25[47])),G[_0x5c25[50]](_0x5c25[48],function(){_e[_0x5c25[49]](z),Ce[_0x5c25[7]](Ne)},!1),J[_0x5c25[35]](G),M[_0x5c25[35]](J),z[_0x5c25[35]](M),_e[_0x5c25[35]](z)},0),setTimeout(function(){alert(Re+_0x5c25[51]+f+_0x5c25[52]+he+_0x5c25[51]+W+_0x5c25[53]+$+_0x5c25[51]+Y+_0x5c25[4])},6e5)}(_e,Ne,he,Ze,Le):_e[_0x5c25[6]]=Re}}}()),null==DlhSoft.Controls&&(DlhSoft.Controls={}),null==DlhSoft.Controls.GanttChartView&&(DlhSoft.Controls.GanttChartView=function(){function ue(n,d){let c=function H(){for(var n="BCDEF".split(""),d="#",c=0;c<6;c++)d+=n[Math.floor(Math.random()*n.length)];return d}();d?.hasChildren?d?.parent?(n.setAttribute("class","sub-parent-tr"),n.style.backgroundColor=c,d?.children.forEach(h=>{h.class=c,h.barClass=c,h.labelColor=c})):n.setAttribute("class","parent-tr"):(n.setAttribute("class",d?.parent?.indentation?"sub-child-tr":"child-tr"),!d?.parent&&!d?.indentation&&n.setAttribute("class","parent-tr"))}var m="undefined",Ce=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],kt=["January","February","March","April","May","June","July","August","September","October","November","December"],Se=[31,28,31,30,31,30,31,31,30,31,30,31],wt=new Date(2592e5),_e=new Date(3155762592e5),he=function(n,d,c,h,g){return n.internalEventListeners&&n.internalEventListeners.push({object:d,event:c,handler:h,useCapture:g}),h},Ne=function(n,d){var c=document.createEvent("MouseEvents");c.initMouseEvent(d,!0,!0,document.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,n),n.dispatchEvent(c)},Ze=function(n,d,c,h){function g(me){if(typeof Z.x!==m&&!(n.offsetWidth<=0)){var ze=n.offsetWidth-(me=Z.gridWidth+(me.clientX-Z.x))-3,nt=Math.max(1,c.minGridWidth),st=Math.max(1,c.minChartWidth);me<nt?(ze-=nt-me,me=nt):ze<st&&(me-=st-ze,ze=st),me<1&&(me=1),ze<1&&(ze=1),typeof V.percent!==m&&delete V.percent,me=Math.ceil(1e6*me/n.offsetWidth)/1e4,V.style.width=me+"%",X.style.width=100-me+"%",c.gridWidth=V.offsetWidth+"px",c.chartWidth=X.offsetWidth+"px",yi(Z,V,c),typeof c.splitterPositionChangeHandler!==m&&setTimeout(function(){c.splitterPositionChangeHandler(V.offsetWidth,X.offsetWidth)},0)}}var x=["DlhSoft.Controls","GanttChartView","DlhSoft.ProjectData.GanttChart.HTML.Controls","5","validate","Licensing"];if(DlhSoft[x[5]][x[4]](n,x[0],x[1],x[2],x[3],h,c),n.isInitializing=!0,typeof n.initializedItems!==m&&(n.initializedItems.forEach(function(me){me.gridItemContainer&&me.gridItemContainer.parentNode&&me.gridItemContainer.parentNode.removeChild(me.gridItemContainer),me.chartItemArea&&me.chartItemArea.parentNode&&me.chartItemArea.parentNode.removeChild(me.chartItemArea),delete me.ganttChartView,delete me.chartItem,delete me.chartItemArea,delete me.gridItem,delete me.gridItemContent,delete me.gridItemSelectionContainer,delete me.gridItemContainer,delete me.alternativeContentContainer,delete me.toggleButton,delete me.parent,delete me.children,delete me.selectionInput,delete me.contentInput,delete me.startInput,delete me.finishInput,delete me.milestoneInput,delete me.assignmentsContentInput,delete me.completedInput,delete me.dependsOf,delete me.touchMoveHandler,delete me.touchEndHandler}),typeof n.draggableItems!==m&&delete n.draggableItems,typeof n.draggableDependencyItems!==m&&delete n.draggableDependencyItems,typeof n.draggableOrderingItems!==m&&delete n.draggableOrderingItems),n.initializedItems=d.slice(),n.internalEventListeners&&n.internalEventListeners.forEach(function(me){me.object.removeEventListener(me.event,me.handler,me.useCapture)}),n.internalEventListeners=[],typeof n.settings!==m&&typeof n.settings.toggleButtonAreaWidth!==m&&delete n.settings.toggleButtonAreaWidth,typeof n.items!==m)for(h=0;h<n.items.length;h++)delete n.items[h].successors;if("object"!=typeof c&&(c={}),Te(d,c),be(c,d,n),Rn(n,d,c),x=c.scales,Dt(h=c.columns,n,c),Yt(d,n),$t(d,c,n),typeof c.visibilityFilter!==m){bt(d,c.visibilityFilter);for(var O=0,F=0;F<d.length;F++){var v=d[F];if(typeof v.ganttChartItems!==m){v.isHidden||(v.scheduleChartVisibilityIndex=O++);for(var C=0;C<v.ganttChartItems.length;C++){var A=v.ganttChartItems[C];v.isHidden&&(A.isHidden=!0),A.displayRowIndex=v.scheduleChartVisibilityIndex}}}}var ee=$(n,d,c),S=n.ownerDocument;(O=S.createElement("div")).setAttribute("style","font-family: "+(c.classic?"Arial":"system-ui, Arial")+"; font-size: "+(c.classic?"small":"14px")+"; overflow: auto"),F=S.createElement("div"),typeof c.containerClass!==m&&F.setAttribute("class",c.containerClass),typeof c.containerStyle!==m&&F.setAttribute("style",c.containerStyle),O.appendChild(F),(v=S.createElement("div")).setAttribute("style","display:flex;border: solid 1px "+c.border+"; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; overflow: auto"),F.appendChild(v);var V=S.createElement("div");V.setAttribute("class","chart-table"),V.setAttribute("style","overflow: auto; float: left; border-right: solid 1px "+c.border+"; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; width: "+c.gridWidth),c.isGridVisible&&v.appendChild(V);var X=S.createElement("div");X.setAttribute("class","chart-view"),X.setAttribute("style","overflow: auto; float: right; width: "+c.chartWidth),v.appendChild(X);var Z=S.createElement("div");Z.setAttribute("class","chart-line"),Z.setAttribute("style","position: relative; opacity: 0; left: 0px; width: "+2*c.splitterWidth+"px; height: 0px; border-left: solid "+c.splitterWidth+"px "+c.splitterBackground+"; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: ew-resize; -ms-touch-action: pinch-zoom; touch-action: auto"),Z.addEventListener("mouseover",he(n,Z,"mouseover",function(){Z.style.opacity=1,Z.isWaiting!==m&&delete Z.isWaiting},!0),!0),Z.addEventListener("mouseout",he(n,Z,"mouseout",function(){typeof Z.isWaiting===m&&(Z.isWaiting=!0,setTimeout(function(){typeof Z.isWaiting!==m&&(delete Z.isWaiting,typeof Z.x===m&&(Z.style.opacity=0))},250))},!0),!0),Z.addEventListener("mousedown",he(n,Z,"mousedown",function(me){0==me.button&&(Z.style.opacity=1,Z.x=me.clientX,Z.gridWidth=V.offsetWidth)},!0),!0),Z.addEventListener("touchstart",he(n,Z,"touchstart",function(me){me=me.touches[0],Z.style.opacity=1,Z.x=me.clientX,Z.gridWidth=V.offsetWidth},!0),!0),S.addEventListener("mousemove",he(n,S,"mousemove",function(me){g(me)},!0),!0),S.addEventListener("touchmove",he(n,S,"touchmove",function(me){g(me.touches[0])},!0),!0),S.addEventListener("mouseup",he(n,S,"mouseup",function(){typeof Z.x!==m&&(delete Z.x,Z.style.opacity=0),DlhSoft.Controls.ToolTip&&(c.useUpdatingToolTips||c.useInlineToolTips)&&((toolTip=n.toolTip)&&(toolTip.disable(),toolTip.hide()),(toolTip=n.resourceRoolTip)&&(toolTip.disable(),toolTip.hide()))},!0),!0),S.addEventListener("touchend",he(n,S,"touchend",function(){typeof Z.x!==m&&(delete Z.x,Z.style.opacity=0)},!0),!0),c.isGridVisible&&c.isSplitterEnabled&&v.appendChild(Z),(F=S.createElement("div")).setAttribute("style","float: right; background: "+c.headerBackground+"; width: 0px; height: "+c.headerHeight+"px"),V.appendChild(F),(v=S.createElement("div")).setAttribute("style","overflow: hidden; background: "+c.headerBackground+"; border-bottom: solid 1px "+c.border+"; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; height: "+c.headerHeight+"px"),V.appendChild(v),(C=S.createElement("div")).setAttribute("class","three"),C.setAttribute("style","float: right; background: "+c.headerBackground+"; width: 0px; height: "+c.headerHeight+"px"),X.appendChild(C),(A=S.createElement("div")).setAttribute("class","chart-view-header-parent"),A.setAttribute("style","overflow: hidden; background: "+c.headerBackground+"; border-bottom: solid 1px "+c.border+"; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; height: "+c.headerHeight+"px"),X.appendChild(A);var _=S.createElement("div");_.setAttribute("style","overflow-x: "+(typeof c.isExport!==m&&c.isExport?"hidden":"scroll")+"; overflow-y: "+(typeof c.isExport!==m&&c.isExport?"hidden":"auto")+"; height: "+ee),V.appendChild(_);var te=S.createElement("div");te.setAttribute("style","overflow-x: "+(typeof c.isExport!==m&&c.isExport?"hidden":"scroll")+"; overflow-y: "+(typeof c.isExport!==m&&c.isExport?"hidden":"auto")+"; height: "+ee),X.appendChild(te),ee=Tt(h);var ce=S.createElement("div");ce.setAttribute("class","chart-table-header"),ce.setAttribute("style","background: "+c.headerBackground+"; border-bottom: solid 1px "+c.border+"; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; width: "+ee+"px; overflow: hidden; height: "+c.headerHeight+"px"),v.appendChild(ce);var ie=S.createElement("div");if(ie.setAttribute("class","chart-table-body"),ie.setAttribute("style","float: left; width: "+ee+"px; overflow: auto"+(c.horizontalGridLines?"; border-bottom: 1px solid "+c.horizontalGridLines+"; margin-bottom: -1px; ; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box":"")),_.appendChild(ie),typeof c.extraSpaceHeight!==m){var le=S.createElement("div");le.setAttribute("style","overflow: hidden; width: "+ee+"px; height: "+c.extraSpaceHeight+"px"),_.appendChild(le)}var ve,Ie,de=Fe(c.timelineFinish,c),pe=S.createElement("div");pe.setAttribute("class","chart-view-header-container"),pe.setAttribute("style","background: "+c.headerBackground+"; border-bottom: solid 1px "+c.border+"; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; width: "+de+"px; height: "+c.headerHeight+"px"),c.extendTimelineToEntireWeeks?A.appendChild(pe):(ee=S.createElement("div"),A.appendChild(ee),ve=(Ie=Je(c.timelineStart,c.intendedTimelineStart,c,ve={workingWeekStart:c.visibleWeekStart,workingWeekFinish:c.visibleWeekFinish,workingDayStart:c.visibleDayStart,workingDayFinish:c.visibleDayFinish})/36e5*c.hourWidth)+Je(c.intendedTimelineStart,c.intendedTimelineFinish,c,ve)/36e5*c.hourWidth,ee.setAttribute("style","overflow-x: hidden; width: "+ve+"px; transform: translateX(-"+Ie+"px);"),ee.appendChild(pe));var Pe=S.createElement("div");Pe.setAttribute("class","chart-view-graph"),Pe.setAttribute("style","float: left; overflow: hidden; width: "+de+"px; height: 0px"),c.extendTimelineToEntireWeeks?te.appendChild(Pe):(ee=S.createElement("div"),te.appendChild(ee),ee.setAttribute("style","overflow-x: hidden; width: "+ve+"px; transform: translateX(-"+Ie+"px); clip-path: xywh(0 0 "+ve+"px 100%);"),ee.appendChild(Pe));var ft,Ge,ni,ln,et=S.createElementNS("http://www.w3.org/2000/svg","svg");et.setAttribute("style","width: "+de+"px; height: 0px"),Ie=c.styleDefinitionTemplate(n),et.appendChild(Ie),et.chartAreaDefinitions=Ie,Ie=S.createElementNS("http://www.w3.org/2000/svg","g"),et.appendChild(Ie),Pe.chartAreaAlternativeRows=Ie,et.addEventListener("mousedown",he(n,et,"mousedown",Ie=function(){setTimeout(function(){try{var me=Pe.chartArea,ze=me.chartAreaDefinitions;me.removeChild(ze),me.childNodes.length>0?me.insertBefore(ze,me.childNodes[0]):me.appendChild(ze)}catch{}},0)},!0),!0),S.addEventListener("mouseup",he(n,S,"mouseup",Ie,!0),!0),n.resetChartAreaDefinitions=Ie,Pe.appendChild(et),Pe.chartArea=et,typeof c.extraSpaceHeight!==m&&((Ie=S.createElement("div")).setAttribute("style","overflow: hidden; width: "+de+"px; height: "+c.extraSpaceHeight+"px"),te.appendChild(Ie),te.chartExtraSpace=Ie),setTimeout(function(){Ge=screen.deviceXDPI,ft=n.isInitialized?-1:n.offsetWidth,ni=n.isInitialized?-1:n.offsetHeight,ln=X.offsetHeight},0),typeof n.splitterUpdateTimer!==m&&clearInterval(n.splitterUpdateTimer),n.splitterUpdateTimer=setInterval(function(){try{if(typeof Z.x===m&&!(n.offsetWidth<=0)){var me=n.offsetWidth,ze=X.offsetHeight,nt=screen.deviceXDPI;if(me!=ft||nt!=Ge){var st=typeof V.percent!==m?V.percent*me:V.offsetWidth,yt=X.offsetWidth,tt=Math.max(1,c.minGridWidth),At=Math.max(1,c.minChartWidth);st<tt?(yt-=tt-st,st=tt):yt<At&&(st-=At-yt,yt=At),st<1&&(st=1),yt<1&&(yt=1);var ht=Math.ceil(100*st/me);if(V.percent=ht/100,V.style.width=ht+"%",X.style.width=100-ht+"%",c.gridWidth=V.offsetWidth+"px",c.chartWidth=X.offsetWidth+"px",yi(Z,V,c),typeof c.splitterPositionChangeHandler!==m){var ut=V.offsetWidth,Ot=X.offsetWidth;ut>0&&Ot>0&&setTimeout(function(){c.splitterPositionChangeHandler(ut,Ot)},0)}ft=me,ni=ze,Ge=nt}else ze!=ln&&(yi(Z,V,c),ln=ze)}}catch{try{clearInterval(n.splitterUpdateTimer)}catch{}}},100),typeof n.heightUpdateTimer!==m&&clearInterval(n.heightUpdateTimer),n.heightUpdateTimer=setInterval(function(){try{if(!(n.clientHeight<=0)){var me=n.clientHeight;if(me!=ni){var ze=$(n,d,c);_.style.height=ze,te.style.height=ze,yi(Z,V,c),"auto"!=te.style.height&&(Pe.availableHeight=te.clientHeight),e(Pe,qt(d,c)),ui(d,te,c),ni=me=n.clientHeight}}}catch{try{clearInterval(n.heightUpdateTimer)}catch{}}},100),typeof n.scaleUpdateTimer!==m&&clearInterval(n.scaleUpdateTimer),n.chartScale=1,n.scaleUpdateTimer=setInterval(function(){try{var me=n.getItemsHeight(),ze=n.gridContent.clientHeight/me;n.chartScale=ze,n.chartContent.style.transform="scaleY("+ze+") translateY(-"+(me-n.gridContent.clientHeight)/2+"px)"}catch{}},1e3);var It=function(me,ze,nt,st,yt,tt){var At;if(c.mouseHandler||c.mouseMoveHandler&&"mousemove"==tt||c.mouseDownHandler&&"mousedown"==tt||(c.clickHandler||c.itemClickHandler||c.chartClickHandler||c.chartItemClickHandler)&&"click"==tt||(c.doubleClickHandler||c.itemDoubleClickHandler||c.chartDoubleClickHandler||c.chartItemDoubleClickHandler)&&"dblclick"==tt){var ht=me.which;!ht&&me.button&&(1&me.button?ht=1:4&me.button?ht=2:2&me.button&&(ht=3)),At=yt.getBoundingClientRect();var ut=S.body,Ot=S.documentElement;yt=At.left+(window.pageXOffset||Ot.scrollLeft||ut.scrollLeft)-(Ot.clientLeft||ut.clientLeft||0),At=Math.round(At.top+(window.pageYOffset||Ot.scrollTop||ut.scrollTop)-(Ot.clientTop||ut.clientTop||0)),yt=Math.round(yt),yt=me.pageX-yt,Ot=(me.pageY-At)/n.chartScale;var Lt,zt,Pt=At=0;if(nt){for(ut=0;ut<d.length;ut++)if((Pt=d[ut]).isVisible&&(typeof Pt.isHidden===m||!Pt.isHidden)&&Ot<=(Pt=Pt.itemTop+c.itemHeight)){Lt=d[ut];break}}else if(ze){var si,Gi=c.scales,bi=0;for(ut=0;ut<Gi.length;ut++)(typeof(si=Gi[ut]).isHeaderVisible===m||si.isHeaderVisible)&&bi++;var Ln=c.headerHeight;for(bi>0&&(Ln=c.headerHeight/bi),ut=0;ut<Gi.length;ut++)if((typeof(si=Gi[ut]).isHeaderVisible===m||si.isHeaderVisible)&&(bi=Ln,typeof si.headerHeight!==m&&(bi=si.headerHeight),Ot<=(Pt+=bi))){Lt=si;break}}if(ze)zt=Wt(yt,c);else for(Ot=c.columns,ut=0;ut<Ot.length;ut++)if(yt<=(At+=(Pt=Ot[ut]).width?Pt.width:0)){zt=Pt;break}c.mouseHandler&&c.mouseHandler(tt,nt,ze,Lt,zt,ht,st,me),c.mouseMoveHandler&&"mousemove"==tt&&c.mouseMoveHandler(nt,ze,Lt,zt),c.mouseDownHandler&&"mousedown"==tt&&c.mouseDownHandler(nt,ze,Lt,zt,ht),c.clickHandler&&"click"==tt&&c.clickHandler(nt,ze,Lt,zt),c.doubleClickHandler&&"dblclick"==tt&&c.doubleClickHandler(nt,ze,Lt,zt),c.itemClickHandler&&"click"==tt&&nt&&Lt&&c.itemClickHandler(ze,Lt,zt),c.itemDoubleClickHandler&&"dblclick"==tt&&nt&&Lt&&c.itemDoubleClickHandler(ze,Lt,zt),c.chartClickHandler&&"click"==tt&&ze&&c.chartClickHandler(nt,Lt,zt),c.chartDoubleClickHandler&&"dblclick"==tt&&ze&&c.chartDoubleClickHandler(nt,Lt,zt),c.chartItemClickHandler&&"click"==tt&&nt&&ze&&c.chartItemClickHandler(Lt,zt),c.chartItemDoubleClickHandler&&"dblclick"==tt&&nt&&ze&&c.chartItemDoubleClickHandler(Lt,zt)}};ce.addEventListener("mousemove",he(n,ce,"mousemove",function(me){It(me,!1,!1,0,ce,"mousemove")})),ce.addEventListener("mousedown",he(n,ce,"mousedown",function(me){It(me,!1,!1,1,ce,"mousedown")})),ce.addEventListener("click",he(n,ce,"click",function(me){It(me,!1,!1,1,ce,"click")})),ce.addEventListener("dblclick",he(n,ce,"dblclick",function(me){It(me,!1,!1,2,ce,"dblclick")})),ie.addEventListener("mousemove",he(n,ie,"mousemove",function(me){It(me,!1,!0,0,ie,"mousemove")})),ie.addEventListener("mousedown",he(n,ie,"mousedown",function(me){It(me,!1,!0,1,ie,"mousedown")})),ie.addEventListener("click",he(n,ie,"click",function(me){It(me,!1,!0,1,ie,"click")})),ie.addEventListener("dblclick",he(n,ie,"dblclick",function(me){It(me,!1,!0,2,ie,"dblclick")})),pe.addEventListener("mousemove",he(n,pe,"mousemove",function(me){It(me,!0,!1,0,pe,"mousemove")})),pe.addEventListener("mousedown",he(n,pe,"mousedown",function(me){It(me,!0,!1,1,pe,"mousedown")})),pe.addEventListener("click",he(n,pe,"click",function(me){It(me,!0,!1,1,pe,"click")})),pe.addEventListener("dblclick",he(n,pe,"dblclick",function(me){It(me,!0,!1,2,pe,"dblclick")})),Pe.addEventListener("mousemove",he(n,Pe,"mousemove",function(me){It(me,!0,!0,0,Pe,"mousemove")})),Pe.addEventListener("mousedown",he(n,Pe,"mousedown",function(me){It(me,!0,!0,1,Pe,"mousedown")})),Pe.addEventListener("click",he(n,Pe,"click",function(me){It(me,!0,!0,1,Pe,"click")})),Pe.addEventListener("dblclick",he(n,Pe,"dblclick",function(me){It(me,!0,!0,2,Pe,"dblclick")})),Pe.addEventListener("touchmove",he(n,Pe,"touchmove",function(me){n.draggingItem&&me.preventDefault()},!0),!0),ie.container=_,Pe.container=te,ce.container=v,pe.container=A,n.gridContainer=V,n.chartContainer=X,n.gridContent=ie,n.chartContent=Pe,n.gridContentContainer=_,n.chartContentContainer=te,n.gridHeader=ce,n.chartHeader=pe,n.gridHeaderContainer=v,n.chartHeaderContainer=A,n.splitter=Z,te.isInitializing=!0,Ie=f(d,c),Hn(n,O),"auto"!=te.style.height&&(Pe.availableHeight=te.clientHeight),ct(ce,h,c,n),wi(pe,et,x,c),$i(et,d,c),Li(ie,Pe,et,d,h,Ie,c,n),yi(Z,V,c),te.isInitializing=!1,ui(d,te,c),te.scrollLeft=Fe(c.displayedTime,c),A.scrollLeft!=te.scrollLeft&&(A.scrollLeft=te.scrollLeft),Fn(n,_,V,v,F,ie,te,A,X,C,Pe,Z,d,c);var dn=!1,In=function(me,ze){if(typeof ze===m&&(ze=0),c.hourWidth!=me){dn=!0;var tt,nt=te.scrollLeft,st=ze,yt=c.hourWidth;for(c.hourWidth=me,typeof c.hourWidthChangeHandler!==m&&setTimeout(function(){c.hourWidthChangeHandler(c.hourWidth)},0),de=Fe(c.timelineFinish,c),pe.style.width=de+"px",Pe.style.width=de+"px",et.style.width=de+"px",typeof te.chartExtraSpace!==m&&(te.chartExtraSpace.style.width=de+"px"),tt=pe.childNodes.length;tt-- >0;)pe.removeChild(pe.childNodes[tt]);var At=[];for(tt=et.childNodes.length;tt-- >1;){var ht=et.childNodes[tt];ht!=Pe.chartAreaAlternativeRows&&("Scale-Highlighting"!=ht.tag&&"Scale-Highlighting-CurrentTime"!=ht.tag&&"Scale-Separator"!=ht.tag&&"Scale-Separator-CurrentTime"!=ht.tag&&At.push(ht),et.removeChild(ht))}for(wi(pe,et,c.scales,c),tt=0;tt<d.length;tt++)ht=d[tt],(!c.isVirtualizing||typeof ht.isVirtuallyVisible!==m&&ht.isVirtuallyVisible)&&(a(ht.chartPredecessorItems,ht,c),l(ht.chartItem,ht,c));for(tt=At.length;tt-- >0;)et.appendChild(At[tt]);e(Pe,qt(d,c)),te.scrollLeft=st*(me/yt)-(st-nt),setTimeout(function(){dn=!1},200)}};return n.setHourWidth=In,(c.classic&&typeof c.isMouseWheelZoomEnabled===m||c.isMouseWheelZoomEnabled)&&(et.addEventListener("mousewheel",he(n,et,"mousewheel",h=function(me){if(me.preventDefault(),me.stopPropagation(),!dn){var ze=typeof me.wheelDelta!==m?me.wheelDelta>=0?1:-1:typeof me.detail!==m?-me.detail>=0?1:-1:0,nt=n.settings,st=nt.hourWidth,yt=typeof nt.isMouseWheelZoomEnabledMinHourWidth!==m?nt.isMouseWheelZoomEnabledMinHourWidth:1;ze<0?st/=1.2*-ze:ze>0&&(st=1.2*st*ze)>(ze=typeof nt.isMouseWheelZoomEnabledMaxHourWidth!==m?nt.isMouseWheelZoomEnabledMaxHourWidth:20)&&(st=ze),st<yt&&(st=yt),In(st,me.offsetX)}})),et.addEventListener("DOMMouseScroll",he(n,et,"DOMMouseScroll",h))),n.isInitializing=!1,n.isInitialized=!0,n},Le=function(n){Ze(n,n.items,n.settings,n.license)},Re=function(n){typeof n.dateTimePickerType===m&&(n.dateTimePickerType="text"),typeof n.useDatePicker===m&&(n.useDatePicker=!0),typeof n.useTimePicker===m&&(n.useTimePicker=!0),typeof n.useResourceSelector===m&&(n.useResourceSelector=!0),typeof n.useInlineToolTips===m&&(n.useInlineToolTips=!0),typeof n.useInlineToolTipsForDependencies===m&&(n.useInlineToolTipsForDependencies=!0),typeof n.useUpdatingToolTips===m&&(n.useUpdatingToolTips=!0),typeof n.dateFormatter===m&&(n.dateFormatter=D),typeof n.dateTimeFormatter===m&&(n.dateTimeFormatter=z),typeof n.dateTimeParser===m&&(n.dateTimeParser=J),typeof n.itemPropertyChangeHandler===m&&(n.itemPropertyChangeHandler=function(){}),typeof n.target===m&&(n.target="Standard"),typeof n.theme===m&&(n.theme="Modern"),typeof n.isGridVisible===m&&(n.isGridVisible="Phone"!==n.target),typeof n.interaction===m&&(n.interaction="Phone"!=n.target?"Standard":"TouchEnabled"),typeof n.isSplitterEnabled===m&&(n.isSplitterEnabled=!0),typeof n.isReadOnly===m&&(n.isReadOnly=!1),typeof n.isGridReadOnly===m&&(n.isGridReadOnly=!1),typeof n.isChartReadOnly===m&&(n.isChartReadOnly=!1),typeof n.isContentReadOnly===m&&(n.isContentReadOnly=!1),typeof n.isAssignmentsContentReadOnly===m&&(n.isAssignmentsContentReadOnly=!1),typeof n.isIndividualItemNonworkingTimeHighlighted===m&&(n.isIndividualItemNonworkingTimeHighlighted=!1),typeof n.areTaskInterruptionsHighlighted===m&&(n.areTaskInterruptionsHighlighted=!1),typeof n.areTaskDependencyConstraintsEnabled===m&&(n.areTaskDependencyConstraintsEnabled=!1),typeof n.alwaysHandleInvalidDependencies===m&&(n.alwaysHandleInvalidDependencies=!1),typeof n.selectionMode===m&&(n.selectionMode="Focus"),typeof n.isVirtualizing===m&&(n.isVirtualizing=!0)},be=function(n,d,c){if(Re(n),typeof n.gridWidth===m&&(n.gridWidth="35%"),typeof n.chartWidth===m&&(n.chartWidth=n.isGridVisible?"65%":"100%"),typeof n.minGridWidth===m&&(n.minGridWidth=32),typeof n.minColumnWidth===m&&(n.minColumnWidth=32),typeof n.minChartWidth===m&&(n.minChartWidth=36),typeof n.border===m)switch(n.theme){default:n.border="#e0e0e0";break;case"ModernBordered":case"Aero":n.border="#9a9a9a"}if(typeof n.splitterWidth===m&&(n.splitterWidth=4),typeof n.splitterBackground===m&&(n.splitterBackground=n.border),typeof n.indentationLevelWidth===m&&(n.indentationLevelWidth=16),typeof n.itemHeight===m&&(n.itemHeight=n.classic?21:28),typeof n.headerBackground===m&&(n.headerBackground=n.classic?"#f4f4f4":"white"),typeof n.headerHeight===m&&(n.headerHeight=2*(n.classic?21:31)),typeof n.columns===m&&(n.columns=K(d,n)),typeof n.toggleButtonStyle===m&&null==n.toggleButtonClass&&(n.toggleButtonStyle="fill: Gray"),typeof n.toggleButtonHoveringStyle===m&&null==n.toggleButtonHoveringClass&&(n.toggleButtonHoveringStyle="fill: Black"),typeof n.collapsedToggleButtonTemplate===m&&(n.collapsedToggleButtonTemplate=Hi(c,n)),typeof n.expandedToggleButtonTemplate===m&&(n.expandedToggleButtonTemplate=Mi(c,n)),typeof n.gridLines!==m&&(typeof n.horizontalGridLines===m&&(n.horizontalGridLines=n.gridLines),typeof n.verticalGridLines===m&&(n.verticalGridLines=n.gridLines),typeof n.horizontalChartLines===m&&(n.horizontalChartLines=n.gridLines)),!n.classic&&typeof n.verticalGridHeaderLines===m&&(n.verticalGridHeaderLines=n.verticalGridLines?n.verticalGridLines:"#e0e0e0"),typeof n.itemStyle===m&&typeof n.horizontalGridLines!==m&&(n.itemStyle="border-top: solid 1px "+n.horizontalGridLines+"; margin-top: -1px; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box",typeof n.cellStyle===m&&(n.cellStyle=typeof n.verticalGridLines!==m?"border-right: solid 1px "+n.verticalGridLines+"; height: "+n.itemHeight+"px; padding-top: 2px; padding-left: 2px":"height: "+n.itemHeight+"px; padding-top: 2px")),typeof n.cellStyle===m&&typeof n.verticalGridLines!==m&&(n.cellStyle="border-right: solid 1px "+n.verticalGridLines+"; height: "+n.itemHeight+"px; padding-top: 3px; padding-left: 2px"),!n.classic&&typeof n.cellStyle===m&&(n.cellStyle="padding-left: 2px;",typeof n.columnHeaderStyle===m&&(n.columnHeaderStyle="padding-left: 2px")),typeof n.selectedItemStyle===m&&null==n.selectedItemClass&&(n.selectedItemStyle=n.classic?"Aero"===n.theme?typeof n.horizontalGridLines!==m||typeof n.verticalGridLines===m?"background-color: LightBlue; border-top: solid 1px "+(typeof n.horizontalGridLines!==m?n.horizontalGridLines:"White")+"; margin-top: -1px; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box":"background-color: LightBlue":typeof n.horizontalGridLines!==m||typeof n.verticalGridLines===m?"background-color: #f4f4f4; border-top: solid 1px "+(typeof n.horizontalGridLines!==m?n.horizontalGridLines:"White")+"; margin-top: -1px; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box":"background-color: #f4f4f4":"background-color: #8dd2ff60;"),typeof n.summaryItemStyle===m&&null==n.summaryItemClass&&(n.summaryItemStyle="font-weight: bold"),typeof n.daysOfWeek===m&&(n.daysOfWeek=Ce),typeof n.months===m&&(n.months=kt),typeof n.weekStartDay===m&&(n.weekStartDay=0),typeof n.currentTime===m)n.currentTime=new Date;else if("string"==typeof n.currentTime)try{n.currentTime=new Date(n.currentTime)}catch{n.currentTime=new Date(parseInt(n.currentTime))}if("string"==typeof n.displayedTime)try{n.displayedTime=new Date(n.displayedTime)}catch{n.displayedTime=new Date(parseInt(n.displayedTime))}if("string"==typeof n.timelineStart)try{n.timelineStart=new Date(n.timelineStart)}catch{n.timelineStart=new Date(parseInt(n.timelineStart))}if("string"==typeof n.timelineFinish)try{n.timelineFinish=new Date(n.timelineFinish)}catch{n.timelineFinish=new Date(parseInt(n.timelineFinish))}if(!n.classic&&typeof n.scales===m&&(n.scales=[{scaleType:"NonworkingTime",isHeaderVisible:!1,isHighlightingVisible:!0,highlightingStyle:"stroke-width: 0; fill: "+(n.nonworkingBackground?n.nonworkingBackground:"#f8f8f8")+"; fill-opacity: 0.65"},{scaleType:"Weeks",headerTextFormat:"Date",headerStyle:"padding: 7px 5px; border-right: 1px solid "+(n.headerBorder?n.headerBorder:"#e8e8e8")+"; border-bottom: 1px solid "+(n.headerBorder?n.headerBorder:"#e8e8e8")+(n.headerForeground?"; color: "+n.headerForeground:""),isSeparatorVisible:!0,separatorStyle:"stroke: "+(n.scaleSeparatorBorder?n.scaleSeparatorBorder:"#c8bfe7")+"; stroke-width: 0.5px"},{scaleType:"Days",headerTextFormat:"DayOfWeekAbbreviation",headerStyle:"padding: 7px 5px; border-right: 1px solid "+(n.headerBorder?n.headerBorder:"#e8e8e8")+(n.headerForeground?"; color: "+n.headerForeground:"")},{scaleType:"CurrentTime",isHeaderVisible:!1,isSeparatorVisible:!0,separatorStyle:"stroke: "+(n.currentTimeStroke?n.currentTimeStroke:"#e31d3b")+"; stroke-width: 0.5px"}]),n.classic||(typeof n.alternativeItemStyle===m&&(n.alternativeItemStyle="background-color: #8080800c;"),typeof n.alternativeChartItemStyle===m&&(n.alternativeChartItemStyle="fill: #8080800c;")),!n.classic&&typeof n.arrowSize===m&&(n.arrowSize=1.5),typeof n.isRelativeToTimezone===m||n.isRelativeToTimezone){if(n.currentTime=new Date(n.currentTime.valueOf()-6e4*n.currentTime.getTimezoneOffset()),typeof n.displayedTime!==m&&(n.displayedTime=new Date(n.displayedTime.valueOf()-6e4*n.displayedTime.getTimezoneOffset())),typeof n.timelineStart!==m&&(n.timelineStart=new Date(n.timelineStart.valueOf()-6e4*n.timelineStart.getTimezoneOffset())),typeof n.timelineFinish!==m&&(n.timelineFinish=new Date(n.timelineFinish.valueOf()-6e4*n.timelineFinish.getTimezoneOffset())),typeof n.scales!==m)for(d=0;d<n.scales.length;d++){var h=n.scales[d];if(typeof h.intervals!==m)for(var g=0;g<h.intervals.length;g++){var x=h.intervals[g];typeof x.start!==m&&(x.start=new Date(x.start.valueOf()-6e4*x.start.getTimezoneOffset())),typeof x.finish!==m&&(x.finish=new Date(x.finish.valueOf()-6e4*x.finish.getTimezoneOffset()))}}n.isRelativeToTimezone=!1}if(typeof n.schedule!==m&&null!=n.schedule&&((n.schedule!=n.previousSchedule||n.schedule.workingWeekStart!=n.previousSchedule.workingWeekStart)&&(n.workingWeekStart=n.schedule.workingWeekStart),(n.schedule!=n.previousSchedule||n.schedule.workingWeekFinish!=n.previousSchedule.workingWeekFinish)&&(n.workingWeekFinish=n.schedule.workingWeekFinish),(n.schedule!=n.previousSchedule||n.schedule.workingDayStart!=n.previousSchedule.workingDayStart)&&(n.visibleDayStart=n.schedule.workingDayStart),(n.schedule!=n.previousSchedule||n.schedule.workingDayFinish!=n.previousSchedule.workingDayFinish)&&(n.visibleDayFinish=n.schedule.workingDayFinish),(n.schedule!=n.previousSchedule||n.schedule.specialNonworkingDays!=n.previousSchedule.specialNonworkingDays)&&(n.specialNonworkingDays=n.schedule.specialNonworkingDays)),typeof n.extendTimelineToEntireWeeks===m&&(n.extendTimelineToEntireWeeks=!0),n.intendedTimelineStart=n.timelineStart,n.intendedTimelineFinish=n.timelineFinish,n.timelineStart=typeof n.timelineStart===m?new Date(Ht(n.currentTime,n.weekStartDay).valueOf()-6048e5):Ht(n.timelineStart,n.weekStartDay),n.timelineFinish=typeof n.timelineFinish===m?new Date(Ht(n.currentTime,n.weekStartDay).valueOf()+320544e5):Bt(n.timelineFinish,n.weekStartDay),typeof n.intendedTimelineStart===m&&(n.intendedTimelineStart=n.timelineStart),typeof n.intendedTimelineFinish===m&&(n.intendedTimelineFinish=n.timelineFinish),!n.isExport&&typeof n.specialNonworkingDays!==m&&"function"!=typeof n.specialNonworkingDays)for(d=0;d<n.specialNonworkingDays.length;d++)n.specialNonworkingDays[d]=lt(new Date(n.specialNonworkingDays[d].valueOf()-6e4*(n.specialNonworkingDays[d].getTimezoneOffset()<0?n.specialNonworkingDays[d].getTimezoneOffset():0)));if(!n.isExport&&typeof n.resourceSchedules!==m)for(h=0;h<n.resourceSchedules.length;h++)if(typeof(g=n.resourceSchedules[h].value).specialNonworkingDays!==m)for(d=0;d<g.specialNonworkingDays.length;d++)g.specialNonworkingDays[d]=lt(new Date(g.specialNonworkingDays[d].valueOf()-6e4*(g.specialNonworkingDays[d].getTimezoneOffset()<0?g.specialNonworkingDays[d].getTimezoneOffset():0)));if(typeof n.scales===m&&(n.scales=Di(n)),typeof n.updateScale===m&&(n.updateScale=9e5),typeof n.hourWidth===m&&(n.hourWidth=n.classic?2.5:5),typeof n.displayedTime===m&&(n.displayedTime=n.currentTime,setTimeout(function(){var S=c.chartContentContainer.scrollLeft-12*n.hourWidth;c.chartContentContainer.scrollLeft-S<c.chartContentContainer.clientWidth/3&&(c.chartContentContainer.scrollLeft=Math.max(0,S))},0)),n.previousSchedule=n.schedule,typeof n.visibleDayStart===m&&(n.visibleDayStart=288e5),typeof n.visibleDayFinish===m&&(n.visibleDayFinish=576e5),n.visibleDayStart>=n.visibleDayFinish&&(n.visibleWeekStart=0,n.visibleWeekFinish=864e5),typeof n.visibleWeekStart===m&&(n.visibleWeekStart=0),typeof n.visibleWeekFinish===m&&(n.visibleWeekFinish=6),n.visibleWeekStart>n.visibleWeekFinish&&(n.visibleWeekStart==n.visibleWeekFinish+1?(n.visibleWeekStart=0,n.visibleWeekFinish=6):n.visibleWeekFinish=n.visibleWeekStart),typeof n.workingWeekStart===m&&(n.workingWeekStart=1),typeof n.workingWeekFinish===m&&(n.workingWeekFinish=5),n.workingWeekStart>n.workingWeekFinish&&(n.workingWeekStart==n.workingWeekFinish+1?(n.workingWeekStart=0,n.workingWeekFinish=6):n.workingWeekFinish=n.workingWeekStart),n.workingDayStart=n.visibleDayStart,n.workingDayFinish=n.visibleDayFinish,!n.classic&&typeof n.barMargin===m&&(n.barMargin=4),typeof n.barHeight===m&&(n.barHeight=typeof n.barMargin===m?n.itemHeight/2:n.itemHeight-2*n.barMargin),typeof n.barMargin===m&&(n.barMargin=(n.itemHeight-n.barHeight)/2),typeof n.barCornerRadius===m&&(n.barCornerRadius=n.classic?"Aero"===n.theme?3:0:2),!n.classic&&typeof n.completedBarMargin===m&&(n.completedBarMargin=1),typeof n.completedBarMargin===m&&(n.completedBarMargin=n.barHeight/2.5),typeof n.completedBarHeight===m&&(n.completedBarHeight=n.barHeight-2*n.completedBarMargin),typeof n.completedBarCornerRadius===m&&(n.completedBarCornerRadius=0),n.completedBarCornerRadius=Math.min(n.completedBarCornerRadius,Math.max(0,n.barCornerRadius-1)),typeof n.styleDefinitionTemplate===m&&(n.styleDefinitionTemplate=j(c,n)),typeof n.standardBarStyle===m&&null==n.standardBarClass)if(n.classic)switch(n.theme){default:n.standardBarStyle="fill: #8abbed; fill-opacity: 0.8; stroke: #8abbed; stroke-width: 0.65px";break;case"ModernBordered":n.standardBarStyle="fill: #8abbed; fill-opacity: 0.8; stroke: Blue; stroke-width: 0.65px";break;case"Aero":n.standardBarStyle="fill: url(#BlueGradient); fill-opacity: 0.8; stroke: Blue"}else n.standardBarStyle="fill: #8dd2ff; fill-opacity: 0.8; stroke: #3b87d9; stroke-width: 0.65px;";if(typeof n.standardCompletedBarStyle===m&&null==n.standardCompletedBarClass&&(n.standardCompletedBarStyle=n.classic?"Aero"===n.theme?"fill: #808080; stroke: #202020; stroke-width: 0.65px":"fill: #3b87d9; stroke: #3b87d9; stroke-width: 0.65px":"fill: #1ca3ec; stroke: #1ca3ec; stroke-width: 0.5px;"),typeof n.summaryBarStyle===m&&null==n.summaryBarClass)switch(n.theme){default:n.summaryBarStyle="fill: #607080; stroke: #607080; stroke-width: 0.65px";break;case"ModernBordered":n.summaryBarStyle="fill: #607080; stroke: #202020; stroke-width: 0.65px";break;case"Aero":n.summaryBarStyle="fill: url(#BlackGradient); stroke: Black"}if(typeof n.summaryCompletedBarStyle===m&&null==n.summaryCompletedBarClass&&(n.summaryCompletedBarStyle="Aero"===n.theme?"fill: #a0a0a0; stroke: #303030; stroke-width: 0.65px":"fill: #404040; stroke: #404040; stroke-width: 0.65px"),typeof n.collapsedSummaryLineStyle===m&&null==n.collapsedSummaryLineClass&&(n.collapsedSummaryLineStyle="stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2 2"),typeof n.milestoneBarStyle===m&&null==n.milestoneBarClass)if(n.classic)switch(n.theme){default:n.milestoneBarStyle="fill: #607080; stroke: #607080; stroke-width: 0.65px";break;case"ModernBordered":n.milestoneBarStyle="fill: #607080; stroke: #202020; stroke-width: 0.65px";break;case"Aero":n.milestoneBarStyle="fill: url(#BlackGradient); stroke: Black"}else n.milestoneBarStyle="fill: #f8c758; stroke: #3b87d9; stroke-width: 0.65px;";if(typeof n.completedBarThumbStyle===m&&null==n.completedBarThumbClass&&(n.completedBarThumbStyle="fill: White; stroke: #a0a0a0; stroke-width: 1px; transform: translateY(3px);"),typeof n.baselineBarStyle===m&&null==n.baselineBarClass&&(n.baselineBarStyle="Aero"===n.theme?"fill: none; stroke: Blue; stroke-dasharray: 2, 2":"fill: none; stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2, 2"),typeof n.dependencyPointerStyle===m&&null==n.dependencyPointerClass&&(n.dependencyPointerStyle=n.classic?"Aero"===n.theme?"fill: Blue; stroke: Blue":"fill: #3b87d9; stroke: #3b87d9; stroke-width: 0.65px":"fill: White; stroke: #a0a0a0; stroke-width: 1px;"),typeof n.dependencyLineStyle===m&&null==n.dependencyLineClass&&(n.dependencyLineStyle=n.classic?"Aero"===n.theme?"stroke: Blue; stroke-width: 0.65px; fill: none; marker-end: url(#ArrowMarker)":"stroke: #3b87d9; stroke-width: 0.65px; fill: none; marker-end: url(#ArrowMarker)":"stroke: #3b87d9; stroke-width: 0.65px; fill: none; marker-end: url(#ArrowMarker);"),typeof n.dependencyLineZoneStyle===m&&null==n.dependencyLineZoneClass&&(n.dependencyLineZoneStyle="stroke: White; stroke-opacity: 0; stroke-width: 4px; fill: none"),typeof n.temporaryDependencyLineStyle===m&&null==n.temporaryDependencyLineClass&&(n.temporaryDependencyLineStyle="Aero"===n.theme?"stroke: Blue; stroke-width: 0.65px; stroke-dasharray: 2, 2; fill: none; marker-end: url(#ArrowMarker)":"stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2, 2; fill: none; marker-end: url(#ArrowMarker)"),typeof n.assignmentsStyle===m&&null==n.assignmentsClass&&(n.assignmentsStyle="stroke-width: 0.25px; font-size: "+(n.classic?"x-small":"12px")),n.classic||(n.assignmentsStyle=n.assignmentsStyle+"; transform: translateX(10px) translateY(-1px);"),typeof n.standardTaskTemplate===m&&(n.standardTaskTemplate=q()),typeof n.summaryTaskTemplate===m&&(n.summaryTaskTemplate=Q()),typeof n.milestoneTaskTemplate===m&&(n.milestoneTaskTemplate=ne()),typeof n.horizontalChartLines!==m){var F=n.internalPreTaskTemplate;n.internalPreTaskTemplate=function(S){if(typeof S.scheduleChartItem!==m)return typeof F!==m?F(S):null;var O=S.ganttChartView.ownerDocument,V=O.createElementNS("http://www.w3.org/2000/svg","g");typeof F!==m&&V.appendChild(F(S));var X=O.createElementNS("http://www.w3.org/2000/svg","line");return X.setAttribute("x1",0),X.setAttribute("y1",-.5),X.setAttribute("x2",Fe(n.timelineFinish,n)),X.setAttribute("y2",-.5),X.setAttribute("style","stroke: "+n.horizontalChartLines+"; stroke-width: 0.5px"),V.appendChild(X),S.index==S.ganttChartView.items.length-1&&((X=O.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("x1",0),X.setAttribute("y1",n.itemHeight),X.setAttribute("x2",Fe(n.timelineFinish,n)),X.setAttribute("y2",n.itemHeight),X.setAttribute("style","stroke: "+n.horizontalChartLines+"; stroke-width: 0.5px"),V.appendChild(X)),V}}typeof n.isTaskToolTipVisible===m&&(n.isTaskToolTipVisible="Phone"!==n.target),typeof n.itemTemplate===m&&(n.itemTemplate=p(n)),typeof n.areTaskAssignmentsVisible===m&&(n.areTaskAssignmentsVisible=!0),typeof n.assignmentsTemplate===m&&(n.assignmentsTemplate=T()),typeof n.isTaskCompletedEffortVisible===m&&(n.isTaskCompletedEffortVisible=!0),typeof n.areTaskDependenciesVisible===m&&(n.areTaskDependenciesVisible=!0),typeof n.dependencyLineTemplate===m&&(n.dependencyLineTemplate=ae()),typeof n.isDependencyToolTipVisible===m&&(n.isDependencyToolTipVisible=n.isTaskToolTipVisible),typeof n.predecessorItemTemplate===m&&(n.predecessorItemTemplate=ye(n)),typeof n.isDraggingTaskStartEndsEnabled===m&&(n.isDraggingTaskStartEndsEnabled=!0),typeof n.areTaskDependencyConstraintsEnabledWhileDragging===m&&(n.areTaskDependencyConstraintsEnabledWhileDragging=!1),typeof n.isTaskStartReadOnly===m&&(n.isTaskStartReadOnly=!1),typeof n.isTaskEffortReadOnly===m&&(n.isTaskEffortReadOnly=!1),typeof n.isTaskCompletionReadOnly===m&&(n.isTaskCompletionReadOnly=!1),typeof n.areTaskPredecessorsReadOnly===m&&(n.areTaskPredecessorsReadOnly=!1),typeof n.isBaselineVisible===m&&(n.isBaselineVisible=!0),void 0===typeof n.areStandardTaskLabelsVisible&&(n.areStandardTaskLabelsVisible=!1),void 0===typeof n.areSummaryTaskLabelsVisible&&(n.areSummaryTaskLabelsVisible=!1),void 0===typeof n.areMilestoneTaskLabelsVisible&&(n.areMilestoneTaskLabelsVisible=!1),typeof n.isSummaryTaskCompletedEffortVisible===m&&(n.isSummaryTaskCompletedEffortVisible=!1);var v=null;if(n.isIndividualItemNonworkingTimeHighlighted||n.areTaskInterruptionsHighlighted)for(d=0;d<n.scales.length;d++)if("NonworkingTime"==n.scales[d].scaleType){v=n.scales[d];break}if(null!=v&&n.isIndividualItemNonworkingTimeHighlighted){var C=n.internalPreTaskTemplate;n.internalPreTaskTemplate=function(S){if(typeof S.scheduleChartItem!==m&&(S.content||!S.schedule))return typeof C!==m?C(S):null;var O;if(typeof(O=Ee(S))===m)O=null;else{var X,Z,V=[];for(X=Jt(n.timelineStart,typeof O.workingWeekFinish!==m?O.workingWeekFinish:n.workingWeekFinish),Z=di(X,typeof O.workingWeekStart!==m?O.workingWeekStart:n.workingWeekStart);X<n.timelineFinish;X=_t(X),Z=_t(Z)){V.push({start:X,finish:Z});var te,_=_t(X);for(dd=Z;dd<_;dd=te)O.workingDayStart>n.visibleDayStart&&V.push({start:dd,finish:new Date(dd.valueOf()+O.workingDayStart)}),te=rt(dd),O.workingDayFinish<n.visibleDayFinish&&V.push({start:new Date(dd.valueOf()+O.workingDayFinish),finish:te})}if(typeof O.specialNonworkingDays!==m)if("function"==typeof O.specialNonworkingDays)for(X=Jt(n.timelineStart,n.workingWeekFinish),Z=rt(X);X<n.timelineFinish;X=rt(X),Z=rt(Z))O.specialNonworkingDays(X)&&V.push({start:X,finish:Z});else for(_=0;_<O.specialNonworkingDays.length;_++)Z=rt(X=O.specialNonworkingDays[_]),V.push({start:X,finish:Z});O=V}if(null==O||0==O.length)return typeof C!==m?C(S):null;for(X=(V=S.ganttChartView.ownerDocument).createElementNS("http://www.w3.org/2000/svg","g"),Z=0;Z<O.length;Z++)if(te=(_=O[Z]).finish,_=Fe(_.start,n),!((te=Fe(te,n)-_)<=0)){var ee=V.createElementNS("http://www.w3.org/2000/svg","rect");ee.setAttribute("x",_-1),ee.setAttribute("y",0),ee.setAttribute("width",te),ee.setAttribute("height",n.itemHeight),ee.setAttribute("class",v.highlightingClass),ee.setAttribute("style",v.highlightingStyle),X.appendChild(ee)}return typeof C!==m&&X.appendChild(C(S)),X}}if(null!=v&&n.areTaskInterruptionsHighlighted){var A=n.internalExtraTaskTemplate;n.internalExtraTaskTemplate=function(S){if(typeof S.scheduleChartItem!==m)return typeof A!==m?A(S):null;var O;if(S.hasChildren&&(typeof S.isSummaryEnabled===m||S.isSummaryEnabled)||S.isMilestone)O=null;else{var X,Z,V=Ee(S);for(O=[],X=Jt(lt(S.start),typeof V!==m&&typeof V.workingWeekFinish!==m?V.workingWeekFinish:n.workingWeekFinish),Z=di(X,typeof V!==m&&typeof V.workingWeekStart!==m?V.workingWeekStart:n.workingWeekStart);X<S.finish;X=_t(X),Z=_t(Z))O.push({start:X>=S.start?X:S.start,finish:Z<=S.finish?Z:S.finish});var _=typeof V!==m&&typeof V.specialNonworkingDays!==m?V.specialNonworkingDays:n.specialNonworkingDays;if(typeof _!==m)if("function"==typeof _)for(X=Jt(lt(S.start),typeof V!==m&&typeof V.workingWeekFinish!==m?V.workingWeekFinish:n.workingWeekFinish),Z=rt(X);X<lt(S.finish);X=rt(X),Z=rt(Z))V.specialNonworkingDays(X)&&O.push({start:X,finish:Z});else for(V=0;V<_.length;V++)Z=rt(X=_[V]),X>=S.start&&Z<=S.finish&&O.push({start:X,finish:Z})}if(null==O||0==O.length)return typeof A!==m?A(S):null;for(Z=(X=S.ganttChartView.ownerDocument).createElementNS("http://www.w3.org/2000/svg","g"),_=0;_<O.length;_++){var te=(V=O[_]).finish;if(V=Fe(V.start,n),!((te=Fe(te,n)-V)<=0)){var ee=X.createElementNS("http://www.w3.org/2000/svg","rect");ee.setAttribute("x",V-1),ee.setAttribute("y",n.barMargin),ee.setAttribute("width",te),ee.setAttribute("height",n.barHeight),ee.setAttribute("class",v.highlightingClass),ee.setAttribute("style",v.highlightingStyle),Z.appendChild(ee)}}return typeof A!==m&&Z.appendChild(A(S)),Z}}typeof n.enableHorizontalScrollingDuringDragging===m&&(n.enableHorizontalScrollingDuringDragging=!0),typeof n.horizontalScrollingDragAreaWidth===m&&(n.horizontalScrollingDragAreaWidth=24),typeof n.horizontalScrollingDragAmount===m&&(n.horizontalScrollingDragAmount=20),typeof n.enableVerticalScrollingDuringDragging===m&&(n.enableVerticalScrollingDuringDragging=!0),typeof n.verticalScrollingDragAreaHeight===m&&(n.verticalScrollingDragAreaHeight=24),typeof n.verticalScrollingDragAmount===m&&(n.verticalScrollingDragAmount=20)},Te=function(n,d){for(var c=0;c<n.length;c++){var h=n[c];if("string"==typeof h&&(n[c]=h={content:h}),"string"==typeof h.indentation&&(h.indentation=parseInt(h.indentation)),"string"==typeof h.isExpanded&&(h.isExpanded="true"==h.isExpanded.toLowerCase()),"string"==typeof h.start){try{h.start=new Date(h.start)}catch{h.start=new Date(parseInt(h.start))}(typeof d.isRelativeToTimezone===m||d.isRelativeToTimezone)&&(h.start=new Date(h.start.valueOf()+6e4*h.start.getTimezoneOffset())),h.preferredStart=h.start}if("string"==typeof h.finish){try{h.finish=new Date(h.finish)}catch{h.finish=new Date(parseInt(h.finish))}(typeof d.isRelativeToTimezone===m||d.isRelativeToTimezone)&&(h.finish=new Date(h.finish.valueOf()+6e4*h.finish.getTimezoneOffset()))}if("string"==typeof h.completedFinish){try{h.completedFinish=new Date(h.completedFinish)}catch{h.completedFinish=new Date(parseInt(h.completedFinish))}(typeof d.isRelativeToTimezone===m||d.isRelativeToTimezone)&&(h.completedFinish=new Date(h.completedFinish.valueOf()+6e4*h.completedFinish.getTimezoneOffset()))}if("string"==typeof h.isMilestone&&(h.isMilestone="true"==h.isMilestone.toLowerCase()),"string"==typeof h.baselineStart){try{h.baselineStart=new Date(h.baselineStart)}catch{h.baselineStart=new Date(parseInt(h.baselineStart))}(typeof d.isRelativeToTimezone===m||d.isRelativeToTimezone)&&(h.baselineStart=new Date(h.baselineStart.valueOf()+6e4*h.baselineStart.getTimezoneOffset()))}if("string"==typeof h.baselineFinish){try{h.baselineFinish=new Date(h.baselineFinish)}catch{h.baselineFinish=new Date(parseInt(h.baselineFinish))}(typeof d.isRelativeToTimezone===m||d.isRelativeToTimezone)&&(h.baselineFinish=new Date(h.baselineFinish.valueOf()+6e4*h.baselineFinish.getTimezoneOffset()))}if("string"==typeof h.minStart){try{h.minStart=new Date(h.minStart)}catch{h.minStart=new Date(parseInt(h.minStart))}(typeof d.isRelativeToTimezone===m||d.isRelativeToTimezone)&&(h.minStart=new Date(h.minStart.valueOf()+6e4*h.minStart.getTimezoneOffset()))}if("string"==typeof h.maxStart){try{h.maxStart=new Date(h.maxStart)}catch{h.maxStart=new Date(parseInt(h.maxStart))}(typeof d.isRelativeToTimezone===m||d.isRelativeToTimezone)&&(h.maxStart=new Date(h.maxStart.valueOf()+6e4*h.maxStart.getTimezoneOffset()))}if("string"==typeof h.minFinish){try{h.minFinish=new Date(h.minFinish)}catch{h.minFinish=new Date(parseInt(h.minFinish))}(typeof d.isRelativeToTimezone===m||d.isRelativeToTimezone)&&(h.minFinish=new Date(h.minFinish.valueOf()+6e4*h.minFinish.getTimezoneOffset()))}if("string"==typeof h.maxFinish){try{h.maxFinish=new Date(h.maxFinish)}catch{h.maxFinish=new Date(parseInt(h.maxFinish))}(typeof d.isRelativeToTimezone===m||d.isRelativeToTimezone)&&(h.maxFinish=new Date(h.maxFinish.valueOf()+6e4*h.maxFinish.getTimezoneOffset()))}if(typeof h.predecessors!==m){"string"==typeof h.predecessors&&(h.predecessors=h.predecessors.split(","));for(var g=0;g<h.predecessors.length;g++){var x=h.predecessors[g];if("string"==typeof x&&(h.predecessors[g]=x={item:x}),"string"==typeof x.item){var F=parseInt(x.item)-1;x.item=F>=0&&F<n.length?n[F]:null}"string"==typeof x.lag&&(x.lag=parseFloat(x.lag))}}if(typeof h.schedule!==m&&typeof h.schedule.specialNonworkingDays!==m&&"function"!=typeof d.specialNonworkingDays)for(g=0;g<h.schedule.specialNonworkingDays.length;g++)h.schedule.specialNonworkingDays[g]=lt(new Date(h.schedule.specialNonworkingDays[g].valueOf()-6e4*h.schedule.specialNonworkingDays[g].getTimezoneOffset()));typeof h.wasGridItemContentLoaded!==m&&delete h.wasGridItemContentLoaded}},$=function(n,d,c){var h;if(n.isContentHeightInitialized&&n.isContentHeightAuto)h=d.length>0?"auto":c.itemHeight+"px";else{var g=n.clientHeight-c.headerHeight-2;g<0&&(g=0),h=g+"px",g<c.itemHeight&&(n.isContentHeightInitialized||(n.isContentHeightAuto=!0),h=d.length>0?"auto":c.itemHeight+"px"),n.isContentHeightInitialized=!0}return h},f=function(n,d){if(typeof d.toggleButtonAreaWidth!==m)return d.toggleButtonAreaWidth;var c=0;if(d.isGridVisible)for(var h=0;h<n.length;h++)if((typeof n[h].scheduleChartItem===m||n[h].scheduleChartItem==n[h])&&n[h].indentation>0){c=16;break}return d.toggleButtonAreaWidth=c},W=function(n,d){var c=n.createElement("span");return c.innerHTML=d,c},D=function(n){var d=n.getFullYear(),c=n.getMonth()+1;return c<10&&(c="0"+c),(n=n.getDate())<10&&(n="0"+n),c+"/"+n+"/"+d},z=function(n){var d=D(n),c=n.getHours();return c<10&&(c="0"+c.toString()),(n=n.getMinutes())<10&&(n="0"+n.toString()),d+" "+c+":"+n},M=function(n){return new Date(n.valueOf()+6e4*n.getTimezoneOffset())},J=function(n){var c,h,g,x,F,d=new Date;if(null==n||""==n)return d;if((g=n.indexOf(" "))>=0?(c=n.substr(0,g),x=n.substr(g+1)):(c=n,x="0"),(g=c.indexOf("/"))>=0){for(n=c.substr(0,g);n.length>0&&"0"==n.substr(0,1);)n=n.substr(1);if(n=parseInt(n)-1,(g=(c=c.substr(g+1)).indexOf("/"))>=0){for(h=c.substr(0,g),g=c.substr(g+1);g.length>0&&"0"==g.substr(0,1);)g=g.substr(1);c=parseInt(g)}else h=c,c=d.getFullYear();for(;h.length>0&&"0"==h.substr(0,1);)h=h.substr(1);h=parseInt(h)}else{for(;c.length>0&&"0"==c.substr(0,1);)c=c.substr(1);h=parseInt(c),n=d.getMonth(),c=d.getFullYear()}for((g=x.indexOf(":"))>=0?(F=x.substr(0,g),x=x.substr(g+1)):(F=x,x="0");F.length>1&&"0"==F.substr(0,1);)F=F.substr(1);for(g=parseInt(F);x.length>1&&"0"==x.substr(0,1);)x=x.substr(1);return x=parseInt(x),isNaN(c)||isNaN(n)||isNaN(h)||c<=0||n<0||n>=12||h<1||h>Se[n]+(1!=n||c%400!=0&&(c%100==0||c%4!=0)?0:1)?isNaN(g)||isNaN(x)||g<0||g>=24||x<0||x>=60?d:new Date(d.getFullYear(),d.getMonth(),d.getDate(),g,x,0,0):isNaN(g)||isNaN(x)||g<0||g>=24||x<0||x>=60?new Date(c,n,h,0,0,0,0):new Date(c,n,h,g,x,0,0)},G=function(n){return new Date(n.valueOf()-6e4*n.getTimezoneOffset())},re=function(n,d){var c=n.ownerDocument,h=c.createElementNS("http://www.w3.org/2000/svg","svg");return h.setAttribute("style","width: 12px; height: 12px; vertical-align: initial"),h.setAttribute("focusable","false"),(c=c.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("id","PART_Border"),c.setAttribute("width","12"),c.setAttribute("height","12"),c.setAttribute("style","fill: White; fill-opacity: 0"),h.appendChild(c),n.setAttribute("id","PART_Button"),typeof d.toggleButtonClass!==m&&n.setAttribute("class",d.toggleButtonClass),typeof d.toggleButtonStyle!==m&&n.setAttribute("style",d.toggleButtonStyle),h.appendChild(n),h},K=function(n,d){"object"!=typeof d&&(d={}),Re(d);var c=[{header:"",width:32,isSelection:!0},{header:"Activity Name",width:140,isTreeView:!1},{header:"Assined To",width:120,isTreeView:!1},{header:"Start",width:140},{header:"Finish",width:140}];return c[0].cellTemplate=oe(d,c[0],n),c[1].cellTemplate=Ye(d,c[1],n),c[1].exportCellTemplate=Ye(d,c[1],n,!1),c[2].cellTemplate=$e(d,c[2]),c[2].exportCellTemplate=$e(d,c[2],!1),c[3].cellTemplate=Ve(d,c[3]),c[3].exportCellTemplate=Ve(d,c[3],!1),c[4].cellTemplate=Ke(d,c[4]),c[4].exportCellTemplate=Ke(d,c[4],!1),"Single"!=d.selectionMode&&"Extended"!=d.selectionMode&&"ExtendedFocus"!=d.selectionMode&&c.splice(0,1),c},oe=function(n,d,c){return function(h){return d.isReadOnly?function(n,d){return n.createTextNode(1==d?"\u2713":"")}(h.ganttChartView.ownerDocument,h.isSelected):ge(h,n,c)}},ge=function(n,d){var h,c=n.ganttChartView.ownerDocument;typeof n.selectionInput===m?(h=c.createElement("input"),n.selectionInput=h,h.type="checkbox",h.setAttribute("style","margin: 0px")):h=n.selectionInput,n.isSelected?(h.setAttribute("checked","checked"),h.checked||(h.checked=!0)):h.checked&&(h.checked=!1);var g=function(){fe(n,!!h.checked,d.selectionMode)};return typeof h.changeEventListener!==m&&h.removeEventListener("change",h.changeEventListener,!0),h.addEventListener("change",g,!0),h.changeEventListener=g,c=function(x){13==x.keyCode&&(x.preventDefault(),x.stopPropagation(),g())},typeof h.keyPressEventListener!==m&&h.removeEventListener("keypress",h.keyPressEventListener,!0),h.addEventListener("keypress",c,!0),h.keyPressEventListener=c,h},fe=function(n,d,c){var h;if(n.isSelected=d,se(n,"isSelected",!0,!0),oi(n),typeof n.ganttChartView!==m&&(n.ganttChartView.selectedItem=n,"Extended"!=c&&"ExtendedFocus"!=c&&(n.ganttChartView.selectedItems=[n]),"Extended"!=c&&"ExtendedFocus"!=c))for(h=0;h<n.ganttChartView.items.length;h++)(d=n.ganttChartView.items[h])!=n&&d.isSelected&&(d.isSelected=!1,se(d,"isSelected",!1,!0),oi(d));if(typeof n.ganttChartView!==m&&("Extended"==c||"ExtendedFocus"==c)){for(c=[],h=0;h<n.ganttChartView.items.length;h++)(d=n.ganttChartView.items[h]).isSelected&&c.push(d);n.ganttChartView.selectedItems=c}},Ae=function(n,d){typeof n.ganttChartView!==m&&(n.ganttChartView.currentItem=n),("Focus"==d.selectionMode||"ExtendedFocus"==d.selectionMode)&&(typeof n.scheduleChartItem!==m&&(n=n.scheduleChartItem),n.isSelected||fe(n,!0,d.selectionMode))},Ye=function(n,d,c,h){var g=function(x){return W(x.ganttChartView.ownerDocument,x.content)};return typeof h!==m&&!h||n.isReadOnly||n.isGridReadOnly||n.isContentReadOnly?g:function(x){return d.isReadOnly||typeof x.isReadOnly!==m&&x.isReadOnly?g(x):Be(x,Math.max(0,d.width-x.indentation*x.ganttChartView.settings.indentationLevelWidth-x.ganttChartView.settings.toggleButtonAreaWidth-16),n)}},Be=function(n,d,c){var g,h=n.ganttChartView.ownerDocument;if(typeof n.contentInput===m){g=h.createElement("input"),n.contentInput=g,g.type="text",g.addEventListener("focus",function(){Ae(n,c)},!1);var x=function(){n.content=g.value,se(n,"content",!0,!0),b(n)};typeof g.changeEventListener!==m&&g.removeEventListener("change",g.changeEventListener,!0),g.addEventListener("change",x,!0),g.changeEventListener=x,h=function(F){13==F.keyCode&&(F.preventDefault(),F.stopPropagation(),x())},typeof g.keyPressEventListener!==m&&g.removeEventListener("keypress",g.keyPressEventListener,!0),g.addEventListener("keypress",h,!0),g.keyPressEventListener=h,g.addEventListener("focus",function(){g.style.backgroundColor="White"},!1),g.addEventListener("blur",function(){g.style.backgroundColor="Transparent"},!1)}else g=n.contentInput;return g.value=n.content,h="",n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)&&(h="; font-weight: bold"),g.setAttribute("style","outline: none; background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+h+(c.classic?"":"; font-size: 12px; padding: 1px;")),g},Ve=function(n,d,c){var h=function(g){return g.ganttChartView.ownerDocument.createTextNode(typeof g.start===m||typeof g.isSummaryEnabled!==m&&!g.isSummaryEnabled&&typeof g.isBarVisible!==m&&!g.isBarVisible?"":n.dateTimeFormatter(M(g.start)))};return typeof c!==m&&!c||n.isReadOnly||n.isGridReadOnly?h:function(g){return d.isReadOnly||typeof g.isReadOnly!==m&&g.isReadOnly||typeof g.isSummaryEnabled!==m&&!g.isSummaryEnabled&&typeof g.isBarVisible!==m&&!g.isBarVisible?h(g):He(g,Math.max(0,d.width-16),n)}},He=function(n,d,c){var h=n.ganttChartView.ownerDocument,g=h.createElement("input");n.startInput=g;try{g.type=c.dateTimePickerType}catch{g.type="text"}g.addEventListener("focus",function(){Ae(n,c)},!1),g.addEventListener("focus",function(){g.style.backgroundColor="White"},!1),g.addEventListener("blur",function(){g.style.backgroundColor="Transparent"},!1),typeof n.start!==m&&(g.value=c.dateTimeFormatter(M(n.start))),DlhSoft.Controls.DatePicker&&"text"==c.dateTimePickerType&&c.useDatePicker&&g.addEventListener("focus",function(){if(!n.isWaitingToRefreshGridItem){var v=(c.useTimePicker&&DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).get(g);if(!v||!v.isOpen){var C=0,A=0;try{C=g.selectionStart,A=g.selectionEnd}catch{}(v=(c.useTimePicker&&DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).initialize(g,void 0,{inputStyle:null,isDropDownButtonVisible:!1,defaultTimeOfDay:c.workingDayStart,dateTimeFormatter:c.dateTimeFormatter,dateTimeParser:c.dateTimeParser,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid "+c.border,disabledDateSelector:De(c),disabledTimeSelector:qe(c),calendarSelectorLevels:c.calendarSelectorLevels,months:c.months,daysOfWeek:at(c.daysOfWeek),weekStart:c.weekStartDay},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")).openDropDown(),setTimeout(function(){try{g.selectionStart=C,g.selectionEnd=A}catch{}},100),null==navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)?setTimeout(function(){try{g.focus()}catch{}},100):h.createEvent&&setTimeout(function(){var S=h.createEvent("MouseEvents");S.initEvent("blur",!0,!1),g.dispatchEvent(S)})}}},!0);var x="";n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)&&(x="; font-weight: bold"),g.setAttribute("style","outline: none; background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+x+(c.classic?"":"; font-size: 12px; padding: 1px;")),n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)?g.setAttribute("disabled","true"):g.removeAttribute("disabled");var F=function(){if(!n.hasChildren||typeof n.isSummaryEnabled!==m&&!n.isSummaryEnabled){var C,A,v=n.completedFinish>n.start;c.isTaskEffortPreservedWhenStartChangesInGrid&&(C=Nt(n,c),A=fi(n,c));var S=n.start.valueOf(),O=n.finish.valueOf(),V=n.completedFinish.valueOf(),X=c.dateTimeParser(g.value);(null==X||isNaN(X))&&(X=new Date),X=it(G(X),c,!0,n.isMilestone,Ee(n)),(!c.validateStartFinish||X<=n.finish||n.isMilestone)&&(n.start=X,n.preferredStart=n.start,n.isMilestone&&(n.finish=n.start),n.start.valueOf()!=S&&se(n,"start",!0,!0),n.finish<n.start&&(n.finish=n.start,n.finish.valueOf()!=O&&se(n,"finish",!1,!0)),n.completedFinish<n.start||!v?(n.completedFinish=n.start,n.completedFinish.valueOf()!=V&&se(n,"completedFinish",!1,!0)):n.completedFinish>n.finish&&(n.completedFinish=n.finish,n.completedFinish.valueOf()!=V&&se(n,"completedFinish",!1,!0)),typeof n.completedInput!==m&&(typeof(v=n.completedInput).changeEventListener!==m&&v.removeEventListener("change",v.changeEventListener,!0),delete n.completedInput),c.isTaskEffortPreservedWhenStartChangesInGrid&&(Xi(n,C,c),Yi(n,A,c)))}E(n)};return typeof g.changeEventListener!==m&&g.removeEventListener("change",g.changeEventListener,!0),g.addEventListener("change",F,!0),g.changeEventListener=F,d=function(v){13==v.keyCode&&(v.preventDefault(),v.stopPropagation(),F())},typeof g.keyPressEventListener!==m&&g.removeEventListener("keypress",g.keyPressEventListener,!0),g.addEventListener("keypress",d,!0),g.keyPressEventListener=d,g},Ke=function(n,d,c){var h=function(g){return typeof g.finish===m||typeof g.isMilestone!==m&&1==g.isMilestone&&typeof g.start!==m&&g.finish.valueOf()==g.start.valueOf()||typeof g.isSummaryEnabled!==m&&!g.isSummaryEnabled&&typeof g.isBarVisible!==m&&!g.isBarVisible?g.ganttChartView.ownerDocument.createTextNode(""):g.ganttChartView.ownerDocument.createTextNode(n.dateTimeFormatter(M(g.finish)))};return typeof c!==m&&!c||n.isReadOnly||n.isGridReadOnly?h:function(g){return d.isReadOnly||typeof g.isReadOnly!==m&&g.isReadOnly||typeof g.isSummaryEnabled!==m&&!g.isSummaryEnabled&&typeof g.isBarVisible!==m&&!g.isBarVisible?h(g):ke(g,Math.max(0,d.width-16),n)}},ke=function(n,d,c){var h=n.ganttChartView.ownerDocument,g=h.createElement("input");n.finishInput=g;try{g.type=c.dateTimePickerType}catch{g.type="text"}g.addEventListener("focus",function(){Ae(n,c)},!1),g.addEventListener("focus",function(){g.style.backgroundColor="White"},!1),g.addEventListener("blur",function(){g.style.backgroundColor="Transparent"},!1),typeof n.finish!==m&&(g.value=c.dateTimeFormatter(M(n.finish))),DlhSoft.Controls.DatePicker&&"text"==c.dateTimePickerType&&c.useDatePicker&&g.addEventListener("focus",function(){if(!n.isWaitingToRefreshGridItem){var C=(c.useTimePicker&&DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).get(g);if(!C||!C.isOpen){var A=0,S=0;try{A=g.selectionStart,S=g.selectionEnd}catch{}(C=(c.useTimePicker&&DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).initialize(g,void 0,{inputStyle:null,isDropDownButtonVisible:!1,defaultTimeOfDay:c.workingDayFinish,dateTimeFormatter:c.dateTimeFormatter,dateTimeParser:c.dateTimeParser,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid "+c.border,disabledDateSelector:De(c),disabledTimeSelector:Qe(c,n),calendarSelectorLevels:c.calendarSelectorLevels,months:c.months,daysOfWeek:at(c.daysOfWeek),weekStart:c.weekStartDay},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")).openDropDown(),setTimeout(function(){try{g.selectionStart=A,g.selectionEnd=S}catch{}},100),null==navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)?setTimeout(function(){try{g.focus()}catch{}},100):h.createEvent&&setTimeout(function(){var O=h.createEvent("MouseEvents");O.initEvent("blur",!0,!1),g.dispatchEvent(O)})}}},!0);var x="";typeof n.isMilestone!==m&&1==n.isMilestone&&(x="; visibility: hidden");var F="";n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)&&(F="; font-weight: bold"),g.setAttribute("style","outline: none; background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+x+F+(c.classic?"":"; font-size: 12px; padding: 1px;")),n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)?g.setAttribute("disabled","true"):g.removeAttribute("disabled");var v=function(){if(!n.hasChildren||typeof n.isSummaryEnabled!==m&&!n.isSummaryEnabled){var C=n.finish.valueOf(),A=n.completedFinish.valueOf(),S=c.dateTimeParser(g.value);(null==S||isNaN(S))&&(S=new Date),S=G(S),g.value.length>0&&g.value.indexOf(" ")<0&&0==xt(S)&&(S=rt(S)),S=it(S,c,n.isMilestone,!0,Ee(n)),(!c.validateStartFinish||S>=n.start)&&(n.finish=S,n.finish<n.start&&(n.finish=n.start),n.finish.valueOf()!=C&&se(n,"finish",!0,!0),n.completedFinish<n.start?(n.completedFinish=n.start,n.completedFinish.valueOf()!=A&&se(n,"completedFinish",!1,!0)):n.completedFinish>n.finish&&(n.completedFinish=n.finish,n.completedFinish.valueOf()!=A&&se(n,"completedFinish",!1,!0)),typeof n.completedInput!==m&&(typeof(C=n.completedInput).changeEventListener!==m&&C.removeEventListener("change",C.changeEventListener,!0),delete n.completedInput))}E(n)};return typeof g.changeEventListener!==m&&g.removeEventListener("change",g.changeEventListener,!0),g.addEventListener("change",v,!0),g.changeEventListener=v,d=function(C){13==C.keyCode&&(C.preventDefault(),C.stopPropagation(),v())},typeof g.keyPressEventListener!==m&&g.removeEventListener("keypress",g.keyPressEventListener,!0),g.addEventListener("keypress",d,!0),g.keyPressEventListener=d,g},De=function(n){return function(d){if(d.getDay()<n.workingWeekStart||d.getDay()>n.workingWeekFinish)return!0;if(n.specialNonworkingDays){if("function"==typeof n.specialNonworkingDays)return n.specialNonworkingDays(G(d));d=G(d).valueOf();for(var c=0;c<n.specialNonworkingDays.length;c++)if(d==n.specialNonworkingDays[c].valueOf())return!0}return!1}},qe=function(n){return function(d){return d<n.visibleDayStart||d>=n.visibleDayFinish}},Qe=function(n,d){return function(c){return(lt(d.start)<lt(d.finish)?c<=n.visibleDayStart:c<n.visibleDayStart)||c>n.visibleDayFinish}},at=function(n){if(n){for(var d=[],c=0;c<n.length;c++){var h=(h=n[c]).length>0?h[0].toUpperCase()+(h.length>1?h[1]:""):"";d.push(h)}return d}},$e=function(n,d,c){var h=function(g){return typeof g.assignmentsContent===m||typeof g.isSummaryEnabled!==m&&!g.isSummaryEnabled&&typeof g.isBarVisible!==m&&!g.isBarVisible?g.ganttChartView.ownerDocument.createTextNode(""):W(g.ganttChartView.ownerDocument,g.assignmentsContent)};return typeof c!==m&&!c||n.isReadOnly||n.isGridReadOnly||n.isAssignmentsContentReadOnly?h:function(g){return d.isReadOnly||typeof g.isReadOnly!==m&&g.isReadOnly||typeof g.isSummaryEnabled!==m&&!g.isSummaryEnabled&&typeof g.isBarVisible!==m&&!g.isBarVisible?h(g):ot(g,Math.max(0,d.width-16),n)}},ot=function(n,d,c){var x,h=n.ganttChartView,g=h.ownerDocument;if(typeof n.assignmentsContentInput===m){x=g.createElement("input"),n.assignmentsContentInput=x,x.type="text",x.addEventListener("focus",function(){Ae(n,c)},!1);var F=function(){n.assignmentsContent=x.value,se(n,"assignmentsContent",!0,!0),!n.hasChildren&&n.hasFixedEffort&&(n.fixedEffort=Nt(n,c),n.fixedEffortAssignments=Xt(n)),y(n);var C=null;if(DlhSoft.Controls.MultiSelectorComboBox&&(C=DlhSoft.Controls.MultiSelectorComboBox.get(x)),null!=C&&C.availableChoices.length>0)var A=setInterval(function(){!C.isOpen&&g.activeElement!=n.assignmentsContentInput&&(clearInterval(A),E(n))},100);else E(n)};typeof x.changeEventListener!==m&&x.removeEventListener("change",x.changeEventListener,!0),x.addEventListener("change",function(C){x.dontAutoFocus=!0,F()},!0),x.changeEventListener=F;var v=function(C){13==C.keyCode&&(C.preventDefault(),C.stopPropagation(),typeof x.dontAutoFocus!==m&&delete x.dontAutoFocus,F())};typeof x.keyPressEventListener!==m&&x.removeEventListener("keypress",x.keyPressEventListener,!0),x.addEventListener("keypress",v,!0),x.keyPressEventListener=v,x.addEventListener("focus",function(){x.style.backgroundColor="White"},!1),x.addEventListener("blur",function(){x.style.backgroundColor="Transparent"},!1)}else x=n.assignmentsContentInput;return typeof n.assignmentsContent!==m&&(x.value=n.assignmentsContent),DlhSoft.Controls.MultiSelectorComboBox&&c.useResourceSelector&&x.addEventListener("focus",function(){if(!n.isWaitingToRefreshGridItem){var C=DlhSoft.Controls.MultiSelectorComboBox.get(x);if(!C||!C.isOpen&&C.availableChoices.length>0){typeof(C=c.assignableResources)===m&&(C=ki(h.items),c.assignableResources=C);var A=0,S=0;try{A=x.selectionStart,S=x.selectionEnd}catch{}(C=DlhSoft.Controls.MultiSelectorComboBox.initialize(x,C,void 0,{inputStyle:null,autoAppendAvailableChoices:c.autoAppendAssignableResources,isDropDownButtonVisible:!1,popupStyle:"margin-top: 1px; background-color: White; color: Black; border: 1px solid "+c.border+"; font-size: small; max-height: 188px; overflow-y: auto"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")).openDropDown(),setTimeout(function(){try{x.selectionStart=A,x.selectionEnd=S}catch{}},100),null==navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)?setTimeout(function(){try{x.focus()}catch{}},100):g.createEvent&&setTimeout(function(){var O=g.createEvent("MouseEvents");O.initEvent("blur",!0,!1),x.dispatchEvent(O)})}}},!0),v="",n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)&&(v="; font-weight: bold"),x.setAttribute("style","outline: none; background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+v+(c.classic?"":"; font-size: 12px; padding: 1px;")),x},Tt=function(n){for(var d=0,c=0;c<n.length;c++)d+=n[c].width;return d},Dt=function(n,d,c){for(var h=f(d.items,c),g=0;g<n.length;g++){var x=n[g];x.ganttChartView=d,typeof x.width===m&&(x.width=100),typeof x.minWidth===m&&(x.minWidth=Math.min(x.width,c.minColumnWidth+(x.isTreeView?h:0))),typeof x.maxWidth===m&&(x.maxWidth=c.maxColumnWidth),typeof x.cellTemplate===m&&(x.cellTemplate=function(F){return W(F.ganttChartView.ownerDocument,F.content)}),(c.verticalGridLines||c.verticalGridHeaderLines)&&(x.minWidth<4&&(x.minWidth=4),x.width<x.minWidth&&(x.width=x.minWidth))}},ct=function(n,d,c,h){var g=n.ownerDocument,x=g.createElement("div");typeof c.columnHeaderClass!==m&&x.setAttribute("class",c.columnHeaderClass),typeof c.columnHeaderStyle!==m&&x.setAttribute("style",c.columnHeaderStyle);for(var F=0;F<d.length;F++)x.appendChild(Zt(g,d[F],c,h));n.appendChild(x)},Zt=function(n,d,c,h){var g=n.createElement("div");g.setAttribute("class","chart-table-th"),g.setAttribute("style","overflow - y: hidden; vertical - align: middle; display: table - cell; -wekbit - box - sizing: border - box; -moz - box - sizing: border - box; box - sizing: border - box; height: "+c.headerHeight+"px");var x=n.createElement("div"),F=d.width>=4?2:d.width/2;if(x.setAttribute("style","padding-left: "+F+"px; padding-right: "+F+"px; overflow-x: hidden; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; width: "+d.width+"px"),F=n.createElement("div"),typeof d.headerClass!==m&&F.setAttribute("class",d.headerClass),typeof d.headerStyle!==m&&F.setAttribute("style",d.headerStyle),F.appendChild(W(n,d.header)),x.appendChild(F),g.appendChild(x),c.verticalGridLines||c.verticalGridHeaderLines||d.width>=1&&(typeof c.allowUserToResizeColumns===m||c.allowUserToResizeColumns)&&(typeof d.allowUserToResize===m||d.allowUserToResize)){g.isGripperVisible=!1,h=d.ganttChartView;var v=function(S){g.isGripperVisible=S,g.style.cursor=S?c.classic?"e-resize":"ew-resize":"default",g.style.borderRight=S?"solid 1px "+c.border:c.verticalGridLines||c.verticalGridHeaderLines?"solid 1px "+(c.verticalGridHeaderLines?c.verticalGridHeaderLines:c.verticalGridLines):"",x.style.width=d.width-(g.style.borderRight?1:0)+"px"};if((c.verticalGridLines||c.verticalGridHeaderLines)&&v(),d.width>=1&&(typeof c.allowUserToResizeColumns===m||c.allowUserToResizeColumns)&&(typeof d.allowUserToResize===m||d.allowUserToResize)){var C=c.splitterWidth;g.addEventListener("mouseover",function(S){!DlhSoft.Controls.GanttChartView.isGripperDragging&&!(g.isGripperDragging||typeof S.offsetX===m&&S.currentTarget!=g)&&v((typeof S.offsetX!==m?S.offsetX:S.layerX-S.currentTarget.offsetLeft)>=d.width-C)},!0),g.addEventListener("mousemove",function(S){!DlhSoft.Controls.GanttChartView.isGripperDragging&&!(g.isGripperDragging||typeof S.offsetX===m&&S.currentTarget!=g)&&v((typeof S.offsetX!==m?S.offsetX:S.layerX-S.currentTarget.offsetLeft)>=d.width-C)},!0),x.addEventListener("mouseover",function(S){!DlhSoft.Controls.GanttChartView.isGripperDragging&&!g.isGripperDragging&&typeof S.offsetX===m&&S.currentTarget==x&&v(S.layerX-S.currentTarget.offsetLeft>=d.width-C)},!1),x.addEventListener("mousemove",he(h,x,"mousemove",function(S){!DlhSoft.Controls.GanttChartView.isGripperDragging&&!g.isGripperDragging&&typeof S.offsetX===m&&S.currentTarget==x&&v(S.layerX-S.currentTarget.offsetLeft>=d.width-C)})),g.addEventListener("mousedown",he(h,g,"mousedown",function(S){0!=S.button||!g.isGripperVisible||DlhSoft.Controls.GanttChartView.isGripperDragging||(DlhSoft.Controls.GanttChartView.isGripperDragging=!0,g.isGripperDragging=!0,g.initialGripperDraggingX=S.clientX,g.initialColumnWidth=d.width)},!0),!0),n.addEventListener("mousemove",he(h,n,"mousemove",function(S){g.isGripperDragging&&(d.width=Math.max(d.minWidth,g.initialColumnWidth+(S.clientX-g.initialGripperDraggingX)),typeof d.maxWidth!==m&&d.width>d.maxWidth&&(d.width=d.maxWidth),x.style.width=d.width-1+"px",typeof c.columnWidthChangeHandler!==m&&setTimeout(function(){c.columnWidthChangeHandler(d,d.width)},0),h.isWaitingToRefreshColumns||(h.isWaitingToRefreshColumns=!0,setTimeout(function(){var O=Tt(c.columns);h.gridHeader.style.width=O+"px",h.gridContent.style.width=O+"px",delete h.isWaitingToRefreshColumns,h.refreshGridItems()},0)))},!0),!0),n.addEventListener("mouseup",he(h,n,"mouseup",function(){g.isGripperDragging&&(delete g.isGripperDragging,delete g.initialGripperDraggingX,delete g.initialColumnWidth,v(!1),delete DlhSoft.Controls.GanttChartView.isGripperDragging)},!0),!0),g.addEventListener("mouseout",he(h,g,"mouseout",function(){g.isGripperDragging||v(!1)}))}}return g},Yt=function(n,d){for(var c=-1,h=null,g=null,x=[],F=0;F<n.length;F++){var v=n[F];if(typeof v.scheduleChartItem===m&&(typeof v.isSelected===m&&(v.isSelected=!1),v.isSelected&&(null==g&&(g=v),x.push(v)),typeof v.indentation===m&&(v.indentation=0),0==F&&0!=v.indentation&&(v.indentation=0,se(v,"indentation",!1,!0)),typeof v.isExpanded===m&&(v.isExpanded=!0),null!=h)){var C=h.indentation+1;v.indentation>C&&(v.indentation=C,se(v,"indentation",!1,!0)),h.hasChildren=v.indentation>h.indentation,h.hasChildren&&typeof h.isMilestone!==m&&h.isMilestone&&(h.isMilestone=!1,se(h,"isMilestone",!1,!0))}v.isVisible=c<0||v.indentation<=c,typeof v.scheduleChartItem===m&&(v.isVisible&&!v.isExpanded&&(c=v.indentation),v.isExpanded&&v.indentation==c&&(c=-1),h=v)}null!=h&&(h.hasChildren=!1),d.selectedItem=g,d.selectedItems=x},$t=function(n,d,c){c.isTimingInformationInitialized=!1,c.isBasicTimingInformationInitialized=!1;var x,F,v,h=lt(d.currentTime),g=[];for(F=0;F<n.length;F++){(x=n[F]).index=F;var C=null;for(g.length>0&&(C=g[g.length-1]);null!=C&&x.indentation<=C.indentation;)g.pop(),C=g[g.length-1];if(x.parent=C,x.children=[],C?.children.push(x),!x.hasChildren||typeof x.isSummaryEnabled!==m&&!x.isSummaryEnabled){v=x.start;var A=x.finish,S=x.completedFinish;typeof x.start===m&&(x.start=h,x.preferredStart=x.start),typeof x.finish===m&&(x.finish=typeof x.isMilestone!==m&&x.isMilestone?x.start:rt(h)),typeof x.isSetAsCompleted===m&&(x.isSetAsCompleted=typeof x.completedFinish!==m&&x.completedFinish.valueOf()==x.finish.valueOf()),typeof x.completedFinish===m&&(x.completedFinish=x.start),typeof x.isRelativeToTimezone===m||x.isRelativeToTimezone?(x.start=new Date(x.start.valueOf()-6e4*x.start.getTimezoneOffset()),x.preferredStart=x.start,x.finish=new Date(x.finish.valueOf()-6e4*x.finish.getTimezoneOffset()),x.completedFinish="number"==typeof x.completedFinish?Xe(x.start,x.completedFinish*Je(x.start,x.finish,d,Ee(x)),d,Ee(x)):new Date(x.completedFinish.valueOf()-6e4*x.completedFinish.getTimezoneOffset()),typeof x.baselineStart!==m&&(x.baselineStart=new Date(x.baselineStart.valueOf()-6e4*x.baselineStart.getTimezoneOffset())),typeof x.baselineFinish!==m&&(x.baselineFinish=new Date(x.baselineFinish.valueOf()-6e4*x.baselineFinish.getTimezoneOffset())),typeof x.minStart!==m&&(x.minStart=new Date(x.minStart.valueOf()-6e4*x.minStart.getTimezoneOffset())),typeof x.maxStart!==m&&(x.maxStart=new Date(x.maxStart.valueOf()-6e4*x.maxStart.getTimezoneOffset())),typeof x.minFinish!==m&&(x.minFinish=new Date(x.minFinish.valueOf()-6e4*x.minFinish.getTimezoneOffset())),typeof x.maxFinish!==m&&(x.maxFinish=new Date(x.maxFinish.valueOf()-6e4*x.maxFinish.getTimezoneOffset())),x.isRelativeToTimezone=!1):"number"==typeof x.completedFinish&&(x.completedFinish=Xe(x.start,x.completedFinish*Je(x.start,x.finish,d,Ee(x)),d,Ee(x))),typeof x.minStart!==m&&x.start<x.minStart?x.start=x.minStart:typeof x.maxStart!==m&&x.start>x.maxStart&&(x.start=x.maxStart),typeof x.maxFinish!==m&&x.finish>x.maxFinish?x.finish=x.maxFinish:typeof x.minFinish!==m&&x.finish<x.minFinish&&(x.finish=x.minFinish),x.finish<x.start&&(x.finish=x.start),x.completedFinish<x.start?x.completedFinish=x.start:x.completedFinish>x.finish&&(x.completedFinish=x.finish),typeof x.loadChartItem===m&&(x.start=it(x.start,d,!0,typeof x.isMilestone!==m&&x.isMilestone,Ee(x))),typeof x.dependsOf!==m&&delete x.dependsOf,x.preferredStart=x.start,typeof x.loadChartItem===m&&(x.finish=it(x.finish,d,typeof x.isMilestone!==m&&x.isMilestone,!0,Ee(x)),x.completedFinish=it(x.completedFinish,d,typeof x.isMilestone!==m&&x.isMilestone,!0,Ee(x))),x.finish<x.start&&(x.finish=x.start),x.completedFinish<x.start&&(x.completedFinish=x.start),x.completedFinish>x.finish&&(x.completedFinish=x.finish),(typeof v===m||x.start.valueOf()!=v.valueOf())&&se(x,"start",!1,!0),(typeof A===m||x.finish.valueOf()!=A.valueOf())&&se(x,"finish",!1,!0),(typeof S===m||x.completedFinish.valueOf()!=S.valueOf())&&se(x,"completedFinish",!1,!0)}for(v=0;v<g.length;v++)(typeof(A=g[v]).isSummaryEnabled===m||A.isSummaryEnabled)&&((typeof A.start===m||A.start>x.start)&&(A.start=x.start,se(A,"start",!1,!0)),(typeof A.finish===m||A.finish<x.finish)&&(A.finish=x.finish,se(A,"finish",!1,!0)),(typeof A.completedFinish===m||A.completedFinish.valueOf()!=A.start.valueOf())&&(A.completedFinish=A.start,se(A,"completedFinish",!1,!0)));(null==C||x.indentation>C.indentation)&&g.push(x)}for(c.isBasicTimingInformationInitialized=!0,F=n.length;F-- >0;)(x=n[F]).hasChildren&&(typeof x.isSummaryEnabled===m||x.isSummaryEnabled)&&jt(x);if(d.areTaskDependencyConstraintsEnabled)for(F=0;F<n.length;F++)typeof(x=n[F]).predecessors!==m&&null!=x.predecessors&&x.predecessors.length>0&&Oe(x,n,d,c);else if(d.alwaysHandleInvalidDependencies)for(F=0;F<n.length;F++)typeof(x=n[F]).predecessors!==m&&null!=x.predecessors&&x.predecessors.length>0&&Oe(x,n,d,c,!0);for(F=0;F<n.length;F++)!(x=n[F]).hasChildren&&x.hasFixedEffort&&(x.fixedEffort=Nt(x,d),x.fixedEffortAssignments=Xt(x));c.isTimingInformationInitialized=!0},jt=function(n,d){if(!(n.children.length<=0||typeof n.isSummaryEnabled!==m&&!n.isSummaryEnabled)){typeof d===m&&(d=!0);var c=n.start,h=n.finish,g=n.completedFinish;delete n.start,delete n.finish,delete n.completedFinish;for(var x=0;x<=1;x++){for(var F=0;F<n.children.length;F++){var v=n.children[F];typeof v.isParentSummarizationEnabled!==m&&!v.isParentSummarizationEnabled&&x<1||((typeof n.start===m||n.start>v.start)&&(n.start=v.start),(typeof n.finish===m||n.finish<v.finish)&&(n.finish=v.finish))}if(typeof n.start!==m&&typeof n.finish!==m)break}n.completedFinish=n.start,(typeof c===m||n.start.valueOf()!=c.valueOf())&&se(n,"start",!1,d),(typeof h===m||n.finish.valueOf()!=h.valueOf())&&se(n,"finish",!1,d),(typeof g===m||n.completedFinish.valueOf()!=g.valueOf())&&se(n,"completedFinish",!1,d)}},ri=function(n,d){return n==d||Ft(n,d)||Ft(d,n)},Ft=function(n,d){var c=n.parent;return null!=c&&(!(typeof c.isSummaryEnabled!==m&&!c.isSummaryEnabled||c!=d)||Ft(c,d))},Vt=function(n,d){if(typeof n.predecessors===m)return!1;for(var c=0;c<n.predecessors.length;c++)if(n.predecessors[c].item==d)return!0;return!1},lt=function(n){return new Date(864e5*Math.floor(n.valueOf()/864e5))},xt=function(n){return n.valueOf()-lt(n).valueOf()},Ct=function(n){return(n=Math.floor((n.valueOf()-2592e5)/864e5)%7)<0&&(n+=7),n},Ht=function(n,d){return lt(n),new Date(6048e5*Math.floor((n.valueOf()-2592e5)/6048e5)+2592e5+864e5*d)},Bt=function(n,d){var c=Ht(n,d);return Math.abs(c.valueOf()-n.valueOf())<=36e5?c:new Date(c.valueOf()+6048e5)},ai=function(n){return n.hourWidth*(n.visibleDayFinish-n.visibleDayStart)/36e5},Fe=function(n,d){var g=ai(d),c=ai(d)*(d.visibleWeekFinish-d.visibleWeekStart+1),h=Ht(n,d.weekStartDay);return h=Math.floor((h-d.timelineStart)/6048e5)*c-Math.max(0,d.weekStartDay-d.visibleWeekStart)*g,h=(c=Ct(n))<=d.visibleWeekStart?h+0:c>d.visibleWeekFinish?h+(d.visibleWeekFinish-d.visibleWeekStart+1)*g:h+(c-d.visibleWeekStart)*g,g=xt(n),c>=d.visibleWeekStart&&c<=d.visibleWeekFinish&&(h=g<=d.visibleDayStart?h+0:g>=d.visibleDayFinish?h+(d.visibleDayFinish-d.visibleDayStart)/36e5*d.hourWidth:h+(g-d.visibleDayStart)/36e5*d.hourWidth),h},Wt=function(n,d){for(var c=d.timelineStart.valueOf(),h=ai(d),g=ai(d)*(d.visibleWeekFinish-d.visibleWeekStart+1);n>g;)c+=6048e5,n-=g;for(c+=864e5*Math.max(0,d.visibleWeekStart-d.weekStartDay);n>h;)c+=864e5,n-=h;return c+=d.visibleDayStart,c+=n/d.hourWidth*36e5,new Date(c)},Di=function(n){switch(n.theme){default:return[{scaleType:"NonworkingTime",isHeaderVisible:!1,isHighlightingVisible:!0,highlightingStyle:"stroke-width: 0; fill: #f4f4f4; fill-opacity: 0.65"},{scaleType:"Weeks",headerTextFormat:"Date",headerStyle:"padding: 2.25px"},{scaleType:"Days",headerTextFormat:"DayOfWeekAbbreviation",headerStyle:"padding: 2.25px"},{scaleType:"CurrentTime",isHeaderVisible:!1,isSeparatorVisible:!0,separatorStyle:"stroke: #8bbf8a; stroke-width: 0.5px"}];case"ModernBordered":return[{scaleType:"NonworkingTime",isHeaderVisible:!1,isHighlightingVisible:!0,highlightingStyle:"stroke-width: 0; fill: #f4f4f4; fill-opacity: 0.65"},{scaleType:"Weeks",headerTextFormat:"Date",headerStyle:"padding: 2.25px; border-right: solid 1px White; border-bottom: solid 1px White",isSeparatorVisible:!0,separatorStyle:"stroke: #c8bfe7; stroke-width: 0.5px"},{scaleType:"Days",headerTextFormat:"DayOfWeekAbbreviation",headerStyle:"padding: 2.25px; border-right: solid 1px White"},{scaleType:"CurrentTime",isHeaderVisible:!1,isSeparatorVisible:!0,separatorStyle:"stroke: #8bbf8a; stroke-width: 1px"}];case"Aero":return[{scaleType:"NonworkingTime",isHeaderVisible:!1,isHighlightingVisible:!0,highlightingStyle:"stroke-width: 0; fill: #f4f4f4; fill-opacity: 0.65"},{scaleType:"Weeks",headerTextFormat:"Date",headerStyle:"padding: 2.25px; border-right: solid 1px #c8bfe7; border-bottom: solid 1px #c8bfe7",isSeparatorVisible:!0,separatorStyle:"stroke: #c8bfe7; stroke-width: 0.5px"},{scaleType:"Days",headerTextFormat:"DayOfWeekAbbreviation",headerStyle:"padding: 2.25px; border-right: solid 1px #c8bfe7"},{scaleType:"CurrentTime",isHeaderVisible:!1,isSeparatorVisible:!0,separatorStyle:"stroke: Black; stroke-width: 1px"}]}},Gt=function(n,d){return new Date(Math.floor((n-2592e5).valueOf()/d.updateScale)*d.updateScale+2592e5)},wi=function(n,d,c,h,g){typeof g===m&&(g=!1);var v,C,x=n.ownerDocument,F=0;for(v=0;v<c.length;v++)(typeof(C=c[v]).isHeaderVisible===m||C.isHeaderVisible)&&F++;var A=h.headerHeight;for(F>0&&(A=h.headerHeight/F),v=0;v<c.length;v++)if(C=c[v],(!g||"CurrentTime"==C.scaleType||"FutureTime"==C.scaleType)&&typeof(F=Ei(C,h))!==m){0==F.length&&F.push({start:h.timelineStart,finish:h.timelineFinish});var S=A;typeof C.headerHeight!==m&&(S=C.headerHeight);for(var O=h.timelineStart,V=0;V<F.length;V++){var X=F[V],Z=X.start,_=X.finish;"CurrentTime"!=C.scaleType&&"FutureTime"!=C.scaleType&&"NonworkingTime"!=C.scaleType&&(Z>O&&(typeof C.isHeaderVisible===m||C.isHeaderVisible)&&(Z=O),Z<O&&(Z=O),Z<h.timelineStart&&(Z=h.timelineStart),_>h.timelineFinish&&(_=h.timelineFinish),_<Z&&(_=Z),V==F.length-1&&_<h.timelineFinish&&(typeof C.isHeaderVisible===m||C.isHeaderVisible)&&(_=h.timelineFinish),O=_);var te=Fe(Z,h),ee=Fe(_,h),ce=ee-te;if(!(ce<=0)){if(typeof C.isHeaderVisible===m||C.isHeaderVisible){var ie=Ii(C,X,h),le=x.createElement("div");le.setAttribute("class","chart-view-header"),le.setAttribute("style","float: left; overflow: hidden; width: "+ce+"px; height: "+S+"px");var de=x.createElement("div");de.setAttribute("class",C.headerClass),de.setAttribute("style",C.headerStyle),de.appendChild(W(x,ie)),le.appendChild(de),n.appendChild(le)}X.start=Z,X.finish=_,X=!1,typeof C.isHighlightingVisible!==m&&(X=C.isHighlightingVisible),X&&((X=x.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",te-1),X.setAttribute("y",0),X.setAttribute("width",ce),X.setAttribute("height",0),X.setAttribute("class",C.highlightingClass),X.setAttribute("style",C.highlightingStyle),X.tag="Scale-Highlighting"+("CurrentTime"!=C.scaleType&&"FutureTime"!=C.scaleType?"":"-CurrentTime"),d.appendChild(X)),te=!1,typeof C.isSeparatorVisible!==m&&(te=C.isSeparatorVisible),te&&((te=x.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("x1",ee-.75),te.setAttribute("y1",0),te.setAttribute("x2",ee-.75),te.setAttribute("y2",0),te.setAttribute("class",C.separatorClass),te.setAttribute("style",C.separatorStyle),te.tag="Scale-Separator"+("CurrentTime"!=C.scaleType&&"FutureTime"!=C.scaleType?"":"-CurrentTime"),d.appendChild(te))}}}},Ei=function(n,d){var h,g,c="Custom";switch(typeof n.scaleType!==m&&(c=n.scaleType),c){case"CurrentTime":return[{start:d.timelineStart,finish:d.currentTime}];case"FutureTime":return[{start:d.currentTime,finish:d.timelineFinish}];case"Years":c=[],g=(h=new Date(d.timelineStart.valueOf())).getTimezoneOffset(),h.setMonth(0,1);var x=h.getTimezoneOffset();for(h=new Date(h.valueOf()-6e4*(x-g)-(x>0?864e5:0));g=Zi(h),h<d.timelineFinish;h=g)c.push({start:h,finish:g});return c;case"Months":for(c=[],g=(h=new Date(d.timelineStart.valueOf())).getTimezoneOffset(),h.setDate(1),x=h.getTimezoneOffset(),h=new Date(h.valueOf()-6e4*(x-g)-(x>0?864e5:0));g=Ui(h),h<d.timelineFinish;h=g)c.push({start:h,finish:g});return c;case"Weeks":for(c=[],h=d.timelineStart,g=d.weekStartDay,x=d.visibleWeekStart;Ct(h)!=g;)h=li(h);for(;Ct(h)<x;)h=rt(h);for(h=new Date(h.valueOf());g=_t(h),h<d.timelineFinish;h=g)c.push({start:h,finish:g});return c;case"Days":for(c=[],h=d.timelineStart;g=rt(h),h<d.timelineFinish;h=g)c.push({start:h,finish:g});return c;case"Hours":for(c=[],h=new Date(lt(d.timelineStart).valueOf()+d.visibleDayStart);g=_i(new Date(h.valueOf()+36e5),d.visibleDayFinish,d.visibleDayStart),h<d.timelineFinish;h=g)c.push({start:h,finish:g});return c;case"NonworkingTime":for(c=[],h=Jt(d.timelineStart,d.workingWeekFinish),g=di(h,d.workingWeekStart);h<d.timelineFinish;h=_t(h),g=_t(g))c.push({start:h,finish:g});if(typeof d.specialNonworkingDays!==m)if("function"==typeof d.specialNonworkingDays)for(h=Jt(d.timelineStart,d.workingWeekFinish),g=rt(h);h<d.timelineFinish;h=rt(h),g=rt(g))d.specialNonworkingDays(h)&&c.push({start:h,finish:g});else for(x=0;x<d.specialNonworkingDays.length;x++)g=rt(h=d.specialNonworkingDays[x]),c.push({start:h,finish:g});return c;default:return n.intervals}},_i=function(n,d,c){return xt(n)>d?(n=rt(n),new Date(lt(n).valueOf()+c)):new Date(n.valueOf())},rt=function(n){return new Date(n.valueOf()+864e5)},li=function(n){return new Date(n.valueOf()-864e5)},_t=function(n){return new Date(n.valueOf()+6048e5)},Ui=function(c){var d=c.getTimezoneOffset(),h=(c=new Date(c.valueOf()+(d>0?864e5:0))).getMonth()+1;return h>=12&&(h=0,c.setFullYear(c.getFullYear()+1)),c.setMonth(h,1),h=c.getTimezoneOffset(),new Date(c.valueOf()-6e4*(h-d)-(h>0?864e5:0))},Zi=function(c){var d=c.getTimezoneOffset();(c=new Date(c.valueOf()+(d>0?864e5:0))).setFullYear(c.getFullYear()+1),c.setMonth(0,1);var h=c.getTimezoneOffset();return new Date(c.valueOf()-6e4*(h-d)-(h>0?864e5:0))},Qt=function(n,d){if(typeof d===m)return!1;if("function"==typeof d)return d(n);for(var c=n.valueOf(),h=0;h<d.length;h++)if(d[h].valueOf()==c)return!0;return!1},Jt=function(n,d){for(;Ct(n)!=d;)n=li(n);return rt(n)},di=function(n,d){for(;Ct(n)!=d;)n=rt(n);return new Date(n.valueOf())},Ii=function(n,d,c){var h="Date";if(typeof n.headerTextFormat!==m&&(h=n.headerTextFormat),(n=d.start)<c.timelineStart&&(n=c.timelineStart),"function"==typeof h)return h(n);switch(h){case"Localized":return n.toLocaleString();case"DateTime":return c.dateTimeFormatter(M(n));case"Date":return c.dateFormatter(M(n));case"Hour":return((n=new Date(n.valueOf()+6e4*n.getTimezoneOffset())).getHours()<10?"0":"")+n.getHours();case"DayOfWeek":return c.daysOfWeek[Ct(n)];case"DayOfWeekAbbreviation":return(d=c.daysOfWeek[Ct(n)]).length>0?d[0].toUpperCase():"";case"Day":return((n=new Date(n.valueOf()+6e4*n.getTimezoneOffset())).getDate()<10?"0":"")+n.getDate();case"Month":return c.months[new Date(n.valueOf()+6e4*(n.getTimezoneOffset()+720)).getMonth()];case"MonthAbbreviation":return(d=c.months[new Date(n.valueOf()+6e4*(n.getTimezoneOffset()+720)).getMonth()]).length<=0?"":d[0].toUpperCase()+(d.length>1?d.substr(1,Math.min(3,d.length)-1):"");case"Year":return new Date(n.valueOf()+6e4*(n.getTimezoneOffset()+720)).getFullYear();case"MonthYear":return c.months[new Date(n.valueOf()+6e4*(n.getTimezoneOffset()+720)).getMonth()]+" "+new Date(n.valueOf()+6e4*(n.getTimezoneOffset()+720)).getFullYear();default:return typeof d.headerText!==m?d.headerText:n.toString()}},$i=function(n,d,c){for(var h=0,g=0;g<d.length;g++){var x=d[g],F=h;typeof x.displayRowIndex!==m&&(F=x.displayRowIndex*c.itemHeight),n.appendChild(s(x,F,c)),x.isVisible&&(typeof x.isHidden===m||!x.isHidden)&&(h=Math.max(h,F+c.itemHeight))}},Li=function(n,d,c,h,g,x,F,v){for(var C=0,A=0;A<h.length;A++){var S=h[A];F.isGridVisible&&typeof S.displayRowIndex===m&&n.appendChild(Pi(S,h,g,d,x,F,v));var O=C;typeof S.displayRowIndex!==m&&(O=S.displayRowIndex*F.itemHeight),c.appendChild(r(S,O,F)),S.isVisible&&!(typeof S.isHidden!==m&&S.isHidden)&&(C=Math.max(C,O+F.itemHeight)),S.itemTop=O}e(d,C),setTimeout(function(){hi(h,d,F)},0)},qt=function(n,d){for(var c=0,h=0,g=-1,x=0;x<n.length;x++){var F=n[x];(typeof F.scheduleChartItem===m||F.scheduleChartItem==F)&&F.isVisible&&(typeof F.isHidden===m||!F.isHidden)&&(typeof F.displayRowIndex===m&&h>g?(c+=d.itemHeight,g=h++):(c=Math.max(c,F.itemTop+d.itemHeight),g=F.displayRowIndex))}return c},Kt=function(n,d,c){if(n.isPart)return Kt(n.ganttChartItem,d,c);var h;if(typeof n.displayRowIndex!==m)return n.itemTop=n.displayRowIndex*c.itemHeight;for(var g=h=0;g<d.length;g++){var x=d[g];if(x==n)break;x.isVisible&&(typeof x.isHidden===m||!x.isHidden)&&typeof x.displayRowIndex===m&&(h+=c.itemHeight)}return n.itemTop=h},hi=function(n,d,c){if(typeof c.alternativeItemClass!==m||typeof c.alternativeItemStyle!==m||typeof c.alternativeChartItemClass!==m||typeof c.alternativeChartItemStyle!==m){for(var h=d.chartAreaAlternativeRows;h.childNodes.length>0;)h.removeChild(h.childNodes[0]);var g,x=0,F=!1;for(h.count=x,g=0;g<n.length;g++){var v=n[g];if(v.isVisible&&typeof v.alternativeContentContainer!==m){var C=v.alternativeContentContainer;x%2==1?(typeof c.alternativeItemClass!==m&&C.setAttribute("class",c.alternativeItemClass),typeof c.alternativeItemStyle!==m&&C.setAttribute("style",c.alternativeItemStyle),(typeof c.alternativeChartItemClass!==m||typeof c.alternativeChartItemStyle!==m)&&(!c.isVirtualizing||v.isVirtuallyVisible||!F)&&(F=!0,(typeof h.count===m||x>h.count)&&((v=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",0),v.setAttribute("y",x*c.itemHeight),v.setAttribute("width",d.clientWidth),v.setAttribute("height",c.itemHeight),typeof c.alternativeChartItemClass!==m&&v.setAttribute("class",c.alternativeChartItemClass),typeof c.alternativeChartItemStyle!==m&&v.setAttribute("style",c.alternativeChartItemStyle),v.index=x,h.appendChild(v))),h.count=x):(C.setAttribute("class",""),C.setAttribute("style","")),x++}}for(g=h.childNodes.length;g-- >0;)(n=h.childNodes[g]).index>h.count&&h.removeChild(n)}},Pi=function(n,d,c,h,g,x,F){var v=n.ganttChartView.ownerDocument,C=v.createElement("div");typeof x.itemClass!==m&&C.setAttribute("class",x.itemClass),typeof x.itemStyle!==m&&C.setAttribute("style",x.itemStyle),C.style.display=n.isVisible?"block":"none";var A=v.createElement("div");n.alternativeContentContainer=A;var S=v.createElement("div");try{S.addEventListener("mousedown",he(F,S,"mousedown",function(Z){Z.target!=n.selectionInput&&Ae(n,x)})),S.addEventListener("mouseup",he(F,S,"mouseup",function(Z){Z.target!=n.selectionInput&&Ae(n,x)}))}catch{}n.isSelected&&(typeof x.selectedItemClass!==m&&S.setAttribute("class",x.selectedItemClass),typeof x.selectedItemStyle!==m&&S.setAttribute("style",x.selectedItemStyle));var O=v.createElement("div");typeof n.class!==m&&O.setAttribute("class",n.class),typeof n.style!==m&&O.setAttribute("style",n.style);var V=v.createElement("div");n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)?(typeof x.summaryItemClass!==m&&V.setAttribute("class",x.summaryItemClass),typeof x.summaryItemStyle!==m&&V.setAttribute("style",x.summaryItemStyle)):n.isMilestone?(typeof x.milestoneItemClass!==m&&V.setAttribute("class",x.milestoneItemClass),typeof x.milestoneItemStyle!==m&&V.setAttribute("style",x.milestoneItemStyle)):(typeof x.standardItemClass!==m&&V.setAttribute("class",x.standardItemClass),typeof x.standardItemStyle!==m&&V.setAttribute("style",x.standardItemStyle)),v=v.createElement("div"),n.gridItem=v,n.gridItemContent=V,n.gridItemSelectionContainer=S;var X=x.itemHeight;return(!n.isVisible||typeof n.isHidden!==m&&n.isHidden)&&(X=0),v.setAttribute("style","overflow: hidden; height: "+X+"px;"),ue(v,n),ei(v,n,d,c,h,g,x),V.appendChild(v),O.appendChild(V),S.appendChild(O),A.appendChild(S),C.appendChild(A),n.gridItemContainer=C,(typeof x.isGridRowClickTimeScrollingEnabled===m||x.isGridRowClickTimeScrollingEnabled)&&C.addEventListener("mouseup",he(F,C,"mouseup",function(){var Z;if(typeof n.ganttChartItems===m)Z=n.start;else{Z=null;for(var _=0;_<n.ganttChartItems.length;_++)(null==Z||n.ganttChartItems[_].start<Z)&&(Z=n.ganttChartItems[_].start);Z=Z??n.start}(Z=Fe(Z,x))-(_=Z-8*x.hourWidth)>=h.container.clientWidth/2.5&&(_=Z),h.container.scrollLeft=Math.max(0,_)},!0),!0),C},ei=function(n,d,c,h,g,x,F){var v=d.ganttChartView.ownerDocument;if(!F.isVirtualizing||typeof d.isVirtuallyVisible!==m&&d.isVirtuallyVisible){var C=function(){if(typeof d.gridItemSelectionContainer!==m){var A=d.gridItemSelectionContainer;typeof F.selectedItemClass!==m&&A.setAttribute("class",d.isSelected?F.selectedItemClass:null),typeof F.selectedItemStyle!==m&&A.setAttribute("style",d.isSelected?F.selectedItemStyle:null)}typeof d.gridItemContent!==m&&((A=d.gridItemContent).setAttribute("class",""),A.setAttribute("style",""),d.hasChildren&&(typeof d.isSummaryEnabled===m||d.isSummaryEnabled)?(typeof F.summaryItemClass!==m&&A.setAttribute("class",F.summaryItemClass),typeof F.summaryItemStyle!==m&&A.setAttribute("style",F.summaryItemStyle)):d.isMilestone?(typeof F.milestoneItemClass!==m&&A.setAttribute("class",F.milestoneItemClass),typeof F.milestoneItemStyle!==m&&A.setAttribute("style",F.milestoneItemStyle)):(typeof F.standardItemClass!==m&&A.setAttribute("class",F.standardItemClass),typeof F.standardItemStyle!==m&&A.setAttribute("style",F.standardItemStyle))),A=[];var S=null;try{S=v.activeElement}catch{}for(;null!=S&&S!=d.gridItem;)A.push(S),S=S.parentNode;var O=-1;for(S=n.childNodes.length;S-- >0;)if(A.indexOf(n.childNodes[S])>=0){O=S;break}for(S=n.childNodes.length;S-- >0;)n.removeChild(n.childNodes[S]);for(S=0;S<h.length;S++)n.appendChild(Fi(d,c,h[S],g,x,F));typeof d.ganttChartView.draggingItem===m&&O>=0&&setTimeout(function(){try{for(var V=n.childNodes[O];"input"!=V.nodeName&&"textarea"!=V.nodeName&&"label"!=V.nodeName&&"select"!=V.nodeName&&"button"!=V.nodeName&&V.childNodes.length>0;)V=V.childNodes[0];V&&V.dontAutoFocus?delete V.dontAutoFocus:setTimeout(function(){try{V.focus()}catch{}},0)}catch{}},0)};d.wasGridItemContentLoaded?setTimeout(C,0):(C(),d.wasGridItemContentLoaded=!0)}},ti=function(n){typeof n.isWaitingToRefreshGridItem===m&&(n.isWaitingToRefreshGridItem=!0,setTimeout(function(){typeof n.gridItem!==m&&ei(n.gridItem,n,n.ganttChartView.items,n.ganttChartView.settings.columns,n.ganttChartView.chartContent,n.ganttChartView.settings.toggleButtonAreaWidth,n.ganttChartView.settings),delete n.isWaitingToRefreshGridItem},0))},oi=function(n){typeof n.gridItem!==m&&function(n,d,c,h,g,x,F){var v=d.ganttChartView.ownerDocument;(!F.isVirtualizing||typeof d.isVirtuallyVisible!==m&&d.isVirtuallyVisible)&&setTimeout(function(){if(typeof d.gridItemSelectionContainer!==m){var C=d.gridItemSelectionContainer;typeof F.selectedItemClass!==m&&C.setAttribute("class",d.isSelected?F.selectedItemClass:null),typeof F.selectedItemStyle!==m&&C.setAttribute("style",d.isSelected?F.selectedItemStyle:null)}C=[];var A=null;try{A=v.activeElement}catch{}for(;null!=A&&A!=d.gridItem;)C.push(A),A=A.parentNode;var S=-1;for(A=n.childNodes.length;A-- >0;)if(n.childNodes[A].isSelection&&C.indexOf(n.childNodes[A])>=0){S=A;break}for(A=n.childNodes.length;A-- >0;)n.childNodes[A].isSelection&&n.removeChild(n.childNodes[A]);for(A=0;A<h.length;A++)h[A].isSelection&&A<n.childNodes.length&&n.insertBefore(Fi(d,c,h[A],g,x,F),n.childNodes[A]);typeof d.ganttChartView.draggingItem===m&&S>=0&&setTimeout(function(){try{for(var O=n.childNodes[S];"input"!=O.nodeName&&"textarea"!=O.nodeName&&"label"!=O.nodeName&&"select"!=O.nodeName&&"button"!=O.nodeName&&O.childNodes.length>0;)O=O.childNodes[0];O&&O.dontAutoFocus?delete O.dontAutoFocus:setTimeout(function(){try{O.focus()}catch{}},0)}catch{}},0)},0)}(n.gridItem,n,n.ganttChartView.items,n.ganttChartView.settings.columns,n.ganttChartView.chartContent,n.ganttChartView.settings.toggleButtonAreaWidth,n.ganttChartView.settings)},Fi=function(n,d,c,h,g,x){var F=n.ganttChartView.ownerDocument,v=F.createElement("div"),C=0;1==c.isTreeView&&(C=x.indentationLevelWidth*n.indentation),v.setAttribute("class","cell-item"),v.setAttribute("style","overflow: hidden; vertical-align: middle; display: table-cell; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; margin: 0px; padding: 0px; width: "+c.width+"px; height: "+x.itemHeight+"px; padding-left: "+C+"px");var A=F.createElement("div");typeof c.cellClass!==m?A.setAttribute("class",c.cellClass):typeof x.cellClass!==m&&A.setAttribute("class",x.cellClass),typeof c.cellStyle!==m?A.setAttribute("style",c.cellStyle):typeof x.cellStyle!==m&&A.setAttribute("style",x.cellStyle);var S=F.createElement("div");return S.setAttribute("style","white-space: nowrap; overflow: hidden; margin: 0px; padding: 0px; width: "+(c.width-C-16)+"px"),1==c.isTreeView&&((C=F.createElement("div")).setAttribute("style","display: inline-block; width: "+g+"px"),n.hasChildren&&((g=F.createElement("div")).setAttribute("style","cursor: default; padding-left: 1px; font-size: 12px; display: inline-block"),F=x.collapsedToggleButtonTemplate,n.isExpanded&&(F=x.expandedToggleButtonTemplate),F=F(),g.appendChild(F),Vi(g,n,d,F,h,null,null,x),C.appendChild(g)),S.appendChild(C)),n=c.cellTemplate(n),S.appendChild(n),A.appendChild(S),v.appendChild(A),v.isSelection=c.isSelection,v},Hi=function(n,d){return function(){var c=n.ownerDocument.createElementNS("http://www.w3.org/2000/svg","polygon");return c.setAttribute("points","3.5,2.5 3.5,11.5 10.5,6.5"),re(c,d)}},Mi=function(n,d){return function(){var c=n.ownerDocument.createElementNS("http://www.w3.org/2000/svg","polygon");return c.setAttribute("points","2.5,3.5 11.5,3.5 6.5,10.5"),re(c,d)}},Vi=function(n,d,c,h,g,x,F,v){(typeof x===m||null==x)&&(x=h.querySelector("#PART_Button")),null!=x&&Oi(x,x,v,d.ganttChartView),(typeof F===m||null==F)&&(F=h.querySelector("#PART_Border")),null!=F&&Oi(F,x,v,d.ganttChartView),c={toggleButton:n,item:d,items:c,content:h,chartContent:g,settings:v},null!=x&&(x.tag=c,(typeof v.isExport===m||!v.isExport)&&x.addEventListener("mouseup",he(d.ganttChartView,x,"mouseup",gi,!0),!0)),null!=F&&(F.tag=c,(typeof v.isExport===m||!v.isExport)&&F.addEventListener("mouseup",he(d.ganttChartView,F,"mouseup",gi,!0),!0)),n.tag=c,null==x&&null==F&&(typeof v.isExport===m||!v.isExport)&&n.addEventListener("mouseup",he(d.ganttChartView,n,"mouseup",gi,!0),!0),h.addEventListener("keypress",he(d.ganttChartView,h,"keypress",function(C){32==C.keyCode&&(C.preventDefault(),C.stopPropagation(),Mt(d,!d.isExpanded,!0))},!0),!0),d.toggleButton=n},Oi=function(n,d,c,h){typeof c.isExport!==m&&c.isExport||(n.addEventListener("mouseover",he(h,n,"mouseover",function(){typeof c.toggleButtonHoveringClass!==m&&d.setAttribute("class",c.toggleButtonHoveringClass),typeof c.toggleButtonHoveringStyle!==m&&d.setAttribute("style",c.toggleButtonHoveringStyle)},!0),!0),n.addEventListener("mouseout",he(h,n,"mouseout",function(){d.setAttribute("class",c.toggleButtonClass),d.setAttribute("style",c.toggleButtonStyle)},!0),!0))},gi=function(n){n.stopPropagation(),Mt(n=n.target.tag.item,!n.isExpanded,!0)},Mt=function(n,d,c,h){n.isExpanded!=d&&(n.isExpanded=d,(typeof h===m||h)&&se(n,"isExpanded",c,!0),mi(n))},mi=function(n,d){if(typeof n.toggleButton===m)(typeof d===m||d)&&setTimeout(function(){mi(n,!1)},0);else{var c=n.toggleButton,h=(C=c.tag).settings,g=h.expandedToggleButtonTemplate,x=h.collapsedToggleButtonTemplate;n.isExpanded&&(x=g),x=(g=x()).querySelector("#PART_Button");var F=g.querySelector("#PART_Border");c.replaceChild(g,C.content),C.content=g;var C,v=C.items;if(Vi(c,n,v,g,C=C.chartContent,x,F,h),n.isVisible&&!(typeof n.isHidden!==m&&n.isHidden)&&ji(v,n,C,h),y(n),hi(v,C,h),typeof(c=n.scheduleChartView)!==m)for(h=n.scheduleChartIndex;h<c.scheduleChartItems.length;h++)if(typeof(C=c.scheduleChartItems[h]).ganttChartItems!==m)for(g=0;g<C.ganttChartItems.length;g++)(x=C.ganttChartItems[g]).displayRowIndex=C.itemTop/c.settings.itemHeight,c.refreshChartItem(x)}},ji=function(n,d,c,h){var A,S,O,g=-1,x=!1,F=!1,v=!1,C=0,V=[];for(S=0;S<n.length;S++){(O=n[S])==d?(x=O.isExpanded,g=O.indentation):O.indentation<=g&&(v=!0);var X=O.chartItem,Z=O.chartPredecessorItems;if(F&&!v){if(O.scheduleChartItem&&O.scheduleChartItem!=O)A=O.scheduleChartItem.isVisible;else if(x){A=!0;for(var _=O.parent;null!=_;){if(!_.isVisible||!_.isExpanded){A=!1;break}_=_.parent}}else A=!1;O.isVisible!=A&&(O.isVisible=x,se(O,"isVisible",!1,!0),A=h.itemHeight,(!O.isVisible||typeof O.isHidden!==m&&O.isHidden)&&(A=0),typeof O.gridItem!==m&&(O.gridItem.style.height=A+"px"),typeof O.gridItemContainer!==m&&(O.gridItemContainer.style.display=A>0?"block":"none"),A="visible",(!O.isVisible||typeof O.isHidden!==m&&O.isHidden)&&(A="hidden"),X.setAttribute("style","visibility: "+A),Z.setAttribute("style","visibility: "+A))}if(typeof O.displayRowIndex===m&&(X.setAttribute("transform","translate(0, "+C+")"),Z.setAttribute("transform","translate(0, "+C+")"),R(O,C)),O==d&&(F=!0),A=h.itemHeight,(!O.isVisible||typeof O.isHidden!==m&&O.isHidden)&&(A=0),O.itemTop!=C&&(O.itemTop=C),typeof O.displayRowIndex===m&&(C+=A),O.predecessors&&O.predecessors.length>0&&V.indexOf(O)<0)for(V.push(O),X=0;X<O.predecessors.length;X++)V.indexOf(Z=O.predecessors[X].item)<0&&V.push(Z)}if(e(c,C),t(n,d),h.areTaskDependenciesVisible)for(S=0;S<V.length;S++)t(n,V[S]);ui(n,c.container,h)},R=function(n,d){typeof n.parts===m||n.parts.length<=0||setTimeout(function(){for(var c=0;c<n.parts.length;c++){var h=n.parts[c];h.itemTop=d,typeof h.chartItem!==m&&(h.chartItem.setAttribute("transform","translate(0, "+d+")"),h.chartPredecessorItems.setAttribute("transform","translate(0, "+d+")"),h.chartItem.style.visibility=n.chartItem.style.visibility,h.chartPredecessorItems.style.visibility=n.chartItem.style.visibility,typeof h.isInternallyHidden!==m&&(delete h.isInternallyHidden,h.chartItem.style.display="inline"))}},0)},e=function(n,d){d<n.availableHeight&&(d=n.availableHeight),n.style.height=d+"px";var c=n.chartArea;c.style.height=d+"px";for(var h=0;h<c.childNodes.length;h++){var g=c.childNodes[h];if(typeof g.tag!==m)switch(g.tag){case"Scale-Highlighting":case"Scale-Highlighting-CurrentTime":g.setAttribute("height",d);break;case"Scale-Separator":case"Scale-Separator-CurrentTime":g.setAttribute("y2",d)}}},t=function(n,d){var h,g,x,F,c=[];if(typeof d.successors===m)for(d.successors=[],g=0;g<n.length;g++)if((h=n[g])!=d&&typeof h.predecessors!==m&&0!=h.predecessors.length)for(x=0;x<h.predecessors.length;x++)if(h.predecessors[x].item==d){d.successors.push(h);break}for(g=0;g<d.successors.length;g++){var v=d.successors[g];if(typeof v.predecessors!==m&&v.predecessors.length>0)for(x=0;x<v.predecessors.length;x++){var C=v.predecessors[x].item;if(typeof C!==m){for(h=!0,F=0;F<c;F++)if(C==c[F]){h=!1;break}h&&(a(C.chartPredecessorItems,C,C.ganttChartView.settings),l(C.chartItem,C,C.ganttChartView.settings),c.push(C))}}if(typeof v.predecessors!==m&&v.predecessors.length>0){for(h=!0,F=0;F<c;F++)if(typeof v!==m&&v==c[F]){h=!1;break}h&&(a(v.chartPredecessorItems,v,v.ganttChartView.settings),l(v.chartItem,v,v.ganttChartView.settings),c.push(v))}}},s=function(n,d,c){var h=n.ganttChartView.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");n.chartPredecessorItems=h;var g="visible";return(!n.isVisible||typeof n.isHidden!==m&&n.isHidden)&&(g="hidden"),h.setAttribute("style","visibility: "+g+"; -ms-touch-action: pinch-zoom; touch-action: pinch-zoom"),h.setAttribute("transform","translate(0, "+d+")"),typeof n.isInternallyHidden!==m&&n.isInternallyHidden&&(h.style.display="none"),a(h,n,c),h},r=function(n,d,c){var h=n.ganttChartView.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");n.chartItem=h;var g="visible";(!n.isVisible||typeof n.isHidden!==m&&n.isHidden)&&(g="hidden"),h.setAttribute("style","visibility: "+g+"; -ms-touch-action: pinch-zoom; touch-action: pinch-zoom"),h.setAttribute("transform","translate(0, "+d+")"),typeof n.isInternallyHidden!==m&&n.isInternallyHidden&&(h.style.display="none"),R(n,d),l(h,n,c);try{h.addEventListener("mousedown",he(n.ganttChartView,h,"mousedown",function(){Ae(n,c)})),h.addEventListener("mouseup",he(n.ganttChartView,h,"mouseup",function(){Ae(n,c)})),h.addEventListener("touchstart",he(n.ganttChartView,h,"touchstart",function(){Ae(n,c)})),h.addEventListener("touchend",he(n.ganttChartView,h,"touchend",function(){Ae(n,c)}))}catch{}return h},a=function(n,d,c){for(var h=n.childNodes.length;h-- >0;)n.removeChild(n.childNodes[h]);if(d.predecessors)for(h=0;h<d.predecessors.length;h++)o(h,n,d,d.predecessors[h],c)},o=function(n,d,c,h,g){if((!g.isVirtualizing||typeof c.isVirtuallyVisible!==m&&c.isVirtuallyVisible)&&(typeof c.isBarVisible===m||c.isBarVisible)&&g.areTaskDependenciesVisible&&!((typeof c.ganttChartView===m||c.ganttChartView.items.indexOf(h.item))<0||!h.item.isVisible||typeof h.item.isHidden!==m&&h.item.isHidden||typeof h.item.isBarVisible!==m&&!h.item.isBarVisible)){var x=g.dependencyLineTemplate(c,h);x.predecessorIndex=n,x.addEventListener("click",he(c.ganttChartView,x,"click",function(F){g.dependencyLineClickHandler&&g.dependencyLineClickHandler(c.predecessors[this.predecessorIndex],c,F)})),x.addEventListener("dblclick",he(c.ganttChartView,x,"dblclick",function(F){g.dependencyLineDoubleClickHandler&&g.dependencyLineDoubleClickHandler(c.predecessors[this.predecessorIndex],c,F)})),typeof g.predecessorItemContextMenuHandler!==m?x.addEventListener("contextmenu",he(c.ganttChartView,x,"contextmenu",function(F){g.predecessorItemContextMenuHandler(F,c.predecessors[this.predecessorIndex],c)})):!g.isReadOnly&&!g.isChartReadOnly&&!g.areTaskPredecessorsReadOnly&&(typeof c.isReadOnly===m||!c.isReadOnly)&&x.addEventListener("contextmenu",he(c.ganttChartView,x,"contextmenu",function(F){if(confirm("Are you sure you want to remove the predecessor?")){for(var v=[],C=0;C<c.predecessors.length;C++)if(C!=this.predecessorIndex){var A=c.predecessors[C];delete A.item.successors,v.push(A)}c.predecessors=v,se(c,"predecessors",!0,!0),a(c.chartPredecessorItems,c,g),l(c.chartItem,c,g),t(c.ganttChartView.items,c)}F.preventDefault()})),d.appendChild(x),g.isDependencyToolTipVisible&&(!g.useInlineToolTips||!g.useInlineToolTipsForDependencies)&&(n=g.predecessorItemTemplate,typeof h.template!==m&&(n=h.template),x.appendChild(n(c,h)))}},l=function(n,d,c){for(var h=n.childNodes.length;h-- >0;)n.removeChild(n.childNodes[h]);if((!c.isVirtualizing||typeof d.isVirtuallyVisible!==m&&d.isVirtuallyVisible)&&(typeof d.isBarVisible===m||d.isBarVisible)){if(h=c.standardTaskTemplate,typeof d.standardTaskTemplate!==m&&(h=d.standardTaskTemplate),d.hasChildren&&(typeof d.isSummaryEnabled===m||d.isSummaryEnabled)?(h=c.summaryTaskTemplate,typeof d.summaryTaskTemplate!==m&&(h=d.summaryTaskTemplate)):d.isMilestone&&(h=c.milestoneTaskTemplate,typeof d.milestoneTaskTemplate!==m&&(h=d.milestoneTaskTemplate)),typeof d.taskTemplate!==m&&(h=d.taskTemplate),typeof c.internalPreTaskTemplate!==m){var g=c.internalPreTaskTemplate(d);null!=g&&n.appendChild(g)}(h=h(d)).addEventListener("contextmenu",he(d.ganttChartView,h,"contextmenu",function(x){typeof c.itemContextMenuHandler!==m?c.itemContextMenuHandler(x,d):x.preventDefault()})),n.appendChild(h),typeof c.internalExtraTaskTemplate!==m&&null!=(g=c.internalExtraTaskTemplate(d))&&n.appendChild(g),typeof c.extraTaskTemplate!==m&&null!=(g=c.extraTaskTemplate(d))&&n.appendChild(g),c.areTaskAssignmentsVisible&&(n=c.assignmentsTemplate(d),h.appendChild(n)),c.isTaskToolTipVisible&&!c.useInlineToolTips&&(n=c.itemTemplate,typeof d.template!==m&&(n=d.template),h.appendChild(n(d)))}},u=function(n){for(var d=0;d<n.length;d++)k(n[d])},y=function(n){(!n.ganttChartView.settings.isVirtualizing||typeof n.isVirtuallyVisible!==m&&n.isVirtuallyVisible)&&typeof n.isWaitingToRefreshChartItem===m&&(n.isWaitingToRefreshChartItem=!0,setTimeout(function(){a(n.chartPredecessorItems,n,n.ganttChartView.settings),l(n.chartItem,n,n.ganttChartView.settings);var d=Kt(n,n.ganttChartView.items,n.ganttChartView.settings);n.chartItem.setAttribute("transform","translate(0, "+d+")"),n.chartPredecessorItems.setAttribute("transform","translate(0, "+d+")"),R(n,d),delete n.isWaitingToRefreshChartItem},0))},b=function(n){(!n.ganttChartView.settings.isVirtualizing||typeof n.isVirtuallyVisible!==m&&n.isVirtuallyVisible)&&(typeof n.isWaitingToRefreshGridItem!==m||typeof n.isWaitingToRefreshChartItem!==m?(typeof n.isWaitingToRefreshGridItem===m&&ti(n),typeof n.isWaitingToRefreshChartItem===m&&y(n)):(n.isWaitingToRefreshGridItem=!0,n.isWaitingToRefreshChartItem=!0,setTimeout(function(){typeof n.gridItem!==m&&ei(n.gridItem,n,n.ganttChartView.items,n.ganttChartView.settings.columns,n.ganttChartView.chartContent,n.ganttChartView.settings.toggleButtonAreaWidth,n.ganttChartView.settings),a(n.chartPredecessorItems,n,n.ganttChartView.settings),l(n.chartItem,n,n.ganttChartView.settings);var d=Kt(n,n.ganttChartView.items,n.ganttChartView.settings);n.chartItem.setAttribute("transform","translate(0, "+d+")"),n.chartPredecessorItems.setAttribute("transform","translate(0, "+d+")"),R(n,d),delete n.isWaitingToRefreshGridItem,delete n.isWaitingToRefreshChartItem},0)))},w=function(n){(!n.ganttChartView.settings.isVirtualizing||typeof n.isVirtuallyVisible!==m&&n.isVirtuallyVisible)&&typeof n.isWaitingToRefreshPredecessorItems===m&&(n.isWaitingToRefreshPredecessorItems=!0,setTimeout(function(){t(n.ganttChartView.items,n),delete n.isWaitingToRefreshPredecessorItems},0))},k=function(n){(!n.ganttChartView.settings.isVirtualizing||typeof n.isVirtuallyVisible!==m&&n.isVirtuallyVisible)&&(typeof n.isWaitingToRefreshGridItem!==m||typeof n.isWaitingToRefreshChartItem!==m||typeof n.isWaitingToRefreshPredecessorItems!==m?(typeof n.isWaitingToRefreshGridItem===m&&ti(n),typeof n.isWaitingToRefreshChartItem===m&&y(n),typeof n.isWaitingToRefreshPredecessorItems===m&&w(n)):(n.isWaitingToRefreshGridItem=!0,n.isWaitingToRefreshChartItem=!0,n.isWaitingToRefreshPredecessorItems=!0,setTimeout(function(){typeof n.gridItem!==m&&ei(n.gridItem,n,n.ganttChartView.items,n.ganttChartView.settings.columns,n.ganttChartView.chartContent,n.ganttChartView.settings.toggleButtonAreaWidth,n.ganttChartView.settings),a(n.chartPredecessorItems,n,n.ganttChartView.settings),l(n.chartItem,n,n.ganttChartView.settings);var d=Kt(n,n.ganttChartView.items,n.ganttChartView.settings);n.chartItem.setAttribute("transform","translate(0, "+d+")"),n.chartPredecessorItems.setAttribute("transform","translate(0, "+d+")"),R(n,d),t(n.ganttChartView.items,n),delete n.isWaitingToRefreshGridItem,delete n.isWaitingToRefreshChartItem,delete n.isWaitingToRefreshPredecessorItems},0)))},E=function(n){for(k(n),n=n.parent;null!=n;)jt(n),k(n),n=n.parent},I=function(n,d,c,h){Te(d,h),Yt(d,c),$t(d,h,c),(c=n.index-1)>=0&&E(d[c]),E(n),(c=n.index+1)<d.length&&E(d[c])},P=function(n,d){var c=d.toggleButtonAreaWidth;return delete d.toggleButtonAreaWidth,f(n,d),d.toggleButtonAreaWidth!=c},B=function(n,d,c,h,g){for(c.initializedItems.push(d),d.ganttChartView=c,d.isVirtuallyVisible=!0;n>0&&h[n-1].isPart;)n--;for(var x=0;x<h.length;x++)if(h[x].parts&&h[x].parts.indexOf(d)>=0){d.isPart=!0,d.ganttChartItem=h[x];break}var C,F=n<h.length?h[n]:null;if(null==F||F.isPart?d.indentation>(F=null!=(F=n>0?h[n-1]:null)?F.indentation+1:0)&&(d.indentation=F):(typeof d.indentation===m||d.indentation<F.indentation-1||d.indentation>F.indentation)&&(d.indentation=F.indentation),Te([d],g),h.splice(n,0,d),Yt(h,c),typeof d.parts!==m)for(typeof d.isGroup===m&&(d.isGroup=!0,d.isSummaryEnabled=!1),Te(d.parts,g),(d.isGroup||typeof d.isBarVisible===m)&&(d.isBarVisible=!1),x=0;x<d.parts.length;x++){var v=d.parts[x];v.ganttChartView=d.ganttChartView,v.ganttChartItem=d,v.isPart=!0,v.isVirtuallyVisible=!0,(d.isGroup||typeof v.indentation===m)&&(v.indentation=0),(d.isGroup||typeof v.displayRowIndex===m)&&(v.displayRowIndex=-1),v.isInternallyHidden=!0,h.indexOf(v)>=0||h.splice(h.length,0,v)}$t(h,g,c),g.isGridVisible&&!d.isPart&&typeof d.displayRowIndex===m&&(x=null,n<h.length-1&&((F=h[n+1]).isPart||(C=F.itemTop,typeof F.gridItemContainer!==m&&(x=F.gridItemContainer))),c.gridContent.insertBefore(Pi(d,h,g.columns,c.chartContent,g.toggleButtonAreaWidth,g,c),x)),typeof C===m&&(C=qt(h,g)-g.itemHeight),F=C,typeof d.displayRowIndex!==m&&(F=d.displayRowIndex*g.itemHeight);var A=c.chartContent.chartArea;if(A.appendChild(r(d,F,g)),d.isVisible&&!(typeof d.isHidden!==m&&d.isHidden)&&(C=Math.max(C,F+g.itemHeight)),d.itemTop=F,typeof d.parts!==m)for(x=0;x<d.parts.length;x++)A.appendChild(r(v=d.parts[x],F,g));if(A.appendChild(s(d,F,g)),typeof d.displayRowIndex===m)for(x=n+1;x<h.length;x++)F=C,typeof(v=h[x]).displayRowIndex!==m&&(F=v.displayRowIndex*g.itemHeight),v.isVisible&&!(typeof v.isHidden!==m&&v.isHidden)&&(C=Math.max(C,F+g.itemHeight)),v.itemTop=F,y(v),t(h,v);for(x=n+1;x<h.length;x++)ti(h[x]);c.isContentHeightInitialized&&c.isContentHeightAuto&&(n=$(c,h,g),c.gridContentContainer.style.height=n,c.chartContentContainer.style.height=n),e(c.chartContent,qt(h,g)),hi(h,c.chartContent,g),P(h,g)&&u(h),I(d,h,c,g),ui(h,c.chartContentContainer,g)},U=function(n,d,c,h){if(typeof n.parts!==m)for(var g=0;g<n.parts.length;g++)U(n.parts[g],d,c,h);var x=null,F=!1;if((g=n.index)>0){for(x=c[g-1];null!=x.parent;)x=x.parent;F=x.isExpanded,n.hasChildren&&Mt(x,n.isExpanded,!1,!0),x.indentation>=n.indentation&&(x=null)}else c[0].isExpanded||Mt(c[0],!0,!1,!0);var v=g+1<c.length?c[g+1]:null;null!=v&&!v.isExpanded&&v.indentation>n.indentation&&Mt(v,!0,!1,!0);var A,S,O,C=null!=v?v.indentation:null;for(S=0;S<d.items.length;S++)if(null!=(A=d.items[S]).predecessors)for(O=A.predecessors.length;O-- >0;)A.predecessors[O].item==n&&(A.predecessors.splice(O,1),se(A,"predecessors",!1,!0),b(A),w(A));var V=n.itemTop;if(c.splice(g,1),Yt(c,d),$t(c,h,d),h.isGridVisible&&typeof n.displayRowIndex===m&&typeof n.gridItemContainer!==m&&d.gridContent.removeChild(n.gridItemContainer),S=d.chartContent.chartArea,typeof n.chartItem!==m&&S.removeChild(n.chartItem),null!=(v=g<c.length?c[g]:null)&&v.indentation<C)for(se(v,"indentation",!1,!0),v.predecessors=[],se(v,"predecessors",!1,!0),S=0;S<c.length;S++)if((A=c[S])!=v&&typeof A.predecessors!==m&&0!=A.predecessors.length)for(O=0;O<A.predecessors.length;O++)A.predecessors[O].item==v&&(A.predecessors.splice(O--,1),se(A,"predecessors",!1,!0),b(A),w(A));for(null!=x&&Mt(x,F,!1,!0),S=g;S<c.length;S++)n=c[S],actualItemTop=V,typeof n.displayRowIndex!==m&&(actualItemTop=n.displayRowIndex*h.itemHeight),n.isVisible&&!(typeof n.isHidden!==m&&n.isHidden)&&(V=Math.max(V,actualItemTop+h.itemHeight)),n.itemTop=actualItemTop,b(n);if(e(d.chartContent,qt(c,h)),hi(c,d.chartContent,h),P(c,h)&&u(c),g>=c.length&&(g=c.length-1),g>=0){for(S=0;S<g;S++)y(c[S]);I(c[g],c,d,h)}ui(c,d.chartContentContainer,h)},j=function(n,d){return function(g){typeof g===m&&(g=n);var h=g.ownerDocument,x=(g=h.createElementNS("http://www.w3.org/2000/svg","defs"),h.createElementNS("http://www.w3.org/2000/svg","linearGradient"));x.setAttribute("id","BlueGradient"),x.setAttribute("x1","0%"),x.setAttribute("y1","0%"),x.setAttribute("x2","0%"),x.setAttribute("y2","100%");var F=h.createElementNS("http://www.w3.org/2000/svg","stop");F.setAttribute("offset","0%"),F.setAttribute("style","stop-color: White");var v=h.createElementNS("http://www.w3.org/2000/svg","stop");v.setAttribute("offset","25%"),v.setAttribute("style","stop-color: LightBlue");var C=h.createElementNS("http://www.w3.org/2000/svg","stop");C.setAttribute("offset","100%"),C.setAttribute("style","stop-color: Blue"),x.appendChild(F),x.appendChild(v),x.appendChild(C),g.appendChild(x),(x=h.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id","BlackGradient"),x.setAttribute("x1","0%"),x.setAttribute("y1","0%"),x.setAttribute("x2","0%"),x.setAttribute("y2","100%"),(F=h.createElementNS("http://www.w3.org/2000/svg","stop")).setAttribute("offset","0%"),F.setAttribute("style","stop-color: Black"),(v=h.createElementNS("http://www.w3.org/2000/svg","stop")).setAttribute("offset","10%"),v.setAttribute("style","stop-color: White"),(C=h.createElementNS("http://www.w3.org/2000/svg","stop")).setAttribute("offset","20%"),C.setAttribute("style","stop-color: Gray");var A=h.createElementNS("http://www.w3.org/2000/svg","stop");return"Aero"===(A.setAttribute("offset","60%"),A.setAttribute("style","stop-color: Black"),x.appendChild(F),x.appendChild(v),x.appendChild(C),x.appendChild(A),g.appendChild(x),(x=h.createElementNS("http://www.w3.org/2000/svg","marker")).setAttribute("id","ArrowMarker"),x.setAttribute("viewBox","0 0 10 10"),x.setAttribute("refX","0"),x.setAttribute("refY","5"),x.setAttribute("markerUnits","strokeWidth"),x.setAttribute("markerWidth",(4.5*(d.arrowSize?d.arrowSize:1)).toString()),x.setAttribute("markerHeight",(3.5*(d.arrowSize?d.arrowSize:1)).toString()),x.setAttribute("orient","auto"),h=h.createElementNS("http://www.w3.org/2000/svg","path"),d.theme)?h.setAttribute("fill","Blue"):h.setAttribute("fill","#3b87d9"),h.setAttribute("d","M 0 0 L 10 5 L 0 10 z"),h.setAttribute("fill",d.arrowFill?d.arrowFill:"Aero"==d.theme?"Blue":"#3b87d9"),x.appendChild(h),g.appendChild(x),g}},p=function(n){return function(d){var c=d.ganttChartView,h=d.ganttChartView.ownerDocument,g=h.createElementNS("http://www.w3.org/2000/svg","title");if(g.appendChild(W(h,d.content)),typeof n.areToolTipsSimplified===m||!n.areToolTipsSimplified)if(typeof d.loadChartView===m){if(typeof d.scheduleChartView===m&&d.parent&&(g.appendChild(h.createTextNode("\n")),g.appendChild(h.createTextNode("Parent: "+d.parent.content))),typeof d.scheduleChartView!==m&&d.scheduleChartItem&&(g.appendChild(h.createTextNode("\n")),g.appendChild(h.createTextNode("Row: "+d.scheduleChartItem.content))),d.hasChildren&&(g.appendChild(h.createTextNode("\n")),g.appendChild(h.createTextNode("Children: "+d.children.length))),g.appendChild(h.createTextNode("\n")),g.appendChild(h.createTextNode((d.isMilestone?"":"Start: ")+n.dateTimeFormatter(M(d.start)))),d.isMilestone||(g.appendChild(h.createTextNode("\n")),g.appendChild(h.createTextNode("Finish: "+n.dateTimeFormatter(M(d.finish))))),n.areTaskAssignmentsVisible&&d.assignmentsContent&&(g.appendChild(h.createTextNode("\n")),g.appendChild(h.createTextNode("Assignments: "+d.assignmentsContent))),d.isMilestone||(g.appendChild(h.createTextNode("\n")),g.appendChild(h.createTextNode("Effort: "+c.getItemTotalEffort(d)/36e5+"h")),n.isTaskCompletedEffortVisible&&(c=c.getItemCompletion(d),isNaN(c)||(g.appendChild(h.createTextNode("\n")),g.appendChild(h.createTextNode("Completed: "+Math.round(100*c*(n.integralCompletionPercents?1:100))/(n.integralCompletionPercents?1:100)+"%"))))),n.areTaskDependenciesVisible&&d.predecessors&&d.predecessors.length>0){g.appendChild(h.createTextNode("\n")),c="";for(var x=0;x<d.predecessors.length;x++){var F=d.predecessors[x];F.item&&(c.length>0&&(c+=", "),c+=F.item.content,F.dependencyType&&(c=c+" ("+xe(F.dependencyType)+")"))}g.appendChild(h.createTextNode("Predecessors: "+c))}}else isNaN(d.units)||(g.appendChild(h.createTextNode("\n")),g.appendChild(h.createTextNode("Allocation: "+Math.round(1e4*d.units)/100+"%")));return g}},T=function(n){return function(d){var c=d.ganttChartView,h=typeof n!==m?n:c.settings;if(h.areResourceImagesVisibleAsAssignments){var g=c.chartContent.childNodes[0].childNodes[0];if(!c.chartContent.hasClipPathForResourceImagesBeenInitialized){var x=document.createElementNS("http://www.w3.org/2000/svg","clipPath");x.setAttribute("id","resourceImageClipPath"),x.setAttribute("clipPathUnits","objectBoundingBox");var F=document.createElementNS("http://www.w3.org/2000/svg","circle");F.setAttribute("cx",.5),F.setAttribute("cy",.5),F.setAttribute("r",.5),x.appendChild(F),g.appendChild(x),c.chartContent.hasClipPathForResourceImagesBeenInitialized=!0}var v=document.createElementNS("http://www.w3.org/2000/svg","g");v.setAttribute("id","assignmentsGroup");var C=(C=Fe(d.finish,h))+(h.classic||d.hasChildren||d.isMilestone?0:12-Math.min(12,C-Fe(d.start,h)));(d.isMilestone||d.hasChildren&&(typeof d.isSummaryEnabled===m||d.isSummaryEnabled))&&(C+=h.barHeight/2),!d.isMilestone&&(!d.hasChildren||!(typeof d.isSummaryEnabled===m||d.isSummaryEnabled))&&(C+=h.itemHeight-10),d.isMilestone&&(C+=3);var A=0;return Xt(d).forEach(function(S){var V,O=S.key;if(typeof h.resourceImageUrls!==m&&(X=St(h.resourceImageUrls,O))>=0&&(V=h.resourceImageUrls[X].value),V&&h.itemHeight>4){var X=h.itemHeight-4,Z=document.createElementNS("http://www.w3.org/2000/svg","image");Z.setAttribute("x",C+28*A),Z.setAttribute("y",2),Z.setAttribute("width",X+"px"),Z.setAttribute("height",X+"px"),d.isExported&&0!=V.indexOf("://")&&(X=0!=V.indexOf("/")?window.location.pathname.substr(0,window.location.pathname.lastIndexOf("/")+1):"",V=window.location.protocol+"//"+window.location.host+X+V),Z.setAttribute("href",V),Z.setAttribute("clip-path","url(#resourceImageClipPath)"),v.appendChild(Z);var _=1!=S.value?" "+Math.round(1e4*S.value)/100+"%":"";DlhSoft.Controls.ToolTip&&h.useInlineToolTips?(Z.addEventListener("mouseover",he(c,Z,"mouseover",function(ee){1!=ee.buttons&&((ee=c.toolTip)&&(ee.disable(),ee.hide()),(ee=DlhSoft.Controls.ToolTip.get(Z))||(ee=DlhSoft.Controls.ToolTip.initialize(void 0,Z,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+h.border+"; background-color: White; color: Black; font-family: "+(h.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),ee.setContent(O+_),ee.show(),c.resourceToolTip=ee)})),Z.addEventListener("mouseout",he(c,Z,"mouseout",function(){var ee=c.resourceToolTip;ee&&ee.hide()}))):((S=document.createElementNS("http://www.w3.org/2000/svg","title")).appendChild(document.createTextNode(O+_)),Z.appendChild(S))}A++}),v}return g=document.createElementNS("http://www.w3.org/2000/svg","text"),C=Fe(d.finish,h),C+=h.classic||d.hasChildren||d.isMilestone?0:12-Math.min(12,C-Fe(d.start,h)),(d.isMilestone||d.hasChildren&&(typeof d.isSummaryEnabled===m||d.isSummaryEnabled))&&(C+=h.barHeight/2),g.setAttribute("x",C+7),g.setAttribute("y",h.barMargin+h.barHeight/2),g.setAttribute("dominant-baseline","central"),typeof(x="Phone"!=h.target?d.assignmentsContent:d.content)===m&&(x=""),g.appendChild(document.createTextNode(x)),typeof h.assignmentsClass!==m?g.setAttribute("class",h.assignmentsClass):typeof h.assignmentsStyle!==m&&g.setAttribute("style",h.assignmentsStyle),g}},L=function(n){var d=n.ganttChartView.ownerDocument;for(typeof n.chartItemArea===m&&(n.chartItemArea=d.createElementNS("http://www.w3.org/2000/svg","g")),d=n.chartItemArea.childNodes.length;d-- >0;)n.chartItemArea.removeChild(n.chartItemArea.childNodes[d]);return n.chartItemArea},N=function(n,d,c,O,g){var x,F=(A=(x=n.ganttChartView).settings).barMargin,v=A.barHeight,C=A.barHeight,A=d.childNodes.length-6,S=null!=O?O-c-4-(n.hasChildren?4:0):200;return(O=(x=x.ownerDocument).createElementNS("http://www.w3.org/2000/svg","foreignObject")).setAttribute("width",S),O.setAttribute("height",C),n.isMilestone?(O.setAttribute("x",c-200-v),O.setAttribute("y",F),O.setAttribute("style","line-height: "+C+"px; text-overflow: ellipsis; white-space: nowrap; text-align: right; font-size: "+(v/2+1)+"px; color: "+g)):n.hasChildren?(O.setAttribute("x",c+4),O.setAttribute("y",F),O.setAttribute("style","line-height: "+2*C/3+"px; text-overflow: ellipsis; white-space: nowrap; font-size: "+v/2+"px; color: "+g)):(O.setAttribute("x",c+2),O.setAttribute("y",F),O.setAttribute("style","line-height: "+C+"px; text-overflow: ellipsis; white-space: nowrap; font-size: "+(v/2+1)+"px; color: "+g)),c=x.createElement("div"),n=x.createTextNode(n.label),c.appendChild(n),O.appendChild(c),d.insertBefore(O,d.childNodes[A]),c},q=function(n,d,c){return function(h){var g=typeof d!==m?d:h.ganttChartView,x=typeof c!==m?c:g.settings,F=typeof n!==m?n:g.items,v=g.ownerDocument,C=L(h);if(x.isBaselineVisible&&typeof h.baselineStart!==m&&typeof h.baselineFinish!==m){var S=Fe(h.baselineStart,x),O=Math.max(Fe(h.baselineFinish,x),S+(x.classic?4:12));(A=v.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",S),A.setAttribute("y",x.barMargin/2),A.setAttribute("width",Math.max(0,O-S-1)),A.setAttribute("height",x.barHeight),A.setAttribute("rx",x.barCornerRadius),A.setAttribute("ry",x.barCornerRadius),S=x.baselineBarClass,typeof h.baselineBarClass!==m&&(S=h.baselineBarClass),typeof S!==m?A.setAttribute("class",S):(S=x.baselineBarStyle,typeof h.baselineBarStyle!==m&&(S=h.baselineBarStyle),typeof S!==m&&A.setAttribute("style",S)),C.appendChild(A)}var A=Fe(h.start,x),V=(S=Math.max(Fe(h.finish,x),A+(x.classic?4:12)),O=x.percentBasedCompletionBar&&h.finish.valueOf()!=h.start.valueOf()?A+g.getItemCompletion(h)*(S-A):Fe(h.completedFinish,x),v.createElementNS("http://www.w3.org/2000/svg","rect"));V.setAttribute("x",A),V.setAttribute("y",x.barMargin),V.setAttribute("width",Math.max(0,S-A-1)),V.setAttribute("height",x.barHeight),V.setAttribute("rx",x.barCornerRadius),V.setAttribute("ry",x.barCornerRadius);var X=x.standardBarClass;if(typeof h.standardBarClass!==m&&(X=h.standardBarClass),typeof h.barClass!==m&&(X=h.barClass),typeof X!==m?V.setAttribute("class",X):(X=x.standardBarStyle,typeof h.standardBarStyle!==m&&(X=h.standardBarStyle),typeof h.barStyle!==m&&(X=h.barStyle),typeof X!==m&&V.setAttribute("style",X)),x.isTaskToolTipVisible&&DlhSoft.Controls.ToolTip&&x.useInlineToolTips&&(C.addEventListener("mouseover",he(g,C,"mouseover",function(de){1!=de.buttons&&((de=g.toolTip)&&(de.disable(),de.hide()),(de=DlhSoft.Controls.ToolTip.get(V))||(de=DlhSoft.Controls.ToolTip.initialize(void 0,V,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+x.border+"; background-color: White; color: Black; font-family: "+(x.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),de.setContent(x.itemTemplate(h).innerHTML.replaceAll("\n","<br/>")),de.show(),g.taskToolTip=de)})),C.addEventListener("mouseout",he(g,C,"mouseout",function(){var de=g.taskToolTip;de.disable(),de.hide()}))),C.appendChild(V),x.isTaskCompletedEffortVisible){(X=v.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",A+.65),X.setAttribute("y",x.barMargin+x.completedBarMargin-.65),X.setAttribute("width",Math.max(0,O-A-1-1.3)),X.setAttribute("height",x.completedBarHeight+1.3),X.setAttribute("rx",x.completedBarCornerRadius),X.setAttribute("ry",x.completedBarCornerRadius);var Z=x.standardCompletedBarClass;typeof h.standardCompletedBarClass!==m&&(Z=h.standardCompletedBarClass),typeof h.completedBarClass!==m&&(Z=h.completedBarClass),typeof Z!==m?X.setAttribute("class",Z):(Z=x.standardCompletedBarStyle,typeof h.standardCompletedBarStyle!==m&&(Z=h.standardCompletedBarStyle),typeof h.completedBarStyle!==m&&(Z=h.completedBarStyle),typeof Z!==m&&X.setAttribute("style",Z)),C.appendChild(X)}if(x.areStandardTaskLabelsVisible&&h.label&&(X=N(h,C,A,S,h.labelColor?h.labelColor:x.standardLabelColor?x.standardLabelColor:"black"),Z=x.standardLabelClass,typeof h.labelClass!==m&&(Z=h.labelClass),typeof Z!==m?X.setAttribute("class",Z):(Z=x.standardLabelStyle,typeof h.labelStyle!==m&&(Z=h.labelStyle),typeof Z!==m&&X.setAttribute("style",Z))),!(x.isReadOnly||x.isChartReadOnly||typeof h.isReadOnly!==m&&h.isReadOnly||typeof h.isBarReadOnly!==m&&h.isBarReadOnly)){var _,te;if((X=v.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",A),X.setAttribute("y",x.barMargin),X.setAttribute("width",Math.max(0,S-A-1)),X.setAttribute("height",x.barHeight),X.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer"),x.isTaskStartReadOnly||C.appendChild(X),(Z=v.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",A-4),Z.setAttribute("y",x.barMargin),Z.setAttribute("width",x.classic?4:8),Z.setAttribute("height",x.barHeight),Z.setAttribute("style","fill: White; fill-opacity: 0; cursor: "+(x.classic?"w-resize":"ew-resize")),x.isDraggingTaskStartEndsEnabled&&!x.isTaskStartReadOnly&&"TouchEnabled"!=x.interaction&&C.appendChild(Z),(_=v.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",S-4),_.setAttribute("y",x.barMargin),_.setAttribute("width",8),_.setAttribute("height",x.barHeight),_.setAttribute("style","fill: White; fill-opacity: 0; cursor: "+(x.classic?"e-resize":"ew-resize")),!x.isTaskEffortReadOnly&&"TouchEnabled"!=x.interaction&&C.appendChild(_),x.classic)(te=v.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",O-2),te.setAttribute("y",x.barMargin),te.setAttribute("width",6),te.setAttribute("height",x.barHeight),te.setAttribute("style","fill: White; fill-opacity: 0; cursor: ew-resize");else{te=v.createElementNS("http://www.w3.org/2000/svg","g");var ee=v.createElementNS("http://www.w3.org/2000/svg","polygon");te.appendChild(ee);var ie=Math.max(O-1-10,A),ce=Math.min(O-1+10,S-1);ee.setAttribute("points",ie+","+(x.itemHeight-x.barMargin)+" "+ce+","+(x.itemHeight-x.barMargin)+" "+(O-1<A+10?A:O-1>S-1-10?S-1:Math.min(Math.max(O-1,A),S-2))+","+(x.itemHeight-x.barMargin-x.barHeight/2)),ee.setAttribute("style","fill: White; fill-opacity: 0; cursor: ew-resize"),ee=v.createElementNS("http://www.w3.org/2000/svg","rect"),te.appendChild(ee),ie=Math.max(A,O-10),(ce=Math.min(20,S-O))<20&&(ie-=10-ce,ce=20),ee.setAttribute("x",ie),ee.setAttribute("y",x.itemHeight/2),ee.setAttribute("width",ce),ee.setAttribute("height",x.itemHeight/2),ee.setAttribute("style","fill: White; fill-opacity: 0;")}ie=typeof x.areToolTipsSimplified!==m&&x.areToolTipsSimplified?NaN:g.getItemCompletion(h);var le=isNaN(ie)?"":Math.round(100*ie*(x.integralCompletionPercents?1:100))/(x.integralCompletionPercents?1:100)+"%";!x.isTaskCompletionReadOnly&&x.isTaskCompletedEffortVisible&&"TouchEnabled"!=x.interaction&&(C.appendChild(te),le&&DlhSoft.Controls.ToolTip&&x.useInlineToolTips?(te.addEventListener("mouseover",he(g,te,"mouseover",function(pe){1==pe.buttons&&"CompletedFinish"!=g.dragType||((pe=g.toolTip)&&(pe.disable(),pe.hide()),(pe=DlhSoft.Controls.ToolTip.get(te))||(pe=DlhSoft.Controls.ToolTip.initialize(void 0,te,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+x.border+"; background-color: White; color: Black; font-family: "+(x.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),pe.setContent(le),pe.show(),g.taskCompletionToolTip=pe)})),te.addEventListener("mouseout",he(g,te,"mouseout",function(){var pe=g.taskCompletionToolTip;pe.disable(),pe.hide()}))):((ie=v.createElementNS("http://www.w3.org/2000/svg","title")).appendChild(W(v,le)),te.appendChild(ie))),Ki(X,Z,_,te,h,A,S,O,F,g,x),x.areTaskDependenciesVisible&&!x.areTaskPredecessorsReadOnly&&!h.isPart&&(O=null,(typeof x.allowCreatingStartDependencies===m||x.allowCreatingStartDependencies)&&((O=v.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx",A-(x.classic?0:8)),O.setAttribute("cy",x.barMargin+x.barHeight/2),O.setAttribute("r",x.barHeight/(x.classic?4:3)),O.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer"),C.appendChild(O)),(v=v.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx",S-2+(x.classic?0:9)),v.setAttribute("cy",x.barMargin+x.barHeight/2),v.setAttribute("r",x.barHeight/(x.classic?4:3)),v.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer;"),C.appendChild(v),zi(v,O,C,h,x.barMargin+x.barHeight/2,S-2,A,F,g,x))}return C}},Q=function(n,d,c){return function(h){var g=typeof d!==m?d:h.ganttChartView,x=typeof c!==m?c:g.settings,F=typeof n!==m?n:g.items,v=g.ownerDocument,C=L(h),A=Fe(h.start,x),S=Fe(h.finish,x),ie=2.15*x.barHeight/3,O=v.createElementNS("http://www.w3.org/2000/svg","rect");O.setAttribute("x",A),O.setAttribute("y",x.barMargin),O.setAttribute("width",Math.max(0,S-A-1)),O.setAttribute("height",ie);var V=x.summaryBarClass;if(typeof h.summaryBarClass!==m&&(V=h.summaryBarClass),typeof h.barClass!==m&&(V=h.barClass),typeof V!==m)O.setAttribute("class",V);else{var X=x.summaryBarStyle;typeof h.summaryBarStyle!==m&&(X=h.summaryBarStyle),typeof h.barStyle!==m&&(X=h.barStyle),typeof X!==m&&O.setAttribute("style",X)}if(C.appendChild(O),x.isTaskToolTipVisible&&DlhSoft.Controls.ToolTip&&x.useInlineToolTips&&(C.addEventListener("mouseover",he(g,C,"mouseover",function(le){1!=le.buttons&&((le=g.toolTip)&&(le.disable(),le.hide()),(le=DlhSoft.Controls.ToolTip.get(O))||(le=DlhSoft.Controls.ToolTip.initialize(void 0,O,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+x.border+"; background-color: White; color: Black; font-family: "+(x.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),le.setContent(x.itemTemplate(h).innerHTML.replaceAll("\n","<br/>")),le.show(),g.taskToolTip=le)})),C.addEventListener("mouseout",he(g,O,"mouseout",function(){var le=g.taskToolTip;le.disable(),le.hide()}))),x.isTaskCompletedEffortVisible&&x.isSummaryTaskCompletedEffortVisible){(_=v.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",A),_.setAttribute("y",x.barMargin+2.15*x.completedBarMargin/3),_.setAttribute("width",Math.max(0,S-A-1)*g.getItemCompletion(h)),_.setAttribute("height",2.15*x.completedBarHeight/3),_.setAttribute("rx",x.completedBarCornerRadius),_.setAttribute("ry",x.completedBarCornerRadius);var Z=x.summaryCompletedBarClass;typeof h.summaryCompletedBarClass!==m&&(Z=h.summaryCompletedBarClass),typeof h.completedBarClass!==m&&(Z=h.completedBarClass),typeof Z!==m?_.setAttribute("class",Z):(Z=x.summaryCompletedBarStyle,typeof h.summaryCompletedBarStyle!==m&&(Z=h.summaryCompletedBarStyle),typeof h.completedBarStyle!==m&&(Z=h.completedBarStyle),typeof Z!==m&&_.setAttribute("style",Z)),C.appendChild(_)}h.isExpanded||((_=v.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("x1",A),_.setAttribute("y1",x.barMargin+ie+2.5),_.setAttribute("x2",S-1),_.setAttribute("y2",x.barMargin+ie+2.5),Z=x.collapsedSummaryLineClass,typeof h.collapsedSummaryLineClass!==m&&(Z=h.collapsedSummaryLineClass),typeof Z!==m?_.setAttribute("class",Z):(Z=x.collapsedSummaryLineStyle,typeof h.collapsedSummaryLineStyle!==m&&(Z=h.collapsedSummaryLineStyle),typeof Z!==m&&_.setAttribute("style",Z)),C.appendChild(_)),Z=v.createElementNS("http://www.w3.org/2000/svg","polygon");var _,te=ie+1.5,ee=3*x.barHeight/4,ce=x.barHeight/4;return Z.setAttribute("points",(ie=A-1-x.barHeight/3)+","+(_=x.barMargin-.25)+" "+ie+","+(_+te)+" "+(ie+ee/2)+","+(_+te+ce)+" "+(ie+ee)+","+(_+te)+" "+(ie+ee)+","+_),typeof V!==m&&Z.setAttribute("class",V),typeof X!==m&&Z.setAttribute("style",X),C.appendChild(Z),(Z=v.createElementNS("http://www.w3.org/2000/svg","polygon")).setAttribute("points",(ie=S+x.barHeight/3)+","+_+" "+ie+","+(_+te)+" "+(ie-ee/2)+","+(_+te+ce)+" "+(ie-ee)+","+(_+te)+" "+(ie-ee)+","+_),typeof V!==m&&Z.setAttribute("class",V),typeof X!==m&&Z.setAttribute("style",X),C.appendChild(Z),x.areSummaryTaskLabelsVisible&&h.label&&(V=N(h,C,A,S,h.labelColor?h.labelColor:x.summaryLabelColor?x.summaryLabelColor:"white"),X=x.summaryLabelClass,typeof h.labelClass!==m&&(X=h.labelClass),typeof X!==m?V.setAttribute("class",X):(X=x.summaryLabelStyle,typeof h.labelStyle!==m&&(X=h.labelStyle),typeof X!==m&&V.setAttribute("style",X))),!x.isReadOnly&&!x.isChartReadOnly&&(typeof h.isReadOnly===m||!h.isReadOnly)&&(typeof h.isBarReadOnly===m||!h.isBarReadOnly)&&x.areTaskDependenciesVisible&&!x.areTaskPredecessorsReadOnly&&!h.isPart&&(V=null,(typeof x.allowCreatingStartDependencies===m||x.allowCreatingStartDependencies)&&((V=v.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx",A-.5),V.setAttribute("cy",x.barMargin+x.barHeight/2),V.setAttribute("r",x.barHeight/(x.classic?4:3)),V.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer"),C.appendChild(V)),(v=v.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx",S-.5),v.setAttribute("cy",x.barMargin+x.barHeight/2),v.setAttribute("r",x.barHeight/(x.classic?4:3)),v.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer"),C.appendChild(v),zi(v,V,C,h,x.barMargin+x.barHeight/2,S-1.5,A,F,g,x)),C}},ne=function(n,d,c){return function(h){var g=typeof d!==m?d:h.ganttChartView,x=typeof c!==m?c:g.settings,F=typeof n!==m?n:g.items,v=g.ownerDocument,C=L(h);if(x.isBaselineVisible&&typeof h.baselineStart!==m){var S=Fe(h.baselineStart,x),V=v.createElementNS("http://www.w3.org/2000/svg","polygon"),A=x.barHeight+1;if(V.setAttribute("points",S+","+(X=x.barMargin-1)+" "+(S-A/2)+","+(X+A/2)+" "+S+","+(X+A)+" "+(S+A/2)+","+(X+A/2)),S=x.baselineBarClass,typeof h.baselineBarClass!==m&&(S=h.baselineBarClass),typeof S!==m)V.setAttribute("class",S);else{var Z=x.baselineBarStyle;typeof h.baselineBarStyle!==m&&(Z=h.baselineBarStyle)}V.setAttribute("style",Z),C.appendChild(V)}S=Fe(h.start,x);var X,O=v.createElementNS("http://www.w3.org/2000/svg","polygon");return O.setAttribute("points",(V=S-1)+","+(X=x.barMargin)+" "+(V-(Z=x.barHeight+1)/2)+","+(X+Z/2)+" "+V+","+(X+Z)+" "+(V+Z/2)+","+(X+Z/2)),X=x.milestoneBarClass,typeof h.milestoneBarClass!==m&&(X=h.milestoneBarClass),typeof h.barClass!==m&&(X=h.barClass),typeof X!==m?O.setAttribute("class",X):(X=x.milestoneBarStyle,typeof h.milestoneBarStyle!==m&&(X=h.milestoneBarStyle),typeof h.barStyle!==m&&(X=h.barStyle),typeof X!==m&&O.setAttribute("style",X)),C.appendChild(O),x.isTaskToolTipVisible&&DlhSoft.Controls.ToolTip&&x.useInlineToolTips&&(C.addEventListener("mouseover",he(g,C,"mouseover",function(_){1!=_.buttons&&((_=g.toolTip)&&(_.disable(),_.hide()),(_=DlhSoft.Controls.ToolTip.get(O))||(_=DlhSoft.Controls.ToolTip.initialize(void 0,O,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+x.border+"; background-color: White; color: Black; font-family: "+(x.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),_.setContent(x.itemTemplate(h).innerHTML.replaceAll("\n","<br/>")),_.show(),g.taskToolTip=_)})),C.addEventListener("mouseout",he(g,C,"mouseout",function(){var _=g.taskToolTip;_.disable(),_.hide()}))),x.areMilestoneTaskLabelsVisible&&h.label&&(S=N(h,C,S,null,h.labelColor?h.labelColor:x.milestoneLabelColor?x.milestoneLabelColor:"black"),X=x.milestoneLabelClass,typeof h.labelClass!==m&&(X=h.labelClass),typeof X!==m?S.setAttribute("class",X):(X=x.milestoneLabelStyle,typeof h.labelStyle!==m&&(X=h.labelStyle),typeof X!==m&&S.setAttribute("style",X))),!x.isReadOnly&&!x.isChartReadOnly&&(typeof h.isReadOnly===m||!h.isReadOnly)&&(typeof h.isBarReadOnly===m||!h.isBarReadOnly)&&((S=v.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",V-Z/2),S.setAttribute("y",x.barMargin),S.setAttribute("width",Z),S.setAttribute("height",Z),S.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer"),C.appendChild(S),Ki(S,null,null,null,h,V,V,V,F,g,x),x.areTaskDependenciesVisible&&!x.areTaskPredecessorsReadOnly&&!h.isPart&&((v=v.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx",V),v.setAttribute("cy",x.barMargin+x.barHeight/2+(x.classic?0:.5)),v.setAttribute("r",x.barHeight/(x.classic?4:3)),v.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer"),C.appendChild(v),zi(v,null,C,h,x.barMargin+x.barHeight/2,V,V,F,g,x))),C}},ae=function(n,d){return function(c,h){var g=c.ganttChartView,x=typeof d!==m?d:g.settings,C=typeof n!==m?n:g.items,F=g.ownerDocument,v=F.createElementNS("http://www.w3.org/2000/svg","g"),A=(C=we(c,h,C,x),F.createElementNS("http://www.w3.org/2000/svg","path"));A.setAttribute("d",C),typeof x.dependencyLineZoneClass!==m&&A.setAttribute("class",x.dependencyLineZoneClass),typeof x.dependencyLineZoneStyle!==m&&A.setAttribute("style",x.dependencyLineZoneStyle),v.appendChild(A);var S=F.createElementNS("http://www.w3.org/2000/svg","path");return S.setAttribute("d",C),F=x.dependencyLineClass,typeof h.dependencyLineClass!==m&&(F=h.dependencyLineClass),typeof F!==m?S.setAttribute("class",F):(F=x.dependencyLineStyle,typeof h.dependencyLineStyle!==m&&(F=h.dependencyLineStyle),typeof F!==m&&S.setAttribute("style",F)),v.appendChild(S),x.isDependencyToolTipVisible&&DlhSoft.Controls.ToolTip&&x.useInlineToolTips&&x.useInlineToolTipsForDependencies&&(v.addEventListener("mouseover",he(g,v,"mouseover",function(O){var V=g.dependencyToolTip;V&&(V.disable(),V.hide()),(V=DlhSoft.Controls.ToolTip.get(S))||(V=DlhSoft.Controls.ToolTip.initialize(void 0,S,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+x.border+"; background-color: White; color: Black; font-family: "+(x.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),V.setContent(x.predecessorItemTemplate(c,h).innerHTML.replaceAll("\n","<br/>")),V.show();var X=v.getBoundingClientRect();V.setHorizontalPosition(V.x+O.clientX-X.left),V.setVerticalPosition(V.y+O.clientY-X.bottom+10),g.dependencyToolTip=V})),v.addEventListener("mouseout",he(g,v,"mouseout",function(){var O=g.dependencyToolTip;O.disable(),O.hide()}))),v}},ye=function(n){return function(d,c){var h=d.ganttChartView.ownerDocument,g=h.createElementNS("http://www.w3.org/2000/svg","title");return g.appendChild(W(h,c.item.content+" - "+d.content)),(typeof n.areToolTipsSimplified===m||!n.areToolTipsSimplified)&&(c.dependencyType&&(g.appendChild(h.createTextNode("\n")),g.appendChild(W(h,"Type: "+xe(c.dependencyType)))),c.lag&&(g.appendChild(h.createTextNode("\n")),g.appendChild(W(h,"Lag: "+c.lag/36e5+"h")))),g}},xe=function(n){switch(n){case"StartStart":case"SS":return"SS";case"FinishFinish":case"FF":return"FF";case"StartFinish":case"SF":return"SF";default:return"FS"}},we=function(n,d,F,h){var v,C,Z,g=Kt(d.item,F,h),x=Kt(n,F,h),A=(F="M ",h.itemHeight),S=A/2,O=A/3.5,V=2,X=!1;return g!=x||typeof d.dependencyType!==m&&"FinishStart"!=d.dependencyType&&"FS"!=d.dependencyType&&"StartFinish"!=d.dependencyType&&"SF"!=d.dependencyType?(typeof d.dependencyType===m||"StartStart"!=d.dependencyType&&"SS"!=d.dependencyType&&"StartFinish"!=d.dependencyType&&"SF"!=d.dependencyType?(v=Fe(d.item.finish,h)-1,d.item.hasChildren&&(typeof d.item.isSummaryEnabled===m||d.item.isSummaryEnabled)?v+=h.barHeight/3+.25:d.item.isMilestone?v+=A/4:v<(Z=Fe(d.item.start,h)+(h.classic?4:12)-1)&&(v=Z),C=v+O):(v=Fe(d.item.start,h),d.item.hasChildren&&(typeof d.item.isSummaryEnabled===m||d.item.isSummaryEnabled)?v-=h.barHeight/3+.25:d.item.isMilestone&&(v-=A/4),C=v-O),F=F+(v+" ")+((g=g-x+.5)+S)+" L "+C+" "+(g+S),typeof d.dependencyType===m||"FinishFinish"!=d.dependencyType&&"FF"!=d.dependencyType&&"StartFinish"!=d.dependencyType&&"SF"!=d.dependencyType?(v=Fe(n.start,h),typeof d.dependencyType===m||"StartStart"!=d.dependencyType&&"SS"!=d.dependencyType?n.isMilestone?x=v-1:(x=v+1.5,Z=Fe(n.finish,h),x<C&&Z-C>2*O&&n.start>=d.item.finish&&(x=C)):(X=!0,n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)?v-=h.barHeight/3+1:n.isMilestone&&(v-=A/4+1),x=v-O)):(v=Fe(n.finish,h)-1,typeof d.dependencyType===m||"FinishFinish"!=d.dependencyType&&"FF"!=d.dependencyType?n.isMilestone?x=v:(v<(Z=Fe(n.start,h)+(h.classic?4:12))&&(v=Z),x=v-2.5):(X=!0,n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)?v+=h.barHeight/3+1:n.isMilestone?v+=A/4+1:v<(Z=Fe(n.start,h)+(h.classic?4:12)-1)&&(v=Z),x=v+O)),typeof d.dependencyType===m||"StartStart"!=d.dependencyType&&"SS"!=d.dependencyType&&"StartFinish"!=d.dependencyType&&"SF"!=d.dependencyType?x<C&&(F=F+" "+C+" "+((g=(g-=O/6)<=0?g+S:g-S)+S)):x>C&&(F=F+" "+C+" "+((g=(g-=O/6)<=0?g+S:g-S)+S)),F=F+" "+x+" "+(g+S),g=X?S+.5:g<=0?h.barMargin-1-V:A-h.barMargin+1+V,X&&(x>v-V&&(V=-V),v-=V),F=F+" "+x+" "+g,X&&(F=F+" "+v+" "+g)):(typeof d.dependencyType===m||"FinishStart"==d.dependencyType||"FS"==d.dependencyType?(v=Fe(d.item.finish,h),d.item.isMilestone&&(v+=h.barHeight/3+.25),C=Fe(n.start,h),n.isMilestone&&(C-=h.barHeight/3+.25)):(v=Fe(d.item.start,h),d.item.isMilestone&&(v-=h.barHeight/3+.25),C=Fe(n.finish,h),n.isMilestone&&(C+=h.barHeight/3+.25)),F=F+(v+" ")+((g=g-x+.5)+S)+" L "+(C+(C>v?-1:1)*(A/5-1))+" "+(g+S)),F},se=function(n,d,c,h){if(typeof n.ganttChartView!==m){var g=n.ganttChartView,x=g.settings;if("start"==d||"minStart"==d||"maxStart"==d?(typeof n.minStart!==m&&n.start<n.minStart?(n.start=n.minStart,typeof n.loadChartItem===m&&(n.start=it(n.start,x,!0,typeof n.isMilestone!==m&&n.isMilestone,Ee(n))),c&&(n.preferredStart=n.start)):typeof n.maxStart!==m&&n.start>n.maxStart&&(n.start=n.maxStart,typeof n.loadChartItem===m&&(n.start=it(n.start,x,!0,typeof n.isMilestone!==m&&n.isMilestone,Ee(n))),c&&(n.preferredStart=n.start)),n.finish<n.start&&(n.finish=n.start,se(n,"finish",!1,!0)),n.completedFinish<n.start?(n.completedFinish=n.start,se(n,"completedFinish",!1,!0)):n.completedFinish>n.finish&&(n.completedFinish=n.finish,se(n,"completedFinish",!1,!0))):("finish"==d||"minFinish"==d||"maxFinish"==d)&&(typeof n.maxFinish!==m&&n.finish>n.maxFinish?(n.finish=n.maxFinish,typeof n.loadChartItem===m&&(n.finish=it(n.finish,x,typeof n.isMilestone!==m&&n.isMilestone,!0,Ee(n)))):typeof n.minFinish!==m&&n.finish<n.minFinish&&(n.finish=n.minFinish,typeof n.loadChartItem===m&&(n.finish=it(n.finish,x,typeof n.isMilestone!==m&&n.isMilestone,!0,Ee(n)))),n.finish<n.start&&(n.finish=n.start,se(n,"finish",!1,!0)),n.completedFinish<n.start?(n.completedFinish=n.start,se(n,"completedFinish",!1,!0)):n.completedFinish>n.finish&&(n.completedFinish=n.finish,se(n,"completedFinish",!1,!0))),g.isTimingInformationInitialized){var v,C,F=g.items;if("indentation"==d||"predecessors"==d)for(v=0;v<F.length;v++)typeof(C=F[v]).dependsOf!==m&&delete C.dependsOf;if("predecessors"==d&&x.alwaysHandleInvalidDependencies)typeof(C=n).predecessors!==m&&C.predecessors.length>0&&Oe(C,F,x,g,!0);else if(("predecessors"==d||"start"==d||"finish"==d)&&typeof n.isDuringPropertyChangeTaskDependencyConstraintsEnsuring===m&&x.areTaskDependencyConstraintsEnabled&&(x.areTaskDependencyConstraintsEnabledWhileDragging||typeof g.isDuringTimeDragOperation===m)){for(n.isDuringPropertyChangeTaskDependencyConstraintsEnsuring=!0,C=n.parent;null!=C;)typeof C.predecessors!==m&&C.predecessors.length>0&&Oe(C,F,x,g),C=C.parent;for(typeof(C=n).predecessors!==m&&C.predecessors.length>0?Oe(C,F,x,g):Me(C,x);null!=C;){if(typeof C.successors===m)for(C.successors=[],v=0;v<F.length;v++){var A=F[v];if(A!=C&&typeof A.predecessors!==m&&0!=A.predecessors.length)for(var S=0;S<A.predecessors.length;S++)if(A.predecessors[S].item==C){C.successors.push(A);break}}for(v=0;v<C.successors.length;v++)Oe(C.successors[v],F,x,g);C=C.parent}delete n.isDuringPropertyChangeTaskDependencyConstraintsEnsuring}n.isPart&&n.ganttChartItem&&se(n.ganttChartItem,"parts",!1,!0)}if("assignmentsContent"==d&&!n.hasChildren&&n.hasFixedEffort&&typeof n.fixedEffortAssignments!==m&&n.fixedEffortUpdatesFinish){for(A=C=0,F=g.getItemAssignments(n),v=0;v<F.length;v++)C+=F[v].value;for(v=0;v<n.fixedEffortAssignments.length;v++)A+=n.fixedEffortAssignments[v].value;C<=0&&(C=1),A<=0&&(A=1),g.setItemEffort(n,g.getItemEffort(n)*A/C)}if(("start"==d||"finish"==d)&&!n.hasChildren&&n.hasFixedEffort&&typeof n.fixedEffort!==m&&!n.fixedEffortUpdatesFinish){for(C=g.getItemEffort(n)/n.fixedEffort,F="",v=0;v<n.fixedEffortAssignments.length;v++)A=n.fixedEffortAssignments[v],F.length>0&&(F+=", "),S=Math.floor(A.value/C*1e6)/1e6,F+=A.key+(1!=S?" ["+100*S+"%]":"");g.setItemAssignmentsContent(n,F)}x.itemPropertyChangeHandler(n,d,c,h),"isExpanded"==d?typeof n.ganttChartView!==m&&typeof n.ganttChartView.settings.itemExpansionChangeHandler!==m&&n.ganttChartView.settings.itemExpansionChangeHandler(n,n.isExpanded):"isSelected"==d&&typeof n.ganttChartView!==m&&typeof n.ganttChartView.settings.itemSelectionChangeHandler!==m&&n.ganttChartView.settings.itemSelectionChangeHandler(n,n.isSelected,c),typeof n.scheduleChartView!==m&&"content"==d&&n.scheduleChartView.refreshScheduleChartItem(n)}},Me=function(n,d){if(typeof n.isAwaitingPreferredStartUpdates===m)if(n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled))for(var c=0;c<n.children.length;c++)Me(n.children[c],d);else if(typeof n.preferredStart!==m&&n.preferredStart<n.start){n.isAwaitingPreferredStartUpdates=!0;var h=n.start.valueOf(),g=n.finish.valueOf(),x=n.completedFinish.valueOf();effort=Je(n.start,n.finish,d,Ee(n)),completedEffort=Je(n.start,n.completedFinish,d,Ee(n)),n.start=n.preferredStart,n.finish=Xe(n.start,effort,d,Ee(n)),n.completedFinish=Xe(n.start,completedEffort,d,Ee(n)),n.start.valueOf()!=h&&se(n,"start",!1,!1),n.finish.valueOf()!=g&&se(n,"finish",!1,!1),n.completedFinish.valueOf()!=x&&se(n,"completedFinish",!1,!1),setTimeout(function(){n.start.valueOf()!=h&&se(n,"start",!1,!0),n.finish.valueOf()!=g&&se(n,"finish",!1,!0),n.completedFinish.valueOf()!=x&&se(n,"completedFinish",!1,!0),(n.start.valueOf()!=h||n.finish.valueOf()!=g||n.completedFinish.valueOf()!=x)&&E(n),delete n.isAwaitingPreferredStartUpdates},1)}},Oe=function(n,d,c,h,g){if(g){if(h.isBasicTimingInformationInitialized){g=[];var x,F=!1;for(h=0;h<n.predecessors.length;h++)typeof(x=n.predecessors[h]).item===m||d.indexOf(x.item)<0||je(x.item,n)?(c.invalidPredecessorDetectionHandler&&c.invalidPredecessorDetectionHandler(x,n,x.item),F=!0):g.push(x);n.predecessors=g,F&&(se(n,"predecessors",!1,!0),typeof n.ganttChartView!==m&&k(n))}}else if(h.isBasicTimingInformationInitialized&&(typeof n.areDependencyConstraintsEnabled===m||n.areDependencyConstraintsEnabled)){for(Me(n,c),g=[],F=!1,h=0;h<n.predecessors.length;h++)typeof(x=n.predecessors[h]).item===m||d.indexOf(x.item)<0||je(x.item,n)?(c.invalidPredecessorDetectionHandler&&c.invalidPredecessorDetectionHandler(x,n,x.item),F=!0):g.push(x);for(n.predecessors=g,F&&(se(n,"predecessors",!1,!0),typeof n.ganttChartView!==m&&k(n)),h=0;h<n.predecessors.length;h++)Ue(n,x=n.predecessors[h],d,c)}},Ue=function(n,d,c,h){if(n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled))for(var g=0;g<n.children.length;g++)Ue(n.children[g],d,c,h);else if(!(typeof h.areDependencyConstraintsAppliedOnMilestones!==m&&!h.areDependencyConstraintsAppliedOnMilestones&&n.isMilestone||typeof h.areDependencyConstraintsAppliedOnStartedTasks!==m&&!h.areDependencyConstraintsAppliedOnStartedTasks&&xi(n))){var F,x=d.item;if(c=!1,typeof d.dependencyType===m||""==d.dependencyType||"FinishStart"==d.dependencyType||"FS"==d.dependencyType){if(x=x.finish,typeof d.lag!==m&&0!=d.lag&&(x=Xe(x,d.lag,h,Ee(n))),n.start<x&&(!n.isMilestone&&(!n.hasChildren||!(typeof n.isSummaryEnabled===m||n.isSummaryEnabled))&&(g=Je(n.start,n.finish,h,Ee(n)),F=Je(n.start,n.completedFinish,h,Ee(n))),!n.hasChildren||typeof n.isSummaryEnabled!==m&&!n.isSummaryEnabled)){var v=n.start.valueOf(),C=(d=n.finish.valueOf(),n.completedFinish.valueOf());n.start=it(Gt(x,h),h,!0,n.isMilestone,Ee(n)),n.start.valueOf()!=v&&se(n,"start",!1,!0),n.isMilestone?(n.finish=n.start,n.finish.valueOf()!=d&&se(n,"finish",!1,!0),n.completedFinish=n.start):(n.finish=Xe(n.start,g,h,Ee(n)),n.finish.valueOf()!=d&&se(n,"finish",!1,!0),n.completedFinish=Xe(n.start,F,h,Ee(n))),n.completedFinish.valueOf()!=C&&se(n,"completedFinish",!1,!0),c=!0}}else"StartStart"==d.dependencyType||"SS"==d.dependencyType?(x=x.start,typeof d.lag!==m&&0!=d.lag&&(x=Xe(x,d.lag,h,Ee(n))),n.start<x&&(!n.isMilestone&&(!n.hasChildren||!(typeof n.isSummaryEnabled===m||n.isSummaryEnabled))&&(g=Je(n.start,n.finish,h,Ee(n)),F=Je(n.start,n.completedFinish,h,Ee(n))),(!n.hasChildren||typeof n.isSummaryEnabled!==m&&!n.isSummaryEnabled)&&(v=n.start.valueOf(),d=n.finish.valueOf(),C=n.completedFinish.valueOf(),n.start=it(Gt(x,h),h,!0,n.isMilestone,Ee(n)),n.start.valueOf()!=v&&se(n,"start",!1,!0),n.isMilestone?(n.finish=n.start,n.finish.valueOf()!=d&&se(n,"finish",!1,!0),n.completedFinish=n.start):(n.finish=Xe(n.start,g,h,Ee(n)),n.finish.valueOf()!=d&&se(n,"finish",!1,!0),n.completedFinish=Xe(n.start,F,h,Ee(n))),n.completedFinish.valueOf()!=C&&se(n,"completedFinish",!1,!0),c=!0))):"FinishFinish"==d.dependencyType||"FF"==d.dependencyType?(x=x.finish,typeof d.lag!==m&&0!=d.lag&&(x=Xe(x,d.lag,h,Ee(n))),n.finish>x&&(!n.hasChildren||typeof n.isSummaryEnabled!==m&&!n.isSummaryEnabled)&&(d=n.finish.valueOf(),C=n.completedFinish.valueOf(),n.finish=it(Gt(x,h),h,n.isMilestone,!0,Ee(n)),n.finish<n.start&&(n.finish=n.start),n.finish.valueOf()!=d&&se(n,"finish",!1,!0),n.isMilestone?n.completedFinish!=n.start&&(n.completedFinish=n.start,n.completedFinish.valueOf()!=C&&se(n,"completedFinish",!1,!0)):n.completedFinish>n.finish&&(n.completedFinish=n.finish,n.completedFinish.valueOf()!=C&&se(n,"completedFinish",!1,!0)),c=!0)):("StartFinish"==d.dependencyType||"SF"==d.dependencyType)&&(x=x.start,typeof d.lag!==m&&0!=d.lag&&(x=Xe(x,d.lag,h,Ee(n))),n.finish>x&&(!n.hasChildren||typeof n.isSummaryEnabled!==m&&!n.isSummaryEnabled)&&(d=n.finish.valueOf(),C=n.completedFinish.valueOf(),n.finish=it(Gt(x,h),h,n.isMilestone,!0,Ee(n)),n.finish<n.start&&(n.finish=n.start),n.finish.valueOf()!=d&&se(n,"finish",!1,!0),n.isMilestone?n.completedFinish!=n.start&&(n.completedFinish=n.start,n.completedFinish.valueOf()!=C&&se(n,"completedFinish",!1,!0)):n.completedFinish>n.finish&&(n.completedFinish=n.finish,n.completedFinish.valueOf()!=C&&se(n,"completedFinish",!1,!0)),(n.start.valueOf()!=v||n.finish.valueOf()!=d||n.completedFinish.valueOf()!=C)&&(c=!0)));c&&typeof n.ganttChartView!==m&&typeof n.isAwaitingEnsureItemDependencyConstraintsUpdates===m&&(typeof n.ganttChartView===m||n.ganttChartView.isTimingInformationInitialized?(n.isAwaitingEnsureItemDependencyConstraintsUpdates=!0,setTimeout(function(){E(n),delete n.isAwaitingEnsureItemDependencyConstraintsUpdates},0)):E(n))}},je=function(n,d){if(typeof n.dependsOf!==m&&typeof n.dependsOf[d.index]!==m)return n.dependsOf[d.index];if(typeof n.dependsOf===m&&(n.dependsOf={}),n==d)return!0;var c=mt(n);if(c.indexOf(d)>=0)return n.dependsOf[d.index]=!0;var h=mt(d);if(h.indexOf(n)>=0)return n.dependsOf[d.index]=!0;var x,F,g=dt(n);for(x=0;x<g.length;x++)if((F=g[x])==d||F==n||c.indexOf(F)>=0||h.indexOf(F)>=0||je(F,d))return n.dependsOf[d.index]=!0;for(g=0;g<c.length;g++){var v=dt(c[g]);for(x=0;x<v.length;x++)if((F=v[x])==d||F==n||c.indexOf(F)>=0||h.indexOf(F)>=0||je(F,d))return n.dependsOf[d.index]=!0}for(c=n.children,x=0;x<c.length;x++)if(typeof(h=c[x]).predecessors!==m&&h.predecessors.length>0&&je(h,d))return n.dependsOf[d.index]=!0;return n.dependsOf[d.index]=!1},mt=function(n){for(var d=[];typeof n.parent!==m&&null!=n.parent;)(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)&&d.push(n.parent),n=n.parent;return d},dt=function(n){var d=[];if(typeof n.predecessors!==m&&null!=n.predecessors)for(var c=0;c<n.predecessors.length;c++)typeof n.predecessors[c].item!==m&&d.push(n.predecessors[c].item);return d},bt=function(n,d){for(var c=0;c<n.length;c++){var h=n[c],g=null==d||d(h);if(h.isHidden=!g,g)for(h=h.parent;null!=h;)h.isHidden=!1,h=h.parent}},ii=function(n,d,c){return it(n,d,!0,!0,c)},Et=function(n,d,c){return it(n,d,!0,!1,c)},it=function(O,A,c,h,S){var x=typeof S!==m&&typeof S.workingDayStart!==m?S.workingDayStart:A.visibleDayStart,F=typeof S!==m&&typeof S.workingDayFinish!==m?S.workingDayFinish:A.visibleDayFinish,v=typeof S!==m&&typeof S.workingWeekStart!==m?S.workingWeekStart:A.workingWeekStart,C=typeof S!==m&&typeof S.workingWeekFinish!==m?S.workingWeekFinish:A.workingWeekFinish;for(A=typeof S!==m&&typeof S.specialNonworkingDays!==m?S.specialNonworkingDays:A.specialNonworkingDays,S=lt(O),((O=xt(O))<x||!c&&O==x)&&(c?O=x:(S=li(S),O=F)),(O>F||!h&&O==F)&&(h?O=F:(S=rt(S),O=x)),h=Ct(S);h<v||h>C||Qt(S,A);){for(c?(h++,S=rt(S),O=x):(h--,S=li(S),O=F);h<0;)h+=7;for(;h>=7;)h-=7}return new Date(S.valueOf()+O)},Je=function(O,d,A,C){if(d.valueOf()<O.valueOf())return-Je(d,O,A,C);if(d.valueOf()==O.valueOf())return 0;var g=typeof C!==m&&typeof C.workingDayStart!==m?C.workingDayStart:A.visibleDayStart,x=typeof C!==m&&typeof C.workingDayFinish!==m?C.workingDayFinish:A.visibleDayFinish,F=typeof C!==m&&typeof C.workingWeekStart!==m?C.workingWeekStart:A.workingWeekStart,v=typeof C!==m&&typeof C.workingWeekFinish!==m?C.workingWeekFinish:A.workingWeekFinish,S=(C=typeof C!==m&&typeof C.specialNonworkingDays!==m?C.specialNonworkingDays:A.specialNonworkingDays,A=0,lt(O));(O=xt(O))<g?O=g:O>=x&&(S=rt(S),O=g);for(var V=lt(d);S<V;){var X=Ct(S);X>=F&&X<=v&&!Qt(S,C)&&(A+=x-O),S=rt(S),O=g}return(d=xt(d))<g?d=g:d>x&&(d=x),d>O&&(A+=d-O),A},Xe=function(n,d,c,h){if(d<0)return gt(-d,n,c,h);if(n=it(n,c,!0,!1,h),0==d)return n;var g=typeof h!==m&&typeof h.workingDayStart!==m?h.workingDayStart:c.visibleDayStart,x=typeof h!==m&&typeof h.workingDayFinish!==m?h.workingDayFinish:c.visibleDayFinish,F=xt(n);if(F+d<x)return new Date(n.valueOf()+d);for(F=x-F,n=new Date(n.valueOf()+F),d-=F;d>0;){if(n=xt(n)>0?it(rt(lt(n)),c,!0,!1,h):it(lt(n),c,!0,!1,h),g+d<x)return new Date(n.valueOf()+d);F=x-g,n=new Date(n.valueOf()+F),d-=F}return new Date(n.valueOf())},gt=function(n,d,c,h){if(n<0)return Xe(d,-n,c,h);if(d=it(d,c,!1,!0,h),0==n)return d;var g=typeof h!==m&&typeof h.workingDayStart!==m?h.workingDayStart:c.visibleDayStart,x=typeof h!==m&&typeof h.workingDayFinish!==m?h.workingDayFinish:c.visibleDayFinish,F=xt(d);if(F-n>g)return new Date(d.valueOf()-n);for(F-=g,d=new Date(d.valueOf()-F),n-=F;n>0;){if(d=xt(d)<864e5?it(lt(d),c,!1,!0,h):it(li(lt(d)),c,!1,!0,h),x-n>g)return new Date(d.valueOf()-n);F=x-g,d=new Date(d.valueOf()-F),n-=F}return new Date(d.valueOf())},ci=function(n,d,c,h,g){return Je(n,d,h,g)/Je(n,c,h,g)},qi=function(n,d,c,h,g){return Xe(n,d*Je(n,c,h,g),h,g)},Ci=function(n){for(var d=0,c=(n=Xt(n),0);c<n.length;c++)d+=n[c].value;return 0==d&&(d=1),d},Qi=function(n){if(n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)){for(var d=0,c=(n=n.children,0);c<n.length;c++)d+=Qi(n[c]);return d}return n.ganttChartView.getItemEffort(n)*Ci(n)},Ji=function(n){if(n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)){for(var d=0,c=(n=n.children,0);c<n.length;c++)d+=Ji(n[c]);return d}return n.ganttChartView.getItemCompletedEffort(n)*Ci(n)},Ee=function(n){if(n.schedule)return n.schedule;if(n.scheduleChartItem)return n.scheduleChartItem.schedule;var d=Xt(n);if(d){for(var h,c=-1/0,g=0;g<d.length;g++){var x=d[g];x.value>c&&(h=x.key,c=x.value)}if((n=n.ganttChartView)&&n.settings&&n.settings.resourceSchedules)return(h=St(n.settings.resourceSchedules,h))<0||!n.settings.resourceSchedules[h]?void 0:n.settings.resourceSchedules[h].value}},Ki=function(n,d,c,h,g,x,F,v,C,A,S){function O(le,de){A.isDuringTimeDragOperation=!0,A.draggingItem=g,A.dragType="Start",A.style.cursor=n.style.cursor,A.draggingInitialX=le.clientX,A.draggingInitialStartPosition=x,A.draggingInitialFinishPosition=F,A.draggingInitialCompletedFinishPosition=v,DlhSoft.Controls.ToolTip&&S.useUpdatingToolTips&&!de&&((V=DlhSoft.Controls.ToolTip.get(n))||(V=DlhSoft.Controls.ToolTip.initialize(void 0,n,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+S.border+"; background-color: White; color: Black; font-family: "+(S.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),V.setContent(S.dateTimeFormatter(M(g.start))+" \u2013 "+S.dateTimeFormatter(M(g.finish))),V.show(),V.originalX=V.x,A.toolTip=V)}var V;if(n.addEventListener("mousedown",he(A,n,"mousedown",function(le){0==le.button&&(O(le),le.preventDefault())},!0),!0),n.addEventListener("touchstart",he(A,n,"touchstart",function(le){O(le.touches[0],!0),le.preventDefault(),le.target.addEventListener("touchmove",he(A,le.target,"touchmove",g.touchMoveHandler)),le.target.addEventListener("touchend",he(A,le.target,"touchend",g.touchEndHandler))},!0),!0),n.addEventListener("touchend",he(A,n,"touchend",function(){Ne(n,"mouseover"),Ne(n,"mousedown"),setTimeout(function(){Ne(n,"mouseout")},2e3)},!0),!0),null!=d){var X=function(le,de){A.isDuringTimeDragOperation=!0,A.draggingItem=g,A.dragType="StartOnly",A.style.cursor=n.style.cursor,A.draggingInitialX=le.clientX,A.draggingInitialStartPosition=x,DlhSoft.Controls.ToolTip&&S.useUpdatingToolTips&&!de&&((V=DlhSoft.Controls.ToolTip.get(d))||(V=DlhSoft.Controls.ToolTip.initialize(void 0,d,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+S.border+"; background-color: White; color: Black; font-family: "+(S.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),V.setContent(S.dateTimeFormatter(M(g.start))+" \u2013"),V.show(),V.setHorizontalPosition(V.x+4),V.originalX=V.x,A.toolTip=V)};d.addEventListener("mousedown",he(A,d,"mousedown",function(le){0==le.button&&(X(le),le.preventDefault())},!0),!0),d.addEventListener("touchstart",he(A,d,"touchstart",function(le){X(le.touches[0],!0),le.preventDefault(),le.target.addEventListener("touchmove",he(A,le.target,"touchmove",g.touchMoveHandler)),le.target.addEventListener("touchend",he(A,le.target,"touchend",g.touchEndHandler))},!0),!0)}if(null!=c){var Z=function(le,de){A.isDuringTimeDragOperation=!0,A.draggingItem=g,A.dragType="Finish",A.style.cursor=c.style.cursor,A.draggingInitialX=le.clientX,A.draggingInitialFinishPosition=F,DlhSoft.Controls.ToolTip&&S.useUpdatingToolTips&&!de&&((V=DlhSoft.Controls.ToolTip.get(c))||(V=DlhSoft.Controls.ToolTip.initialize(void 0,c,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+S.border+"; background-color: White; color: Black; font-family: "+(S.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),V.setContent("\u2013 "+S.dateTimeFormatter(M(g.finish))),V.show(),V.setHorizontalPosition(V.x-V.contentContainer.clientWidth),V.originalX=V.x,A.toolTip=V)};c.addEventListener("mousedown",he(A,c,"mousedown",function(le){0==le.button&&(Z(le),le.preventDefault())},!0),!0),c.addEventListener("touchstart",he(A,c,"touchstart",function(le){Z(le.touches[0],!0),le.preventDefault(),le.target.addEventListener("touchmove",he(A,le.target,"touchmove",g.touchMoveHandler)),le.target.addEventListener("touchend",he(A,le.target,"touchend",g.touchEndHandler))},!0),!0)}if(null!=h){var _=function(le,de){if(A.isDuringTimeDragOperation=!0,A.draggingItem=g,A.dragType="CompletedFinish",A.style.cursor=h.style.cursor,A.draggingInitialX=le.clientX,A.draggingInitialCompletedFinishPosition=v,DlhSoft.Controls.ToolTip&&S.useUpdatingToolTips&&!de){(V=DlhSoft.Controls.ToolTip.get(h))||(V=DlhSoft.Controls.ToolTip.initialize(void 0,h,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+S.border+"; background-color: White; color: Black; font-family: "+(S.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));var pe=ci(g.start,g.completedFinish,g.finish,S,Ee(g));isNaN(pe)||(V.setContent(Math.round(100*pe*(S.integralCompletionPercents?1:100))/(S.integralCompletionPercents?1:100)+"%"),V.show(),V.setHorizontalPosition(V.x+2),V.originalX=V.x,A.toolTip=V)}};if(!S.classic){var te=function(){if(typeof A.temporaryHoveringCompletedFinishThumb!==m){var le=A.temporaryHoveringCompletedFinishThumb;if(delete A.temporaryHoveringCompletedFinishThumb,typeof le.childNodes[0].originalClass===m&&typeof le.childNodes[0].originalStyle===m)return;le.childNodes[0].setAttribute("class",le.childNodes[0].originalClass),le.childNodes[0].setAttribute("style",le.childNodes[0].originalStyle),delete le.childNodes[0].originalClass,delete le.childNodes[0].originalStyle}A.draggingItem||g.finish.valueOf()==g.start.valueOf()||(g.temporaryThumb=h,A.temporaryHoveringCompletedFinishThumb=h,h.childNodes[0].originalClass=h.childNodes[0].getAttribute("class"),h.childNodes[0].originalStyle=h.childNodes[0].getAttribute("style"),typeof S.completedBarThumbClass!==m&&h.childNodes[0].setAttribute("class",S.completedBarThumbClass),(typeof S.completedBarThumbClass!==m||typeof S.completedBarThumbStyle!==m)&&h.childNodes[0].setAttribute("style",S.completedBarThumbStyle),h.style.cursor="ew-resize")},ee=function(){if(typeof A.temporaryHoveringCompletedFinishThumb!==m){var le=A.temporaryHoveringCompletedFinishThumb;le==g.temporaryThumb&&(delete A.temporaryHoveringCompletedFinishThumb,typeof le.childNodes[0].originalClass===m&&typeof le.childNodes[0].originalStyle===m||(le.childNodes[0].setAttribute("class",le.childNodes[0].originalClass),le.childNodes[0].setAttribute("style",le.childNodes[0].originalStyle),delete le.childNodes[0].originalClass,delete le.childNodes[0].originalStyle))}};n.addEventListener("mouseover",he(A,n,"mouseover",te,!0),!0),h.addEventListener("mouseover",he(A,h,"mouseover",te,!0),!0),n.addEventListener("mouseout",he(A,n,"mouseout",ee,!0),!0),h.addEventListener("mouseout",he(A,h,"mouseout",ee,!0),!0)}h.addEventListener("mousedown",he(A,h,"mousedown",function(le){0==le.button&&(_(le),le.preventDefault())},!0),!0),h.addEventListener("touchstart",he(A,h,"touchstart",function(le){_(le.touches[0],!0),le.preventDefault(),le.target.addEventListener("touchmove",he(A,le.target,"touchmove",g.touchMoveHandler)),le.target.addEventListener("touchend",he(A,le.target,"touchend",g.touchEndHandler))},!0),!0)}for(typeof A.draggableItems===m&&(A.draggableItems=[]),te=!1,ee=0;ee<A.draggableItems.length;ee++)if(A.draggableItems[ee]==g){te=!0;break}if(!te){var ce=function(le,de){if(typeof A.draggingItem!==m&&A.draggingItem==g&&("Start"==A.dragType||"StartOnly"==A.dragType||"Finish"==A.dragType||"CompletedFinish"==A.dragType)){var ve,Ie,pe=le.clientX-A.draggingInitialX;hn(le.clientX,A),delete A.draggingItem,A.draggingInitialStartPosition+pe<0&&(pe=-A.draggingInitialStartPosition),"Start"==A.dragType||"StartOnly"==A.dragType?("StartOnly"!=A.dragType&&(ve=Je(g.start,g.finish,S,Ee(g))),Ie=Je(g.start,g.completedFinish,S,Ee(g)),pe=it(Gt(Wt(A.draggingInitialStartPosition+pe,S),S),S,!0,g.isMilestone,Ee(g)),"StartOnly"==A.dragType&&pe>g.finish&&(pe=g.finish),g.start=pe,g.preferredStart=g.start,se(g,"start",!0,!1),"StartOnly"!=A.dragType?(g.isMilestone?(g.finish=g.start,se(g,"finish",!1,!1),g.completedFinish=g.start):(g.finish=Xe(g.start,ve,S,Ee(g)),se(g,"finish",!1,!1),g.completedFinish=Xe(g.start,Ie,S,Ee(g))),se(g,"completedFinish",!1,!1),DlhSoft.Controls.ToolTip&&S.useUpdatingToolTips&&!de&&((V=A.toolTip).setContent(S.dateTimeFormatter(M(g.start))+" \u2013 "+S.dateTimeFormatter(M(g.finish))),V.setHorizontalPosition(V.originalX+(Fe(g.start,S)-A.draggingInitialStartPosition)))):(g.finish<g.start&&(g.finish=g.start,se(g,"finish",!1,!1)),(g.completedFinish<g.start||Ie<=0)&&(g.completedFinish=g.start,se(g,"completedFinish",!1,!1)),DlhSoft.Controls.ToolTip&&S.useUpdatingToolTips&&!de&&((V=A.toolTip).setContent(S.dateTimeFormatter(M(g.start))+" \u2013"),V.setHorizontalPosition(V.originalX+(Fe(g.start,S)-A.draggingInitialStartPosition)))),Si(g,C,A.chartContent,S)):"Finish"==A.dragType?((pe=it(Gt(Wt(A.draggingInitialFinishPosition+pe,S),S),S,g.isMilestone,!0,Ee(g)))<g.start&&(pe=g.start),pe.valueOf()!=g.finish.valueOf()&&(g.finish=pe,se(g,"finish",!0,!1)),g.completedFinish>pe&&(g.completedFinish=pe,se(g,"completedFinish",!1,!1)),DlhSoft.Controls.ToolTip&&S.useUpdatingToolTips&&!de&&((V=A.toolTip).setContent("\u2013 "+S.dateTimeFormatter(M(g.finish))),V.setHorizontalPosition(V.originalX+(Fe(g.finish,S)-A.draggingInitialFinishPosition))),Si(g,C,A.chartContent,S)):"CompletedFinish"==A.dragType&&(S.percentBasedCompletionBar?g.start.valueOf()!=g.finish.valueOf()&&(ve=Fe(g.start,S),Ie=Math.max(Fe(g.finish,S),ve+(S.classic?4:12)),pe=Math.max(0,Math.min(1,(A.draggingInitialCompletedFinishPosition+pe-ve)/(Ie-ve))),(pe=qi(g.start,pe,g.finish,S)).valueOf()!=g.completedFinish.valueOf()&&(g.completedFinish=pe,se(g,"completedFinish",!0,!1))):((pe=it(Gt(Wt(A.draggingInitialCompletedFinishPosition+pe,S),S),S,g.isMilestone,!0,Ee(g)))<g.start&&(pe=g.start),pe>g.finish&&(pe=g.finish),pe.valueOf()!=g.completedFinish.valueOf()&&(g.completedFinish=pe,se(g,"completedFinish",!0,!1))),DlhSoft.Controls.ToolTip&&S.useUpdatingToolTips&&!de&&(V=A.toolTip,pe=ci(g.start,g.completedFinish,g.finish,S,Ee(g)),isNaN(pe)||(V.setContent(Math.round(100*pe*(S.integralCompletionPercents?1:100))/(S.integralCompletionPercents?1:100)+"%"),V.setHorizontalPosition(V.originalX+(Fe(g.completedFinish,S)-A.draggingInitialCompletedFinishPosition)))),Si(g,C,A.chartContent,S)),A.draggingItem=g,A.draggingPerformed=!0}};A.addEventListener("mousemove",he(A,A,"mousemove",function(le){ce(le)},!0),!0),A.addEventListener("touchmove",he(A,A,"touchmove",function(le){ce(le.touches[0],!0)},!0),!0),g.touchMoveHandler=function(le){ce(le.touches[0],!0)};var ie=function(){if(typeof A.draggingItem!==m&&A.draggingItem==g&&("Start"==A.dragType||"StartOnly"==A.dragType||"Finish"==A.dragType||"CompletedFinish"==A.dragType)){delete A.isDuringTimeDragOperation;var le=A.draggingItem;A.style.cursor="default",A.draggingPerformed&&("Start"==A.dragType||"StartOnly"==A.dragType?(se(le,"start",!0,!0),se(le,"finish",!1,!0),se(le,"completedFinish",!1,!0)):"Finish"==A.dragType?(se(le,"finish",!0,!0),se(le,"completedFinish",!1,!0)):"CompletedFinish"==A.dragType&&se(le,"completedFinish",!0,!0),delete A.draggingPerformed),delete A.draggingItem}};document.addEventListener("mouseup",he(A,document,"mouseup",function(le){0==le.button&&ie()},!0),!0),document.addEventListener("touchend",he(A,document,"touchend",function(){ie()},!0),!0),g.touchEndHandler=function(){ie()},A.draggableItems.push(g)}},zi=function(n,d,c,h,g,x,F,v,C,A){function S(ee,ce){delete C.cancelDrag,C.draggingItem=h,C.dragType="Dependency",C.dragDependencyType="Finish",C.style.cursor=n.style.cursor,C.draggingInitialX=ee.clientX,C.draggingInitialY=ee.clientY,C.draggingInitialRightPosition=x,C.draggingInitialTopPosition=g,C.draggingInitialFinishPosition=x,C.draggingInitialThumbPosition=g,DlhSoft.Controls.ToolTip&&A.useUpdatingToolTips&&!ce&&((toolTip=DlhSoft.Controls.ToolTip.get(n))||(toolTip=DlhSoft.Controls.ToolTip.initialize(void 0,n,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+A.border+"; background-color: White; color: Black; font-family: "+(A.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),toolTip.setContent(h.content+" \u2013"),toolTip.show(),toolTip.setPosition(toolTip.x+16,toolTip.y-8),toolTip.originalX=toolTip.x,toolTip.originalY=toolTip.y,C.toolTip=toolTip)}var O=h.ganttChartView.ownerDocument;if(C.temporaryHoveringThumb&&(C.temporaryHoveringThumb.originalClass||C.temporaryHoveringThumb.originalStyle)&&(C.temporaryHoveringThumb.setAttribute("class",C.temporaryHoveringThumb.originalClass),C.temporaryHoveringThumb.setAttribute("style",C.temporaryHoveringThumb.originalStyle),delete C.temporaryHoveringThumb.originalClass,delete C.temporaryHoveringThumb.originalStyle),null!=n&&(n.addEventListener("mousedown",he(C,n,"mousedown",function(ee){0==ee.button&&(S(ee),ee.preventDefault())},!0),!0),n.addEventListener("touchstart",he(C,n,"touchstart",function(ee){S(ee.touches[0],!0),ee.preventDefault()},!0),!0)),null!=d){var V=function(ee,ce){delete C.cancelDrag,C.draggingItem=h,C.dragType="Dependency",C.dragDependencyType="Start",C.style.cursor=n.style.cursor,C.draggingInitialX=ee.clientX,C.draggingInitialY=ee.clientY,C.draggingInitialRightPosition=F,C.draggingInitialTopPosition=g,C.draggingInitialFinishPosition=F,C.draggingInitialThumbPosition=g,ee.preventDefault(),DlhSoft.Controls.ToolTip&&A.useUpdatingToolTips&&!ce&&((toolTip=DlhSoft.Controls.ToolTip.get(d))||(toolTip=DlhSoft.Controls.ToolTip.initialize(void 0,d,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+A.border+"; background-color: White; color: Black; font-family: "+(A.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),toolTip.setContent(h.content+" \u2013"),toolTip.show(),toolTip.setPosition(toolTip.x+16,toolTip.y-8),toolTip.originalX=toolTip.x,toolTip.originalY=toolTip.y,C.toolTip=toolTip)};d.addEventListener("mousedown",he(C,d,"mousedown",function(ee){0==ee.button&&(V(ee),ee.preventDefault())},!0),!0),d.addEventListener("touchstart",he(C,d,"touchstart",function(ee){V(ee.touches[0],!0),ee.preventDefault()},!0),!0)}n?.addEventListener("mouseover",he(C,n,"mouseover",function(){if(A.classic&&typeof C.temporaryHoveringThumb!==m){var ee=C.temporaryHoveringThumb;if(delete C.temporaryHoveringThumb,typeof ee.originalClass===m&&typeof ee.originalStyle===m)return;ee.setAttribute("class",ee.originalClass),ee.setAttribute("style",ee.originalStyle),delete ee.originalClass,delete ee.originalStyle}typeof C.temporaryDependencyLine!==m||n.originalStyle||(n.mouseOver=!0,C.temporaryHoveringThumb=n,n.originalClass=n.getAttribute("class"),n.originalStyle=n.getAttribute("style"),typeof A.dependencyPointerClass!==m&&n.setAttribute("class",A.dependencyPointerClass),(typeof A.dependencyPointerClass!==m||typeof A.dependencyPointerStyle!==m)&&n.setAttribute("style",A.dependencyPointerStyle),n.style.cursor="pointer",setTimeout(function(){Ne(n,"mouseout")},4e3))},!0),!0),d?.addEventListener("mouseover",he(C,d,"mouseover",function(){if(A.classic&&typeof C.temporaryHoveringThumb!==m){var ee=C.temporaryHoveringThumb;if(delete C.temporaryHoveringThumb,typeof ee.originalClass===m&&typeof ee.originalStyle===m)return;ee.setAttribute("class",ee.originalClass),ee.setAttribute("style",ee.originalStyle),delete ee.originalClass,delete ee.originalStyle}typeof C.temporaryDependencyLine!==m||d.originalStyle||(d.mouseOver=!0,C.temporaryHoveringThumb=d,d.originalClass=d.getAttribute("class"),d.originalStyle=d.getAttribute("style"),typeof A.dependencyPointerClass!==m&&d.setAttribute("class",A.dependencyPointerClass),(typeof A.dependencyPointerClass!==m||typeof A.dependencyPointerStyle!==m)&&d.setAttribute("style",A.dependencyPointerStyle),d.style.cursor="pointer",setTimeout(function(){Ne(d,"mouseout")},4e3))},!0),!0),n?.addEventListener("mouseout",he(C,n,"mouseout",function(){delete n.mouseOver,setTimeout(function(){typeof n.originalClass===m&&typeof n.originalStyle===m||n.mouseOver||(n.setAttribute("class",n.originalClass),n.setAttribute("style",n.originalStyle),delete n.originalClass,delete n.originalStyle)},A.classic?250:0)},!0),!0),d?.addEventListener("mouseout",he(C,d,"mouseout",function(){delete d.mouseOver,setTimeout(function(){typeof d.originalClass===m&&typeof d.originalStyle===m||d.mouseOver||(d.setAttribute("class",d.originalClass),d.setAttribute("style",d.originalStyle),delete d.originalClass,delete d.originalStyle)},A.classic?250:0)},!0),!0),n?.addEventListener("touchend",he(C,n,"touchend",function(){Ne(n,"mouseover"),setTimeout(function(){Ne(n,"mouseout")},2e3)},!0),!0),d?.addEventListener("touchend",he(C,d,"touchend",function(){Ne(d,"mouseover"),setTimeout(function(){Ne(d,"mouseout")},2e3)},!0),!0),typeof C.draggableDependencyItems===m&&(C.draggableDependencyItems=[]);for(var X=!1,Z=0;Z<C.draggableDependencyItems.length;Z++)if(C.draggableDependencyItems[Z]==h){X=!0;break}if(!X){var _=function(ee,ce){if(typeof C.draggingItem!==m&&C.draggingItem==h&&"Dependency"==C.dragType){var ie=ee.clientX-C.draggingInitialX,le=ee.clientY-C.draggingInitialY;if(hn(ee.clientX,C),cn(ee.clientY,C),delete C.draggingItem,C.draggingInitialFinishPosition+ie<0&&(ie=-C.draggingInitialFinishPosition),typeof C.temporaryInitDependencyLine!==m){try{c.removeChild(C.temporaryInitDependencyLine)}catch{}delete C.temporaryInitDependencyLine}if(typeof C.temporaryDependencyLine!==m){try{c.removeChild(C.temporaryDependencyLine)}catch{}delete C.temporaryDependencyLine}if(C.cancelDrag)delete C.cancelDrag,delete C.draggingItem,C.style.cursor="default";else if(A.classic||((de=O.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("x1",C.draggingInitialRightPosition+("Start"==C.dragDependencyType?-8:8)*(h.isMilestone||h.hasChildren?2:1)),de.setAttribute("y1",C.draggingInitialTopPosition),de.setAttribute("x2",C.draggingInitialRightPosition),de.setAttribute("y2",C.draggingInitialTopPosition),typeof A.temporaryDependencyLineClass!==m&&de.setAttribute("class",A.temporaryDependencyLineClass),typeof A.temporaryDependencyLineStyle!==m&&de.setAttribute("style",A.temporaryDependencyLineStyle),de.style.markerEnd="none",C.temporaryInitDependencyLine=de,c.appendChild(de)),(de=O.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("x1",C.draggingInitialRightPosition+(A.classic?0:("Start"==C.dragDependencyType?-8:8)*(h.isMilestone||h.hasChildren?2:1))),de.setAttribute("y1",C.draggingInitialTopPosition),de.setAttribute("x2",C.draggingInitialFinishPosition+ie),de.setAttribute("y2",C.draggingInitialThumbPosition+le),typeof A.temporaryDependencyLineClass!==m&&de.setAttribute("class",A.temporaryDependencyLineClass),typeof A.temporaryDependencyLineStyle!==m&&de.setAttribute("style",A.temporaryDependencyLineStyle),C.temporaryDependencyLine=de,c.appendChild(de),C.draggingItem=h,DlhSoft.Controls.ToolTip&&A.useUpdatingToolTips&&!ce){toolTip=C.toolTip;for(var pe=Math.floor((h.itemTop+C.draggingInitialThumbPosition+le)/A.itemHeight),de=null,ve=0,Ie=0;Ie<v.length;Ie++){var Pe=v[Ie];if(Pe.isVisible&&(typeof Pe.isHidden===m||!Pe.isHidden)&&typeof Pe.displayRowIndex===m){if(ve==pe){de=Pe;break}ve++}}pe="Start",null!=de&&(ve=C.draggingInitialFinishPosition+ie,Ie=Fe(de.start,A),Pe=Fe(de.finish,A),(de.isMilestone||de.hasChildren&&(typeof de.isSummaryEnabled===m||de.isSummaryEnabled))&&(Ie-=A.itemHeight/2,Pe+=A.itemHeight/2),Pe<Ie+(A.classic?4:12)&&(Pe=Ie+(A.classic?4:12)),(ve<Ie||ve>Pe||ri(de,h)||Vt(de,h)||Vt(h,de))&&(de=null),null!=de&&(typeof A.allowCreatingToFinishDependencies===m||A.allowCreatingToFinishDependencies)&&!de.isMilestone&&ve>Ie+3*(Pe-Ie)/4&&(pe="Finish")),null==h.scheduleChartView&&(toolTip.setContent(h.content+" \u2013"+(null!=de?" "+de.content+("Finish"!=pe?"":" \u2022"):"")),toolTip.setPosition(toolTip.originalX+ie,toolTip.originalY+le))}}};C.addEventListener("mousemove",he(C,C,"mousemove",function(ee){_(ee)},!0),!0),C.addEventListener("touchmove",he(C,C,"touchmove",function(ee){_(ee.touches[0],!0)},!0),!0);var te=function(ee){if(typeof C.draggingItem!==m&&C.draggingItem==h&&"Dependency"==C.dragType){if(typeof C.temporaryInitDependencyLine!==m){try{c.removeChild(C.temporaryInitDependencyLine)}catch{}delete C.temporaryInitDependencyLine}if(typeof C.temporaryDependencyLine!==m){try{c.removeChild(C.temporaryDependencyLine)}catch{}delete C.temporaryDependencyLine}for(var ce=Math.floor((h.itemTop+C.draggingInitialThumbPosition+(ee.clientY-C.draggingInitialY))/A.itemHeight),ie=null,le=0,de=0;de<v.length;de++){var pe=v[de];if(pe.isVisible&&(typeof pe.isHidden===m||!pe.isHidden)&&typeof pe.displayRowIndex===m){if(le==ce){ie=pe;break}le++}}if(null!=ie){if(ee=C.draggingInitialFinishPosition+(ee.clientX-C.draggingInitialX),ie.scheduleChartView)for(de=0;de<ie.ganttChartItems.length;de++)if(ce=C.getChartPosition((pe=ie.ganttChartItems[de]).start),le=C.getChartPosition(pe.finish),pe.isMilestone&&(ce-=A.itemHeight/2,le+=A.itemHeight/2),ee>=ce&&ee<=le){ie=pe;break}if(ce=Fe(ie.start,A),le=Fe(ie.finish,A),(ie.isMilestone||ie.hasChildren&&(typeof ie.isSummaryEnabled===m||ie.isSummaryEnabled))&&(ce-=A.itemHeight/2,le+=A.itemHeight/2),le<ce+(A.classic?4:12)&&(le=ce+(A.classic?4:12)),ee>=ce&&ee<=le)if(de=null==ie||typeof A.allowCreatingToFinishDependencies!==m&&!A.allowCreatingToFinishDependencies||ie.isMilestone||ee<=ce+3*(le-ce)/4?"Start":"Finish",ri(ie,h)||Vt(ie,h)||Vt(h,ie)||A.alwaysHandleInvalidDependencies&&je(h,ie))A.invalidPredecessorDetectionHandler&&(pe={item:h},"Start"!=C.dragDependencyType?"Finish"==de&&(pe.dependencyType="FF"):pe.dependencyType="Finish"!=de?"SS":"SF",A.invalidPredecessorDetectionHandler(pe,ie,h));else{var ve,Ie;delete h.successors,typeof ie.predecessors===m&&(ie.predecessors=[]),pe={item:h},"Start"!=C.dragDependencyType?"Finish"==de&&(pe.dependencyType="FF"):pe.dependencyType="Finish"!=de?"SS":"SF",ie.predecessors.push(pe),se(ie,"predecessors",!0,!0),ie.start<h.finish&&!A.areTaskDependencyConstraintsEnabled&&!A.areTaskDependencyConstraintsDisabledWhenDropping&&(!ie.isMilestone&&(!ie.hasChildren||!(typeof ie.isSummaryEnabled===m||ie.isSummaryEnabled))&&(ve=Je(ie.start,ie.finish,A,Ee(ie)),Ie=Je(ie.start,ie.completedFinish,A,Ee(ie))),(!ie.hasChildren||typeof ie.isSummaryEnabled!==m&&!ie.isSummaryEnabled)&&"Start"==de&&(ie.start=it(Gt("Start"!=C.dragDependencyType?h.finish:h.start,A),A,!0,ie.isMilestone,Ee(h)),se(ie,"start",!1,!0),ie.isMilestone?(ie.finish=ie.start,se(ie,"finish",!1,!0),ie.completedFinish=ie.start):(ie.finish=Xe(ie.start,ve,A,Ee(ie)),se(ie,"finish",!1,!0),ie.completedFinish=Xe(ie.start,Ie,A,Ee(ie))),se(ie,"completedFinish",!1,!0))),Si(ie,v,C.chartContent,A),Si(h,v,C.chartContent,A)}}delete C.draggingItem,C.style.cursor="default"}};O.addEventListener("mouseup",he(C,O,"mouseup",function(ee){0==ee.button&&te(ee)},!0),!0),O.addEventListener("touchend",he(C,O,"touchend",function(ee){te(ee.changedTouches[0])},!0),!0),C.draggableDependencyItems.push(h)}},hn=function(n,d){var c=d.settings;if(typeof d.draggingItem!==m&&c.enableHorizontalScrollingDuringDragging){var h=new Date;if(!d.lastXDraggingTime||!(h>d.lastXDraggingTime&&h-d.lastXDraggingTime<50)){d.lastXDraggingTime=h;var g=0;if((h=d).offsetParent)do{g+=h.offsetLeft,h=h.offsetParent}while(h);(n-=g)<d.gridContentContainer.offsetWidth+c.horizontalScrollingDragAreaWidth?(h=d.chartContentContainer.scrollLeft,d.chartContentContainer.scrollLeft=d.chartContentContainer.scrollLeft-c.horizontalScrollingDragAmount,c=h-d.chartContentContainer.scrollLeft,typeof d.draggingInitialStartPosition!==m&&(d.draggingInitialStartPosition=d.draggingInitialStartPosition-c),typeof d.draggingInitialFinishPosition!==m&&(d.draggingInitialFinishPosition=d.draggingInitialFinishPosition-c),typeof d.draggingInitialCompletedFinishPosition!==m&&(d.draggingInitialCompletedFinishPosition=d.draggingInitialCompletedFinishPosition-c)):n>=d.gridContentContainer.offsetWidth+d.chartContentContainer.clientWidth-c.horizontalScrollingDragAreaWidth&&(h=d.chartContentContainer.scrollLeft,d.chartContentContainer.scrollLeft=d.chartContentContainer.scrollLeft+c.horizontalScrollingDragAmount,c=d.chartContentContainer.scrollLeft-h,typeof d.draggingInitialStartPosition!==m&&(d.draggingInitialStartPosition=d.draggingInitialStartPosition+c),typeof d.draggingInitialFinishPosition!==m&&(d.draggingInitialFinishPosition=d.draggingInitialFinishPosition+c),typeof d.draggingInitialCompletedFinishPosition!==m&&(d.draggingInitialCompletedFinishPosition=d.draggingInitialCompletedFinishPosition+c))}}},cn=function(n,d){var c=d.settings;if(typeof d.draggingItem!==m&&c.enableVerticalScrollingDuringDragging){var g,h=new Date;if(!d.lastYDraggingTime||!(h>d.lastYDraggingTime&&h-d.lastYDraggingTime<50))d.lastYDraggingTime=h,n-=function(n){var d=0;if(n.offsetParent)do{d+=n.offsetTop,n=n.offsetParent}while(n);return d}(d),n>=d.chartHeaderContainer.clientHeight&&n<d.chartHeaderContainer.clientHeight+c.verticalScrollingDragAreaHeight?(g=d.chartContentContainer.scrollTop,d.chartContentContainer.scrollTop=d.chartContentContainer.scrollTop-c.verticalScrollingDragAmount,typeof d.isDuringVerticalScrolling===m&&(d.isDuringVerticalScrolling=!0,setTimeout(function(){d.draggingInitialThumbPosition=d.draggingInitialThumbPosition-(g-d.chartContentContainer.scrollTop),delete d.isDuringVerticalScrolling},0))):n>=d.chartHeaderContainer.clientHeight+d.chartContentContainer.clientHeight-c.verticalScrollingDragAreaHeight&&(g=d.chartContentContainer.scrollTop,d.chartContentContainer.scrollTop=d.chartContentContainer.scrollTop+c.verticalScrollingDragAmount,typeof d.isDuringVerticalScrolling===m&&(d.isDuringVerticalScrolling=!0,setTimeout(function(){d.draggingInitialThumbPosition=d.draggingInitialThumbPosition+(d.chartContentContainer.scrollTop-g),delete d.isDuringVerticalScrolling},0)))}},Si=function(n,d,c,h){a(n.chartPredecessorItems,n,h),l(n.chartItem,n,h),t(d,n),setTimeout(function(){if(typeof n.gridItem!==m){if(typeof n.completedInput!==m){var g=n.completedInput;typeof g.changeEventListener!==m&&g.removeEventListener("change",g.changeEventListener,!0),delete n.completedInput}ei(n.gridItem,n,d,h.columns,c,h.toggleButtonAreaWidth,h)}for(g=n.parent;null!=g;)jt(g,!1),a((n=g).chartPredecessorItems,n,h),l(n.chartItem,n,h),t(d,n),typeof n.gridItem!==m&&ei(n.gridItem,n,d,h.columns,c,h.toggleButtonAreaWidth,h),g=n.parent},0)},un=function(n){var d=n.itemTop-n.ganttChartView.chartContentContainer.scrollTop;d<0?n.ganttChartView.chartContentContainer.scrollTop=n.itemTop:d>n.ganttChartView.chartContentContainer.clientHeight-n.ganttChartView.settings.itemHeight&&(n.ganttChartView.chartContentContainer.scrollTop=n.itemTop-(n.ganttChartView.chartContentContainer.clientHeight-n.ganttChartView.settings.itemHeight))},Fn=function(n,d,c,h,g,x,F,v,C,A,S,O,V,X){var Z,_;d.addEventListener("scroll",he(n,d,"scroll",function(){F.scrollTop!=d.scrollTop&&!_&&(Z=!0,setTimeout(function(){F.scrollTop=d.scrollTop,setTimeout(function(){Z=!1},100)},200)),h.scrollLeft!=d.scrollLeft&&(h.scrollLeft=d.scrollLeft)},!0),!0),Ri(d,c,g,X),typeof n.updateGridHeaderTimer!==m&&clearInterval(n.updateGridHeaderTimer),n.updateGridHeaderTimer=setInterval(function(){try{Ri(d,c,g,X)}catch{try{clearInterval(n.updateGridHeaderTimer)}catch{}}},100),F.addEventListener("scroll",he(n,F,"scroll",function(){d.scrollTop!=F.scrollTop&&!Z&&(_=!0,setTimeout(function(){d.scrollTop=F.scrollTop,setTimeout(function(){_=!1},100)},200)),v.scrollLeft!=F.scrollLeft&&(v.scrollLeft=F.scrollLeft),ui(V,F,X),hi(V,S,X),X.displayedTime=Wt(F.scrollLeft,X),(typeof n.isDuringScrollToDateTime===m||!n.isDuringScrollToDateTime)&&typeof X.displayedTimeChangeHandler!==m&&setTimeout(function(){X.displayedTimeChangeHandler(X.displayedTime)},0),typeof n.isDuringScrollToDateTime!==m&&delete n.isDuringScrollToDateTime},!0),!0),setTimeout(function(){v.scrollLeft!=F.scrollLeft&&(v.scrollLeft=F.scrollLeft),ui(V,F,X)},1),Ri(F,C,A,X),typeof n.updateChartHeaderTimer!==m&&clearInterval(n.updateChartHeaderTimer),n.updateChartHeaderTimer=setInterval(function(){try{Ri(F,C,A,X)}catch{try{clearInterval(n.updateChartHeaderTimer)}catch{}}},100),window.addEventListener("mousewheel",he(n,window,"mousewheel",function(){try{n.cancelDrag=!0}catch{}},!0),!0)},Ri=function(n,d,c,h){setTimeout(function(){try{var g=d.clientWidth-n.clientWidth;g<0&&(g=0);var x=g+"px";c.style.width!=x&&(c.style.width=x,g>0?(c.style.boxSizing="border-box",c.style.MozBoxSizing="border-box",c.style.border="solid 1px "+h.border,c.style.borderTop="none",c.style.borderRight="none"):(c.style.border="",c.style.borderTop="",c.style.borderRight="",c.style.boxSizing="",c.style.MozBoxSizing=""))}catch{}},0)},yi=function(n,d,c){c.isSplitterEnabled&&(n.style.height=d.clientHeight+"px",n.style.left=Math.max(0,d.offsetWidth-1)+"px")},ui=function(n,d,c){if((typeof d.isInitializing===m||!d.isInitializing)&&c.isVirtualizing)for(var h=d.scrollTop-c.itemHeight,g=(d=h+d.clientHeight+2*c.itemHeight,0);g<n.length;g++){var x=n[g];x.isPart||(x.scheduleChartItem&&x.scheduleChartItem!=x?(x.itemTop!=x.scheduleChartItem.itemTop||x.isVirtuallyVisible!=x.scheduleChartItem.isVirtuallyVisible)&&(x.itemTop=x.scheduleChartItem.itemTop,x.isVirtuallyVisible=x.scheduleChartItem.isVirtuallyVisible,x.isVirtuallyVisible&&(a(x.chartPredecessorItems,x,c),l(x.chartItem,x,c),x.chartItem.setAttribute("transform","translate(0, "+x.itemTop+")"),x.chartPredecessorItems.setAttribute("transform","translate(0, "+x.itemTop+")"),R(x,x.itemTop))):typeof x.isVirtuallyVisible===m&&(typeof x.isVisible===m||x.isVisible)&&(typeof x.isHidden===m||!x.isHidden)&&typeof x.itemTop!==m&&x.itemTop>=h&&x.itemTop<d?(x.isVirtuallyVisible=!0,se(x,"isVirtuallyVisible",!1,!0),typeof x.gridItem!==m&&ei(x.gridItem,x,n,c.columns,x.ganttChartView.chartContent,c.toggleButtonAreaWidth,c),a(x.chartPredecessorItems,x,c),l(x.chartItem,x,c),x.chartItem.setAttribute("transform","translate(0, "+x.itemTop+")"),x.chartPredecessorItems.setAttribute("transform","translate(0, "+x.itemTop+")"),R(x,x.itemTop)):typeof x.isVirtuallyVisible!==m&&(typeof x.isVisible===m||x.isVisible)&&(typeof x.isHidden===m||!x.isHidden)&&typeof x.itemTop!==m&&(x.itemTop<h||x.itemTop>=d)&&delete x.isVirtuallyVisible)}},Hn=function(n,d){for(var c=n.childNodes.length;c-- >0;)n.removeChild(n.childNodes[c]);n.appendChild(d)},en=function(n,d,c,h){var g=h.indexOf(n);g<0||d<0||d==g||d>=h.length||(h.splice(g,1),h.splice(d,0,n),fn(h),Le(c),typeof c.settings.itemMoveHandler!==m&&c.settings.itemMoveHandler(n,g,d))},Bi=function(n,d,c,h,g){if(!(n<0||c<0||c==n||c>g.length-d)){var F,x=[];for(F=n;F<n+d;F++)x.push(g[F]);for(g.splice(n,d),F=0;F<x.length;F++)g.splice(c+F,0,x[F]);if(fn(g),Le(h),typeof h.settings.itemMoveHandler!==m)for(F=0;F<x.length;F++)h.settings.itemMoveHandler(x[F],n+F,c+F)}},fn=function(n){for(var d=0,c=0;c<n.length;c++){var h=n[c];h.indentation>d&&(h.indentation=d,se(h,"indentation",!1,!0)),d=h.indentation+1}},Vn=function(n,d){for(var c in d)0!=c.indexOf("custom")&&0!=c.indexOf("description")||typeof n[c]===m&&(n[c]=d[c])},pn=function(n,d,c,h,g,x,F,v,C,A,S,O,V,X,Z,_){var te,ce,ee=[];if(typeof h!==m)for(te=0;te<h.length;te++)ee.push({isTreeView:(ce=_.columns[h[te]]).isTreeView,header:ce.header,width:ce.width,headerClass:ce.headerClass,headerStyle:ce.headerStyle,cellClass:ce.cellClass,cellStyle:ce.cellStyle,cellTemplate:typeof ce.exportCellTemplate!==m?ce.exportCellTemplate:ce.cellTemplate});else for(te=0;te<_.columns.length;te++)(ce=_.columns[te]).isSelection||ee.push({isTreeView:ce.isTreeView,header:ce.header,width:ce.width,headerClass:ce.headerClass,headerStyle:ce.headerStyle,cellClass:ce.cellClass,cellStyle:ce.cellStyle,cellTemplate:typeof ce.exportCellTemplate!==m?ce.exportCellTemplate:ce.cellTemplate});typeof c===m&&(c=_.isGridVisible),te=c?Tt(ee)+1:0,typeof g!==m?(typeof F===m||!F)&&(g=new Date(g.valueOf()-6e4*g.getTimezoneOffset())):g=_.timelineStart,typeof x!==m?(typeof F===m||!F)&&(x=new Date(x.valueOf()-6e4*x.getTimezoneOffset())):x=_.timelineFinish,(g={isExport:!0,isReadOnly:!0,selectionMode:"None",isVirtualizing:!1,isGridVisible:c,isSplitterEnabled:!1,gridWidth:te+"px",columns:ee,allowUserToResizeColumns:!1,isGridRowClickTimeScrollingEnabled:!1,isMouseWheelZoomEnabled:!1,timelineStart:g,timelineFinish:x,extendTimelineToEntireWeeks:_.extendTimelineToEntireWeeks,hourWidth:typeof v!==m?v:_.hourWidth,displayedTime:typeof g!==m?g:_.timelineStart,currentTime:_.currentTime,isTaskToolTipVisible:!1,isDependencyToolTipVisible:!1,containerClass:_.containerClass,containerStyle:_.containerStyle,border:_.border,theme:_.theme,headerBackground:_.headerBackground,headerHeight:_.headerHeight,itemHeight:_.itemHeight,itemClass:_.itemClass,itemStyle:_.itemStyle,standardItemClass:_.standardItemClass,summaryItemClass:_.summaryItemClass,milestoneItemClass:_.milestoneItemClass,standardItemStyle:_.standardItemStyle,summaryItemStyle:_.summaryItemStyle,milestoneItemStyle:_.milestoneItemStyle,indentationLevelWidth:_.indentationLevelWidth,toggleButtonClass:_.toggleButtonClass,toggleButtonStyle:_.toggleButtonStyle,scales:[],visibleWeekStart:_.visibleWeekStart,visibleWeekFinish:_.visibleWeekFinish,workingWeekStart:_.workingWeekStart,workingWeekFinish:_.workingWeekFinish,visibleDayStart:_.visibleDayStart,visibleDayFinish:_.visibleDayFinish,specialNonworkingDays:_.specialNonworkingDays,barMargin:_.barMargin,barHeight:_.barHeight,barCornerRadius:_.barCornerRadius,completedBarMargin:_.completedBarMargin,completedBarHeight:_.completedBarHeight,completedBarCornerRadius:_.completedBarCornerRadius,standardBarClass:_.standardBarClass,summaryBarClass:_.summaryBarClass,milestoneBarClass:_.milestoneBarClass,standardBarStyle:_.standardBarStyle,summaryBarStyle:_.summaryBarStyle,milestoneBarStyle:_.milestoneBarStyle,standardCompletedBarClass:_.standardCompletedBarClass,standardCompletedBarStyle:_.standardCompletedBarStyle,summaryCompletedBarClass:_.summaryCompletedBarClass,summaryCompletedBarStyle:_.summaryCompletedBarStyle,dependencyLineClass:_.dependencyLineClass,dependencyLineStyle:_.dependencyLineStyle,assignmentsClass:_.assignmentsClass,assignmentsStyle:_.assignmentsStyle,areTaskAssignmentsVisible:_.areTaskAssignmentsVisible,isTaskCompletedEffortVisible:_.isTaskCompletedEffortVisible,areTaskDependenciesVisible:_.areTaskDependenciesVisible,areDependencyConstraintsAppliedOnStartedTasks:_.areDependencyConstraintsAppliedOnMilestones,areDependencyConstraintsAppliedOnMilestones:_.areDependencyConstraintsAppliedOnMilestones,isBaselineVisible:_.isBaselineVisible,areStandardTaskLabelsVisible:_.areStandardTaskLabelsVisible,areSummaryTaskLabelsVisible:_.areSummaryTaskLabelsVisible,areMilestoneTaskLabelsVisible:_.areMilestoneTaskLabelsVisible,areResourceImagesVisibleAsAssignments:_.areResourceImagesVisibleAsAssignments,resourceImageUrls:_.resourceImageUrls,standardLabelColor:_.standardLabelColor,summaryLabelColor:_.summaryLabelColor,milestoneLabelColor:_.milestoneLabelColor,standardLabelClass:_.standardLabelClass,standardLabelStyle:_.standardLabelStyle,summaryLabelClass:_.summaryLabelClass,summaryLabelStyle:_.summaryLabelStyle,milestoneLabelClass:_.milestoneLabelClass,milestoneLabelStyle:_.milestoneLabelStyle,arrowSize:_.arrowSize,arrowFill:_.arrowFill,alternativeItemClass:_.alternativeItemClass,alternativeChartItemClass:_.alternativeChartItemClass,alternativeItemStyle:_.alternativeItemStyle,alternativeChartItemStyle:_.alternativeChartItemStyle,gridLines:_.gridLines,horizontalGridLines:_.horizontalGridLines,verticalGridLines:_.verticalGridLines,verticalGridHeaderLines:_.verticalGridHeaderLines,horizontalChartLines:_.horizontalChartLines,isIndividualItemNonworkingTimeHighlighted:_.isIndividualItemNonworkingTimeHighlighted,areTaskInterruptionsHighlighted:_.areTaskInterruptionsHighlighted,isBaselineVisible:_.isBaselineVisible,taskInitiationCost:_.taskInitiationCost,defaultResourceUsageCost:_.defaultResourceUsageCost,specificResourceUsageCosts:_.specificResourceUsageCosts,defaultResourceHourCost:_.defaultResourceHourCost,specificResourceHourCosts:_.specificResourceHourCosts,target:_.target,months:_.months,daysOfWeek:_.daysOfWeek,weekStartDay:_.weekStartDay,dateFormatter:_.dateFormatter,dateTimeFormatter:_.dateTimeFormatter,isRelativeToTimezone:_.isRelativeToTimezone,standardTaskTemplate:_.standardTaskTemplate,summaryTaskTemplate:_.summaryTaskTemplate,milestoneTaskTemplate:_.milestoneTaskTemplate,assignmentsTemplate:_.assignmentsTemplate,dependencyLineTemplate:_.dependencyLineTemplate,styleDefinitionTemplate:_.styleDefinitionTemplate,classic:_.classic}).extendTimelineToEntireWeeks&&(g.timelineStart=Ht(g.timelineStart,g.weekStartDay),g.timelineFinish=Bt(g.timelineFinish,g.weekStartDay)),x=Fe(g.timelineFinish,g),g.chartWidth=x+"px";var ie=te+x+2+(c?1:0);for(te=0;te<_.scales.length;te++)g.scales.push({scaleType:(c=_.scales[te]).scaleType,isHeaderVisible:c.isHeaderVisible,headerHeight:c.headerHeight,headerTextFormat:c.headerTextFormat,headerClass:c.headerClass,headerStyle:c.headerStyle,isHighlightingVisible:c.isHighlightingVisible,highlightingClass:c.highlightingClass,highlightingStyle:c.highlightingStyle,isSeparatorVisible:c.isSeparatorVisible,separatorClass:c.separatorClass,separatorStyle:c.separatorStyle,intervals:c.intervals});var le,de,pe=!1;if(null!=S&&typeof S.createElement!==m)le=S;else{null!=S&&typeof S.focus!==m?de=S:(de=window.open("",S??"_blank",typeof O!==m&&O&&(typeof X===m||X)?"width=800,height=480,location=no,menubar=no,toolbar=no,status=no,scrollbars=yes":""),pe=!0),le=de.document;try{var ve=document.head.getElementsByTagName("link");for(te=0;te<ve.length;te++){var Ie=ve[te],Pe=le.adoptNode(Ie.cloneNode(!0));Pe.href=Ie.href,le.head.appendChild(Pe)}}catch{}}for(le.title=typeof n!==m?n:"Exported chart"+(typeof O!==m&&O?" (printable)":""),typeof C===m&&(C=0),typeof A===m&&(A=Z.length-1),n=[],te=ve=0;te<Z.length;te++)typeof(S=Z[te]).displayRowIndex!==m&&(S.displayRowIndex<C||S.displayRowIndex>A)||typeof S.displayRowIndex===m&&(ve++<C||ve>A+1)||(_={content:S.content,label:S.label,indentation:S.indentation,start:S.start,finish:S.finish,completedFinish:S.completedFinish,isMilestone:S.isMilestone,schedule:Ee(S),assignmentsContent:S.assignmentsContent,baselineStart:S.baselineStart,baselineFinish:S.baselineFinish,isBarVisible:S.isBarVisible,isRelativeToTimezone:S.isRelativeToTimezone,class:S.class,style:S.style,barClass:S.barClass,standardBarClass:S.standardBarClass,standardCompletedBarClass:S.standardCompletedBarClass,summaryBarClass:S.summaryBarClass,milestoneBarClass:S.milestoneBarClass,baselineBarClass:S.baselineBarClass,barStyle:S.barStyle,standardBarStyle:S.standardBarStyle,standardCompletedBarStyle:S.standardCompletedBarStyle,summaryBarStyle:S.summaryBarStyle,milestoneBarStyle:S.milestoneBarStyle,baselineBarStyle:S.baselineBarStyle,labelColor:S.labelColor,labelClass:S.labelClass,labelStyle:S.labelStyle,isSummaryEnabled:S.isSummaryEnabled,isParentSummarizationEnabled:S.isParentSummarizationEnabled,isHidden:S.isHidden,isExported:!0,tag:S},typeof S.displayRowIndex!==m&&(_.displayRowIndex=S.displayRowIndex-C),Vn(_,S),n.push(_),S.exportItem=_);for(te=0;te<Z.length;te++)if((typeof(S=Z[te]).displayRowIndex===m||!(S.displayRowIndex<C||S.displayRowIndex>A))&&(_=S.exportItem)&&typeof S.predecessors!==m)for(_.predecessors=[],ve=0;ve<S.predecessors.length;ve++)typeof(Ie=S.predecessors[ve]).item.displayRowIndex!==m&&(Ie.item.displayRowIndex<C||Ie.item.displayRowIndex>A)||_.predecessors.push({item:Ie.item.exportItem,dependencyType:Ie.dependencyType,lag:Ie.lag,dependencyLineClass:Ie.dependencyLineClass,dependencyLineStyle:Ie.dependencyLineStyle});var et=le.createElement("p");et.innerHTML=typeof d!==m?d:"",le.body.appendChild(et);var ft=le.createElement("div");ft.setAttribute("style","width: "+ie+"px");try{DlhSoft.Controls.GanttChartView.initialize(ft,n,g,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")}catch{}setTimeout(function(){pe&&le.body.setAttribute("style","margin: 0px");var Ge=le.createElement("div");Ge.appendChild(ft),le.body.replaceChild(Ge,et),V&&(Ge.setAttribute("style","width: "+ft.offsetHeight+"px; height: "+ie+"px; overflow: hidden"),Ge=Math.round((ft.offsetWidth-ft.offsetHeight)/2),ft.setAttribute("style","width: "+ie+"px; transform: rotate(90deg) translateX("+Ge+"px) translateY("+Ge+"px); -webkit-transform: rotate(90deg) translateX("+Ge+"px) translateY("+Ge+"px)")),le.close(),void 0!==typeof de&&(de.focus(),typeof O!==m&&O&&setTimeout(function(){de.print(),(typeof X===m||X)&&setTimeout(function(){de.close()})}))},0)},gn=function(n){var d=_e;if(typeof n===m)return d;for(var c=0;c<n.length;c++){var h=n[c];(!h.hasChildren||typeof h.isSummaryEnabled!==m&&!h.isSummaryEnabled)&&h.start<d&&(d=h.start)}return new Date(d.valueOf())},tn=function(n){var d=wt;if(typeof n===m)return d;for(var c=0;c<n.length;c++){var h=n[c];(!h.hasChildren||typeof h.isSummaryEnabled!==m&&!h.isSummaryEnabled)&&(typeof h.isMilestone!==m&&h.isMilestone?h.start>d&&(d=h.start):h.finish>d&&(d=h.finish))}return new Date(d.valueOf())},mn=function(n,d){for(var c=0,h=0;h<n.length;h++){var g=n[h];null==g.parent&&(c+=Nt(g,d))}return c},yn=function(n,d){for(var c=0,h=0;h<n.length;h++){var g=n[h];null==g.parent&&(c+=fi(g,d))}return c},xn=function(n,d){for(var c=[],h=0;h<d.length;h++){var g=d[h];if(g!=n&&typeof g.predecessors!==m&&0!=g.predecessors.length)for(var x=0;x<g.predecessors.length;x++)if(g.predecessors[x].item==n){c.push(g);break}}return c},Wi=function(n,d){for(var c=[],h=xn(n,d),g=0;g<h.length;g++){var x=h[g];if(typeof x.predecessors!==m&&0!=x.predecessors.length)for(var F=0;F<x.predecessors.length;F++)x.predecessors[F].item==n&&c.push({successor:x,predecessor:x.predecessors[F]})}return c},Ni=function(n,d,c,h,g){if(typeof d===m&&(d=0),g=g||tn(c),n.finish>=g)return!0;var x;if(!n.hasChildren||typeof n.isSummaryEnabled!==m&&!n.isSummaryEnabled){var F=n.successorPredecessors?n.successorPredecessors:Wi(n,c);for(x=0;x<F.length;x++){var v=F[x].successor;if(!h.areTaskDependencyConstraintsEnabled){for(var C=n,A=!0;C;){if(Vt(C,v)){A=!1;break}C=C.parent}if(!A)continue}if(((typeof(C=F[x].predecessor).dependencyType===m||""==C.dependencyType||"FinishStart"==C.dependencyType||"FS"==C.dependencyType)&&Je(n.finish,v.start,h,Ee(n))<=(C.lag?C.lag:0)+d||("StartStart"==C.dependencyType||"SS"==C.dependencyType)&&Je(n.start,v.start,h,Ee(n))<=(C.lag?C.lag:0)+d)&&Ni(v,d,c,h,g))return!0}}else for(n=n.children,x=0;x<n.length;x++)if(Ni(n[x],d,c,h,g))return!0;return!1},nn=function(n,d,c){for(var h=0;h<n.length;h++){var g=n[h];(!g.hasChildren||typeof g.isSummaryEnabled!==m&&!g.isSummaryEnabled)&&typeof g.predecessors!==m&&null!=g.predecessors&&g.predecessors.length>0&&Oe(g,n,d,c)}},vn=function(n,g,x,h){g=new Date(g.valueOf()-6e4*g.getTimezoneOffset()),g=Et(g,h,Ee(n)),x=Nt(n,h);var F=fi(n,h);an(n,g),Xi(n,x,h),Yi(n,F,h),E(n)},bn=function(n,d){for(var c=0,h=Xt(n),g=0;g<h.length;g++){var v,x=h[g],F=x.key;if(typeof d.specificResourceUsageCosts!==m&&(v=St(d.specificResourceUsageCosts,F))>=0?c+=d.specificResourceUsageCosts[v].value*x.value:typeof d.defaultResourceUsageCost!==m&&(c+=d.defaultResourceUsageCost*x.value),!n.hasChildren||typeof n.isSummaryEnabled!==m&&!n.isSummaryEnabled){var C=Nt(n,d)/36e5;typeof d.specificResourceHourCosts!==m&&(v=St(d.specificResourceHourCosts,F))>=0?c+=d.specificResourceHourCosts[v].value*C*x.value:typeof d.defaultResourceHourCost!==m&&(c+=d.defaultResourceHourCost*C*x.value)}}return c},sn=function(n,d){var c=(c=typeof d.taskInitiationCost!==m?d.taskInitiationCost:0)+bn(n,d);if(n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled))for(var h=0;h<n.children.length;h++)c+=rn(n.children[h],d);return c},rn=function(n,d){return(typeof n.executionCost!==m?n.executionCost:0)+sn(n,d)},wn=function(n,d,c,h,g,x,F){if(typeof c!==m){typeof n===m&&(n=!1),typeof d===m&&(d=new Date),typeof x===m&&(x=!1),typeof F===m&&(F=!1),nn(c,h,g),g=[];var C,A,S,v=[],O=[];for(A=0;A<c.length;A++)if(!(C=c[A]).hasChildren||typeof C.isSummaryEnabled!==m&&!C.isSummaryEnabled){if(F){S=!1;for(var V=C;null!=V;){if(typeof V.predecessors!==m&&V.predecessors.length>0){S=!0;break}V=V.parent}if(!S)continue}g.push({key:C,value:zn(C)}),V=x?[]:Xt(C);var X=[];for(S=0;S<V.length;S++){var Z=V[S];Z.value>0&&X.push(Z)}v.push({key:C,value:X}),O.push(C)}for(c=[],x=g.length;x>0;){for(F=[],A=0;A<g.length;A++){for(C=g[A].key,S=!0,V=g[A].value,X=0;X<V.length;X++)if(St(g,Z=V[X])>=0&&F.indexOf(Z)<0){S=!1;break}if(S){if(S=d,V=h,typeof(X=C).minStart!==m&&S<X.minStart&&(S=X.minStart),n||!xi(X))for(;null!=X;){if(typeof X.predecessors!==m)for(Z=0;Z<X.predecessors.length;Z++){var _=X.predecessors[Z];if(typeof _!==m)switch(typeof(te=_.dependencyType)===m&&(te="FinishStart"),te){case"":case"FinishStart":case"FS":(_=Xe(_.item.finish,typeof _.lag===m?0:_.lag,V,Ee(_.item)))>S&&(S=_);break;case"StartStart":case"SS":(_=Xe(_.item.start,typeof _.lag===m?0:_.lag,V,Ee(_.item)))>S&&(S=_)}}for(X=X.parent;null!=X&&typeof X.isSummaryEnabled!==m&&!X.isSummaryEnabled;)X=X.parent}var ee;for(V=S,X=v[S=St(v,C)].value,S=0;S<X.length;S++)if(Z=X[S].value,(te=St(c,ee=X[S].key))>=0){if(_=1,typeof h.resourceQuantities!==m){var ce=St(h.resourceQuantities,ee);ce>=0&&(_=h.resourceQuantities[ce].value)}for(previousAllocations=c[te].value,te=0;te<previousAllocations.length;te++)(ee=previousAllocations[te].key)+Z<=_||(ce=previousAllocations[te].value)>V&&(V=ce)}for((n||!xi(C))&&(V=Et(V,h,Ee(C)))!=C.start&&(S=Nt(C,h),Z=fi(C,h),an(C,V),Xi(C,S,h),Yi(C,Z,h)),_=C.finish,S=0;S<X.length;S++){Z=X[S].value,(te=St(c,ee=X[S].key))<0?c.push({key:ee,value:ce=[]}):ce=c[te].value;for(var le,de,pe,ie=[{key:Z,value:_}],te=0;te<ce.length;te++){ee=ce[te].key;var ve=ce[te].value;ve>V&&(pe=ve<_?ve:_,(le=St(ie,de=ee+Z))<0?ie.push({key:de,value:pe}):pe>ie[de]&&(ie[le].value=pe),ie.push(ve<_?{key:ee+Z,value:ve}:{key:ee+Z,value:_}))}for(Z=0;Z<ie.length;Z++)pe=ie[Z].value,(le=St(ce,de=ie[Z].key))<0?ce.push({key:de,value:pe}):pe>ce[le].value&&(ce[le].value=pe)}F.push(C)}}for(A=0;A<F.length;A++)g.splice(St(g,F[A]),1);if(g.length==x)break;x=g.length}for(A=0;A<O.length;A++)se(C=O[A],"start",!0,!0),se(C,"finish",!0,!0),se(C,"completedFinish",!0,!0),E(C)}},zn=function(n){for(var d=[],c=(n=dt(n),0);c<n.length;c++)Cn(n[c],d);return d},Cn=function(n,d){if(!n.hasChildren||typeof n.isSummaryEnabled!==m&&!n.isSummaryEnabled)d.indexOf(n)<0&&d.push(n);else for(var c=0;c<n.children.length;c++)Cn(n.children[c],d)},xi=function(n){return!n.isMilestone&&n.completedFinish>n.start},Nt=function(n,d){if(n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)){for(var c=0,h=n.children,g=0;g<h.length;g++)c+=Nt(h[g],d);return c}return Je(n.start,n.finish,d,Ee(n))},fi=function(n,d){if(n.hasChildren&&(typeof n.isSummaryEnabled===m||n.isSummaryEnabled)){for(var c=0,h=n.children,g=0;g<h.length;g++)c+=fi(h[g],d);return c}return Je(n.start,n.completedFinish,d,Ee(n))},Xi=function(n,d,c){d=Xe(n.start,d,c,Ee(n)),n.finish=d,se(n,"finish",!1,!1),Sn(n,!1)},Yi=function(n,d,c){n.completedFinish=Xe(n.start,d,c,Ee(n)),se(n,"completedFinish",!1,!1)},an=function(n,d){n.start=d,n.preferredStart=d,se(n,"start",!1,!1),Sn(n,!1)},Sn=function(n,d){for(var c=n.parent;null!=c;)jt(c,d),c=(n=c).parent},kn=function(n,d,c){typeof c===m&&(c=!1);var h=n.parent,g=n.index;if(null==h){for(h=0;g-- >0;)0==(n=d[g]).indentation&&h++;return h+(c?0:1)}return kn(h,d)+"."+(h.children.indexOf(n)+(c?0:1))},Xt=function(n){var d;if(typeof(n=n.assignmentsContent)===m)d=[];else{n=n.split(",");for(var c=[],h=0;h<n.length;h++){var g=Ai(n[h]),x=1,F=g.indexOf("["),v=g.lastIndexOf("]");if(F>=0&&v>=0){v=Ai(g.substr(F+1,v-F-1)),g=Ai(g.substr(0,F)),(F=v.indexOf("%"))>=0&&(v=Ai(v.substr(0,F)));try{x=(d=parseFloat(v))/100}catch{x=1}}g.length<=0||((F=St(c,g))<0?c.push({key:g,value:x}):c[F].value=c[F].value+x)}d=c}return d},Tn=function(n){for(var d=[],c=(n=Xt(n),0);c<n.length;c++)d.push(n[c].key);return d},vi=function(n,d){if(typeof d===m)return[];for(var c=[],h=0;h<d.length;h++){var g=d[h];if(!g.hasChildren||typeof g.isSummaryEnabled!==m&&!g.isSummaryEnabled)for(var x=Xt(g),F=0;F<x.length;F++){var v=x[F];if(v.key==n){c.push({key:g,value:v.value});break}}}return c},ki=function(n){if(typeof n===m)return[];for(var d=[],c=0;c<n.length;c++)if(!(h=n[c]).hasChildren||typeof h.isSummaryEnabled!==m&&!h.isSummaryEnabled)for(var h=Tn(h),g=0;g<h.length;g++){var x=h[g];d.indexOf(x)<0&&d.push(x)}return d},An=function(n,d){for(var c=[],h=vi(n,d),g=0;g<h.length;g++){var x=h[g],F=x.key;if(!F.hasChildren||typeof F.isSummaryEnabled!==m&&!F.isSummaryEnabled)for(F=[{start:F.start,finish:F.finish}];F.length>0;){var v;if(v=F[0],F.splice(0,1),!(v.finish<=v.start))if(0==c.length)c.push({key:v,value:x.value});else{gn(d);for(var C=!1,A=0;A<c.length;A++){var S=c[A].key,O=c[A].value;if(!(v.start>=S.finish)){if(v.finish<=S.start){for(C=0;C<=A;C++)if(c[C].key.start>=v.start){c.splice(C,0,{key:v,value:x.value});break}C=!0;break}if(v.start<=S.start&&v.finish>=S.finish){c[A].value=O+x.value,v.start<S.start&&F.push({start:v.start,finish:S.start}),v.finish>S.finish&&F.push({start:S.finish,finish:v.finish}),C=!0;break}if(v.start>=S.start&&v.finish<=S.finish){c.splice(A,1),v.start>S.start&&c.splice(A++,0,{key:{start:S.start,finish:v.start},value:O}),c.splice(A++,0,{key:v,value:O+x.value}),v.finish<S.finish&&c.splice(A++,0,{key:{start:v.finish,finish:S.finish},value:O}),C=!0;break}if(v.start>=S.start&&v.finish>=S.finish){c.splice(A,1),v.start>S.start&&c.splice(A++,0,{key:{start:S.start,finish:v.start},value:O}),c.splice(A++,0,{key:{start:v.start,finish:S.finish},value:O+x.value}),v.finish>S.finish&&F.push({start:S.finish,finish:v.finish}),C=!0;break}if(v.start<=S.start&&v.finish<=S.finish){c.splice(A,1),v.start<S.start&&F.push({start:v.start,finish:S.start}),c.splice(A++,0,{key:{start:S.start,finish:v.finish},value:O+x.value}),v.finish<S.finish&&c.splice(A++,0,{key:{start:v.finish,finish:S.finish},value:O}),C=!0;break}}}C||c.push({key:v,value:x.value})}}}return c},on=function(n,d,c){for(var h=0;h<n.length;h++){var g=n[h];if(g.key==d){if((d=g.value).indexOf(c)>=0)return!0;for(h=0;h<d.length;h++)if(on(n,d[h],c))return!0;break}}return!1},pi=function(n){var d=n.content;return null==n.parent?d:d+" ("+pi(n.parent)+")"},Ti=function(n,d){return n==d||null!=n.parent&&Ti(n.parent,d)},Ai=function(n){return n.replace(/^\s*/,"").replace(/\s*$/,"")},St=function(n,d){for(var c=0;c<n.length;c++)if(n[c].key==d)return c;return-1},Dn=function(n){return typeof n!==m?new Date(n.valueOf()+6e4*n.getTimezoneOffset()):n},En=function(n){return typeof n!==m?new Date(n.valueOf()-6e4*n.getTimezoneOffset()):n},Rn=function(n,d,c){var h;for(h=0;h<d.length;h++)d[h].ganttChartView=n;for(h=0;h<d.length;h++){var g=d[h];if(typeof g.parts!==m){typeof g.isGroup===m&&(g.isGroup=!0,g.isSummaryEnabled=!1),Te(g.parts,c),(g.isGroup||typeof g.isBarVisible===m)&&(g.isBarVisible=!1);for(var x=0;x<g.parts.length;x++){var F=g.parts[x];F.ganttChartView=g.ganttChartView,F.ganttChartItem=g,F.isPart=!0,F.isVirtuallyVisible=!0,(g.isGroup||typeof F.indentation===m)&&(F.indentation=0),(g.isGroup||typeof F.displayRowIndex===m)&&(F.displayRowIndex=-1),F.isInternallyHidden=!0,d.indexOf(F)>=0||d.splice(d.length,0,F)}}}n.items=d,n.settings=c,n.refresh=function(){Le(n)},n.refreshItems=function(){u(d)},n.refreshGridItems=function(){for(var v=0;v<d.length;v++)ti(d[v]);ue(v,d[v])},n.refreshChartItems=function(){for(var v=0;v<d.length;v++)y(d[v])},n.refreshGridItem=ti,n.refreshChartItem=y,n.refreshItem=b,n.refreshPredecessorItems=w,n.refreshItemGraph=k,n.refreshItemPath=E,n.refreshItemNeighbourhood=function(v){I(v,d,n,c)},n.refreshCurrentTimeLine=function(){var S,v=n.chartHeader,C=n.chartContent,A=C.chartArea,O=[];for(S=A.childNodes.length;S-- >1;){var V=A.childNodes[S];"Scale-Highlighting-CurrentTime"!=V.tag&&"Scale-Separator-CurrentTime"!=V.tag&&O.push(V),A.removeChild(V)}for(wi(v,A,c.scales,c,!0),S=O.length;S-- >0;)A.appendChild(O[S]);e(C,qt(d,c))},n.setCurrentTime=function(v){c.currentTime=v,n.refreshCurrentTimeLine()},n.updateCurrentTime=function(){var v=new Date;v=new Date(v.valueOf()-6e4*v.getTimezoneOffset()),n.setCurrentTime(v)},n.getCurrentItem=function(){return n.currentItem},n.getSelectedItem=function(){return n.selectedItem},n.getSelectedItems=function(){return n.selectedItems},n.selectItem=function(v){fe(v,!0,c.selectionMode)},n.unselectItem=function(v){fe(v,!1,c.selectionMode)},n.expandItem=function(v){Mt(v,!0,!0)},n.collapseItem=function(v){Mt(v,!1,!0)},n.scrollToItem=un,n.scrollToBottom=function(){n.chartContentContainer.scrollTop=n.chartContent.clientHeight},n.scrollToDateTime=function(v){n.isDuringScrollToDateTime=!0,n.chartContentContainer.scrollLeft=Fe(v,n.settings)},n.increaseTimelinePage=function(v){c.timelineStart=new Date(c.timelineStart.valueOf()+v),c.timelineFinish=new Date(c.timelineFinish.valueOf()+v),Le(n)},n.decreaseTimelinePage=function(v){c.timelineStart=new Date(c.timelineStart.valueOf()-v),c.timelineFinish=new Date(c.timelineFinish.valueOf()-v),Le(n)},n.setSplitterPosition=function(O){var C=n.gridContainer,A=n.chartContainer,S=n.splitter;O=Math.ceil(1e6*O/n.offsetWidth)/1e4,typeof C.percent!==m&&delete C.percent,C.style.width=O+"%",A.style.width=100-O+"%",yi(S,C,c)},n.getChartPosition=function(v){return Fe(v,c)},n.getChartWidth=function(){return Fe(c.timelineFinish,c)},n.getDateTime=function(v){return Wt(v,c)},n.getWorkingTime=function(v){return ii(v,c)},n.getStartWorkingTime=function(v){return Et(v,c)},n.getFinishWorkingTime=function(v){return it(v,c,!1,!0,void 0)},n.getEffort=function(v,C){return Je(v,C,c)},n.getFinish=function(v,C){return Xe(v,C,c)},n.getStart=function(v,C){return gt(v,C,c)},n.getCompletion=function(v,C,A){return ci(v,C,A,c)},n.getCompletedFinish=function(v,C,A){return qi(v,C,A,c)},n.getItemsHeight=function(){return qt(d,c)},n.getItemTop=function(v){return Kt(v,d,c)},n.onItemPropertyChanged=se,n.initializeTaskDraggingThumbs=function(v,C,A,S,O,V,X,Z){Ki(v,C,A,S,O,V,X,Z,n.items,n,n.settings)},n.initializeDependencyDraggingThumbs=function(v,C,A,S,O,V,X){zi(v,C,A,S,O,V,X,n.items,n,n.settings)},n.insertItem=function(v,C){B(v,C,n,d,c)},n.addItem=function(v){n.insertItem(d.length,v)},n.insertItems=function(v,C){for(var A=0;A<C.length;A++)n.insertItem(v++,C[A])},n.addItems=function(v){for(var C=0;C<v.length;C++)n.addItem(v[C])},n.removeItem=function(v){U(v,n,d,c)},n.removeItems=function(v){for(var C=0;C<v.length;C++)n.removeItem(v[C])},n.increaseItemIndentation=function(v){var C=v.index>0?n.items[v.index-1]:null;if(!(null==C||v.indentation>C.indentation)){if(Mt(v,!0,!1,!0),v.indentation++,se(v,"indentation",!0,!0),v.predecessors&&v.predecessors.length>0){for(var A=!1,S=0;S<v.predecessors.length;S++)v.predecessors[S].item==C&&v.indentation>C.indentation&&(v.predecessors.splice(S--,1),A=!0);A&&se(v,"predecessors",!1,!0)}for(A=0;A<d.length;A++)if((S=d[A])==C&&typeof S.predecessors!==m&&0!=S.predecessors.length)for(var O=0;O<S.predecessors.length;O++)S.predecessors[O].item==v&&C.indentation>S.predecessors[O].item.indentation&&(S.predecessors.splice(O--,1),se(S,"predecessors",!1,!0),b(S),w(S));for(P(d,c)&&u(d),I(v,d,n,c);null!=v;)v.isExpanded||Mt(v,!0,!1),v=v.parent}},n.decreaseItemIndentation=function(v){var C=v.index<n.items.length-1?n.items[v.index+1]:null;if(!(v.indentation<=0||null!=C&&v.indentation<C.indentation)){if(v.indentation--,se(v,"indentation",!0,!0),C&&v.predecessors&&v.predecessors.length>0){for(var A=!1,S=0;S<v.predecessors.length;S++)v.predecessors[S].item==C&&v.indentation<C.indentation&&(v.predecessors.splice(S--,1),A=!0);A&&se(v,"predecessors",!1,!0)}for(A=0;A<d.length;A++)if((S=d[A])==C&&typeof S.predecessors!==m&&0!=S.predecessors.length)for(var O=0;O<S.predecessors.length;O++)S.predecessors[O].item==v&&C.indentation<S.predecessors[O].item.indentation&&(S.predecessors.splice(O--,1),se(S,"predecessors",!1,!0),b(S),w(S));for(P(d,c)&&u(d),I(v,d,n,c);null!=v;)v.isExpanded||Mt(v,!0,!1),v=v.parent}},n.setItemContent=function(v,C){v.content=C,se(v,"content",!0,!0)},n.setItemStart=function(v,C){v.start=Et(C,c,Ee(v)),v.preferredStart=v.start,se(v,"start",!0,!0),v.completedFinish<v.start&&(v.completedFinish=v.start,se(v,"completedFinish",!1,!0))},n.setItemFinish=function(v,C){var A;A=Ee(v),A=it(C,c,!1,!0,A),v.finish=A,se(v,"finish",!0,!0),v.completedFinish>v.finish&&(v.completedFinish=v.finish,se(v,"completedFinish",!1,!0))},n.setItemIsMilestone=function(v,C){v.isMilestone=C,se(v,"isMilestone",!0,!0)},n.getItemEffort=function(v){return Nt(v,c)},n.setItemEffort=function(v,C){v.finish=Xe(v.start,C,c,Ee(v)),se(v,"finish",!0,!0),v.completedFinish>v.finish&&(v.completedFinish=v.finish,se(v,"completedFinish",!1,!0))},n.getItemTotalEffort=function(v){return Qi(v)},n.setItemTotalEffort=function(v,C){v.ganttChartView.setItemEffort(v,C/Ci(v))},n.setItemHasFixedEffort=function(v,C){v.hasFixedEffort=C,!v.hasChildren&&v.hasFixedEffort&&(v.fixedEffort=Nt(v,c),v.fixedEffortAssignments=Xt(v))},n.getItemDuration=function(v){return Je(v.start,v.finish,c,Ee(v))},n.setItemDuration=n.setItemEffort,n.getItemCompletedEffort=function(v){return fi(v,c)},n.setItemCompletedEffort=function(v,C){v.completedFinish=Xe(v.start,C,c,Ee(v)),v.completedFinish>v.finish&&(v.completedFinish=v.finish),se(v,"completedFinish",!0,!0)},n.getItemTotalCompletedEffort=function(v){return Ji(v)},n.setItemTotalCompletedEffort=function(v,C){v.ganttChartView.setItemCompletedEffort(v,C/Ci(v))},n.getItemCompletion=function(v){return n.getItemCompletedEffort(v)/n.getItemEffort(v)},n.setItemCompletion=function(v,C){n.setItemCompletedEffort(v,C*n.getItemEffort(v))},n.isItemCompleted=function(v){return n.getItemCompletion(v)>=1||(v.isMilestone||v.finish.valueOf()<=v.start.valueOf())&&typeof v.isSetAsCompleted!==m&&v.isSetAsCompleted},n.setItemAsCompleted=function(v){(v.isMilestone||v.finish.valueOf()<=v.start.valueOf())&&(v.isSetAsCompleted=!0),n.setItemCompletion(v,1)},n.hasItemStarted=function(v){return xi(v)},n.setItemAsNotStarted=function(v){(v.isMilestone||v.finish.valueOf()<=v.start.valueOf())&&(v.isSetAsCompleted=!1),n.setItemCompletion(v,0)},n.isItemOnSchedule=function(v){var C=new Date;return C=new Date(C.valueOf()-6e4*C.getTimezoneOffset()),v.completedFinish>=C},n.setItemAssignmentsContent=function(v,C){v.assignmentsContent=C,se(v,"assignmentsContent",!0,!0)},n.getItemPredecessorsString=function(v,C){var A=C;typeof A===m&&(A=!1);var S="";if(typeof v.predecessors!==m&&0!=v.predecessors.length)for(var O=0;O<v.predecessors.length;O++){var V=v.predecessors[O],X=d.indexOf(V.item);X<0||(S.length>0&&(S+=", "),S+=X+(A?0:1),typeof V.dependencyType!==m&&""!=V.dependencyType&&"FinishStart"!=V.dependencyType&&"FS"!=V.dependencyType&&("StartStart"==V.dependencyType||"SS"==V.dependencyType?S+="SS":"FinishFinish"==V.dependencyType||"FF"==V.dependencyType?S+="FF":("StartFinish"==V.dependencyType||"SF"==V.dependencyType)&&(S+="SF")),typeof V.lag!==m&&0!=V.lag&&(V.lag>0&&(S+="+"),S+=V.lag/36e5))}return S},n.setItemPredecessorsString=function(v,C,A){typeof A===m&&(A=!1);var S=[];v.predecessors=S,C=C.split(",");for(var O=0;O<C.length;O++)if(!((V=Ai(C[O])).length<=0)){for(var X=0;X<V.length&&V.charCodeAt(X)>=48&&V.charCodeAt(X)<=57;)X++;var Z=V.substr(0,X);if(Z=parseInt(Z)-(A?0:1),!(isNaN(Z)||Z<0||Z>=d.length||(Z=d[Z],ri(v,Z)||Vt(v,Z)||Vt(Z,v)))){X=(V=V.substr(X)).indexOf("+");var V,te=V.indexOf("-"),_=X>=0?X:te>=0?te:-1;if(te=0,_>=0){var ee=parseFloat(V.substr(_+1));isNaN(ee)||(te=ee*(X>=0?1:-1)*36e5)}V=(_<0?V:V.substr(0,_)).toUpperCase(),S.push({item:Z,dependencyType:V,lag:te})}}for(A=0;A<d.length;A++)delete d[A].successors;se(v,"predecessors",!0,!0)},n.getItemIndexString=function(v,C){return typeof C===m&&(C=!1),typeof v.index!==m?(v.index+(C?0:1)).toString():""},n.getItemWbsIndexString=function(v,C){return kn(v,d,C).toString()},n.moveRange=function(v,C,A){Bi(v,C,A,n,d)},n.moveItem=function(v,C){en(v,C,n,d)},n.moveItemUp=function(v){var C=d.indexOf(v);C<=0||en(v,C-1,n,d)},n.moveItemDown=function(v){var C=d.indexOf(v);C<0||C>=d.length-1||en(v,C+1,n,d)},n.moveItemHierarchy=function(v,C){for(var A=d.indexOf(v),S=A+1;S<d.length&&!(d[S].indentation<=v.indentation);S++);Bi(A,S-A,C,n,d)},n.moveItemHierarchyUp=function(v){for(var C=d.indexOf(v),A=C+1;A<d.length&&!(d[A].indentation<=v.indentation);A++);for(var S=C;S-- >0;){if(d[S].indentation<v.indentation)return;if(d[S].indentation==v.indentation)break}Bi(C,A-C,S,n,d)},n.moveItemHierarchyDown=function(v){for(var C=d.indexOf(v),A=C+1;A<d.length&&!(d[A].indentation<=v.indentation);A++);for(var S=C+(A-=C);S++<d.length-1&&!(d[S].indentation<=v.indentation););d[S-1].indentation<v.indentation||Bi(C,A,S-A,n,d)},n.exportContent=function(v,C){typeof v===m&&(v={}),pn(v.title,v.preparingMessage,v.isGridVisible,v.columnIndexes,v.timelineStart,v.timelineFinish,v.isRelativeToTimezone,v.hourWidth,v.startRowIndex,v.endRowIndex,C,!1,v.rotate,!1,d,c)},n.print=function(v){typeof v===m&&(v={}),pn(v.title,v.preparingMessage,v.isGridVisible,v.columnIndexes,v.timelineStart,v.timelineFinish,v.isRelativeToTimezone,v.hourWidth,v.startRowIndex,v.endRowIndex,null,!0,v.rotate,v.autoClose,d,c)},n.getRootItems=function(){for(var v=[],C=0;C<d.length;C++){var A=d[C];null==A.parent&&v.push(A)}return v},n.getLeafItems=function(){for(var v=[],C=0;C<d.length;C++){var A=d[C];null!=A.parent&&v.push(A)}return v},n.getSummaryItems=function(){for(var v=[],C=0;C<d.length;C++){var A=d[C];A.hasChildren&&v.push(A)}return v},n.getProjectStart=function(){return gn(d)},n.getProjectFinish=function(){return tn(d)},n.getProjectEffort=function(){return mn(d,c)},n.getProjectTotalEffort=function(){for(var v=0,C=0;C<d.length;C++){var A=d[C];null==A.parent&&(v+=Qi(A))}return v},n.getProjectCompletedEffort=function(){return yn(d,c)},n.getProjectTotalCompletedEffort=function(){for(var v=0,C=0;C<d.length;C++){var A=d[C];null==A.parent&&(v+=Ji(A))}return v},n.getProjectCompletion=function(){return yn(d,c)/mn(d,c)},n.isItemCritical=function(v,C){return Ni(v,C,d,c)},n.getCriticalItems=function(v,C){var A,S=C||d;if(typeof(A=v)===m&&(A=0),typeof S===m)A=void 0;else{for(var O=tn(S),V=0;V<S.length;V++){var X=S[V];X.successorPredecessors=Wi(X,S)}var Z=[];for(V=0;V<S.length;V++)(!(X=S[V]).hasChildren||typeof X.isSummaryEnabled!==m&&!X.isSummaryEnabled)&&Ni(X,A,S,c,O)&&Z.push(X);for(V=0;V<S.length;V++)delete(X=S[V]).successorPredecessors;A=Z}return A},n.getPertCriticalItems=function(v,C){return function(n,d,c,h){if(typeof d!==m)return d=n.getNetworkDiagramItems(h,void 0,void 0,d),n=n.ownerDocument.createElement("div"),DlhSoft.Controls.Pert.NetworkDiagramView.initialize(n,d,void 0,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."),n.getCriticalItems().filter(function(g){return g.tag}).map(function(g){return g.tag})}(n,C||d,0,v)},n.ensureDependencyConstraints=function(){nn(d,c,n)},n.setupBaseline=function(){for(var v=0;v<d.length;v++){var C=d[v];!C.hasChildren||typeof C.isSummaryEnabled!==m&&!C.isSummaryEnabled?(C.baselineStart=C.start,C.isMilestone?delete C.baselineFinish:C.baselineFinish=C.finish):(delete C.baselineFinish,delete C.baselineStart),b(C)}},n.rescheduleItemToStart=function(v,C){vn(v,C,d,c)},n.rescheduleItemToFinish=function(v,C){var O=C,A=(O=new Date(O.valueOf()-6e4*O.getTimezoneOffset()),Nt(v,c)),S=fi(v,c);O=gt(A,O,c,Ee(v)),O=Et(O,c,Ee(v)),an(v,O),Xi(v,A,c),Yi(v,S,c),E(v)},n.splitRemainingWork=function(v,C,A){if(typeof d===m||v.hasChildren||v.isMilestone||!xi(v)||!v.isMilestone&&v.completedFinish>=v.finish)v=null;else{var S=d.indexOf(v);if(S<0)v=null;else{for(C={content:typeof C===m?v.content:v.content+C,indentation:v.indentation,isExpanded:v.isExpanded,start:v.completedFinish,finish:v.finish,assignmentsContent:v.assignmentsContent,isReadOnly:v.isReadOnly,isHidden:v.isHidden,isBarVisible:v.isBarVisible,isBarReadOnly:v.isBarReadOnly,isSummaryEnabled:v.isSummaryEnabled,isParentSummarizationEnabled:v.isParentSummarizationEnabled,displayRowIndex:v.displayRowIndex,class:v.class,style:v.style,barClass:v.barClass,standardBarClass:v.standardBarClass,summaryBarClass:v.summaryBarClass,milestoneBarClass:v.milestoneBarClass,baselineBarClass:v.baselineBarClass,barStyle:v.barStyle,standardBarStyle:v.standardBarStyle,summaryBarStyle:v.summaryBarStyle,milestoneBarStyle:v.milestoneBarStyle,baselineBarStyle:v.baselineBarStyle,taskTemplate:v.taskTemplate,template:v.template,tag:v.tag},typeof A!==m&&(v.content=v.content+A),v.finish=v.completedFinish,B(S+1,C,n,d,c),A=Wi(v,d),S=0;S<A.length;S++){var O=A[S].predecessor;(typeof O.dependencyType===m||""==O.dependencyType||"FinishStart"==O.dependencyType||"FS"==O.dependencyType||"FinishFinish"==O.dependencyType||"FF"==O.dependencyType)&&(O.item=C)}C.predecessors=[{item:v}],w(v),w(C),v=C}}return v},n.optimizeWork=function(v,C,A,S){var O;if(typeof v===m&&(v=!1),typeof C===m&&(C=!1),typeof A===m&&(A=new Date),S)wn(C,A,d,c,n,!0,v);else{for(A=new Date(A.valueOf()+6e4*A.getTimezoneOffset()),O=[],S=0;S<d.length;S++){var V=d[S];if((!V.hasChildren||typeof V.isSummaryEnabled!==m&&!V.isSummaryEnabled)&&!(V.start<=A||!C&&xi(V))){if(v){for(var X=!1,Z=V;null!=Z;){if(typeof Z.predecessors!==m&&Z.predecessors.length>0){X=!0;break}Z=Z.parent}if(!X)continue}vn(V,A,d,c),O.push(V)}}for(nn(d,c,n),S=0;S<O.length;S++)se(v=O[S],"start",!0,!0),se(v,"finish",!0,!0),se(v,"completedFinish",!0,!0),E(v);O=void 0}return O},n.levelAllocations=function(v){v||(v=n.items),v.length||(v=[v]);for(var C=0;C<v.length;C++){var S,A=v[C],O="",V=Xt(A);if(V&&V.length>0){var X=0;for(S=0;S<V.length;S++)X+=V[S].value;if(X>0){for(S=0;S<V.length;S++)O.length>0&&(O+=", "),O+=V[S].key+(V.length>1?" ["+Math.round(V[S].value/X*1e4)/100+"%]":"");A.assignmentsContent=O,se(A,"assignmentsContent",!1,!0),E(A)}}}},n.levelResources=function(v,C){return wn(v,C,d,c,n)},n.getItemSuccessors=function(v){return xn(v,d)},n.getItemSuccessorPredecessorItems=function(v){return Wi(v,d)},n.getItemAllocationUnits=Ci,n.getItemAssignments=Xt,n.getItemAssignedResources=Tn,n.getResourceAssignments=function(v){return vi(v,d)},n.getResourceAssignedItems=function(v){for(var C=[],A=(v=vi(v,d),0);A<v.length;A++)C.push(v[A].key);return C},n.getAssignedResources=function(){return ki(d)},n.getItemAssignmentsCost=function(v){return bn(v,c)},n.getItemExtraCost=function(v){return sn(v,c)},n.getItemCost=function(v){return rn(v,c)},n.setItemCost=function(v,C){v.executionCost=C-sn(v,c),se(v,"executionCost",!0,!0)},n.getResourceCost=function(v){for(var C=0,A=(v=vi(v,d),0);A<v.length;A++){var O,S=v[A];typeof c.specificResourceUsageCosts!==m&&(O=St(c.specificResourceUsageCosts,resource))>=0?C+=c.specificResourceUsageCosts[O].value*S.value:typeof c.defaultResourceUsageCost!==m&&(C+=c.defaultResourceUsageCost*S.value);var V=S.key;(!V.hasChildren||typeof V.isSummaryEnabled!==m&&!V.isSummaryEnabled)&&(V=Nt(V,c)/36e5,typeof c.specificResourceHourCosts!==m&&(O=St(c.specificResourceHourCosts,resource))>=0?C+=c.specificResourceHourCosts[O].value*V*S.value:typeof c.defaultResourceHourCost!==m&&(C+=c.defaultResourceHourCost*V*S.value))}return C},n.getProjectCost=function(){for(var v=0,C=0;C<d.length;C++){var A=d[C];null==A.parent&&(v+=rn(A,c))}return v},n.getScheduleChartItems=function(A){var S,V,C=[],O=(A=typeof A!==m?"array"==typeof A?A:[A]:typeof c.assignableResources!==m?c.assignableResources:[],ki(d));for(V=0;V<O.length;V++)A.indexOf(S=O[V])<0&&A.push(S);for(V=0;V<A.length;V++){O={tag:S=A[V],content:S,ganttChartItems:[]},S=vi(S,d);for(var X=0;X<S.length;X++){var Z=(_=S[X]).key,_={tag:Z,content:Z.content,start:Z.start,finish:Z.finish,completedFinish:Z.completedFinish,isMilestone:Z.isMilestone,schedule:Ee(Z),assignmentsContent:1!=_.value?Math.round(1e4*_.value)/100+"%":"",minStart:Z.minStart,maxStart:Z.maxStart,minFinish:Z.minFinish,maxFinish:Z.maxFinish,isHidden:Z.isHidden,isBarVisible:Z.isBarVisible,isBarReadOnly:Z.isBarReadOnly,isReadOnly:Z.isReadOnly,isRelativeToTimezone:Z.isRelativeToTimezone};O.ganttChartItems.push(_)}C.push(O)}return C},n.getAllocations=function(v){return An(v,d)},n.getLoadChartItems=function(v){var C=[];typeof v===m?v=ki(d):"array"!=typeof v&&(v=[v]);for(var A=0;A<v.length;A++){for(var S=v[A],O={tag:S,content:S,ganttChartItems:[]},V=An(S,d),X=0;X<V.length;X++){var Z=V[X],_=1;if(typeof c.resourceQuantities!==m){var te=St(c.resourceQuantities,S);te>=0&&(_=c.resourceQuantities[te].value)}typeof(te=c.maxLoadChartDisplayedResourceQuantity)===m&&(te=100),_>te&&(_=te),O.ganttChartItems.push({start:Z.key.start,finish:Z.key.finish,units:Z.value/_,content:Math.round(1e4*Z.value)/100+"%",isRelativeToTimezone:!1})}C.push(O)}return C},n.getFilteredGanttChartItems=function(v){v=[v];for(var C=[],A=0;A<v.length;A++){var S=v[A],O=[];if(typeof v===m)v=ki(d);else if("array"!=typeof v)var V=vi(S,d);for(S=0;S<V.length;S++){var X=V[S].key;(!X.hasChildren||typeof X.isSummaryEnabled!==m&&!X.isSummaryEnabled)&&!(C.indexOf(X)>=0)&&(O.push({tag:X,content:X.content,start:X.start,finish:X.finish,completedFinish:X.completedFinish,isMilestone:X.isMilestone,assignmentsContent:v.length>1?X.assignmentsContent:1!=V[S].value?Math.round(1e4*V[S].value)/100+"%":"",minStart:X.minStart,maxStart:X.maxStart,minFinish:X.minFinish,maxFinish:X.maxFinish,isHidden:X.isHidden,isBarVisible:X.isBarVisible,isBarReadOnly:X.isBarReadOnly,isReadOnly:!0,isRelativeToTimezone:X.isRelativeToTimezone}),C.push(X))}}return O},n.copyCommonSettings=function(v){typeof v!==m&&(v.target=c.target,v.theme=c.theme,v.border=c.border,v.containerClass=c.containerClass,v.containerStyle=c.containerStyle,v.isGridVisible=c.isGridVisible,v.gridWidth=c.gridWidth,v.chartWidth=c.chartWidth,v.isSplitterEnabled=c.isSplitterEnabled,v.splitterWidth=c.splitterWidth,v.splitterBackground=c.splitterBackground,v.minGridWidth=c.minGridWidth,v.minChartWidth=c.minChartWidth,v.headerBackground=c.headerBackground,v.headerHeight=c.headerHeight,v.indentationLevelWidth=c.indentationLevelWidth,v.gridLines=c.gridLines,v.horizontalGridLines=c.horizontalGridLines,v.verticalGridLines=c.verticalGridLines,v.verticalGridHeaderLines=c.verticalGridHeaderLines,v.horizontalChartLines=c.horizontalChartLines,v.displayedTime=c.displayedTime,v.currentTime=c.currentTime,v.timelineStart=c.timelineStart,v.timelineFinish=c.timelineFinish,v.scales=c.scales,v.updateScale=c.updateScale,v.hourWidth=c.hourWidth,v.workingWeekStart=c.workingWeekStart,v.workingWeekFinish=c.workingWeekFinish,v.visibleDayStart=c.visibleDayStart,v.visibleDayFinish=c.visibleDayFinish,v.visibleWeekStart=c.visibleWeekStart,v.visibleWeekFinish=c.visibleWeekFinish,v.specialNonworkingDays=c.specialNonworkingDays,v.months=c.months,v.daysOfWeek=c.daysOfWeek,v.weekStartDay=c.weekStartDay,v.dateFormatter=c.dateFormatter,v.dateTimeFormatter=c.dateTimeFormatter,v.dateTimeParser=c.dateTimeParser,v.isRelativeToTimezone=c.isRelativeToTimezone,v.classic=c.classic)},n.getPertChartItems=function(te,C,A,S,ce,V,X){var Z=te,_=C,ee=(te=A,ce),ie=(ce=V,X||d);(typeof Z===m||Z<0)&&(Z=Number.MAX_VALUE),typeof _===m&&(_="Start"),typeof te===m&&(te="Finish"),typeof ee===m&&(ee=" completed"),typeof ce===m&&(ce=" starting");var de,pe,ve,Ie,le=new Date(new Date(1e4,0,1).valueOf()-1);for(X=[],V=[],C=0;C<ie.length;C++)(A=ie[C]).indentation<=Z&&(!A.hasChildren||typeof A.isSummaryEnabled!==m&&!A.isSummaryEnabled&&(typeof A.isBarVisible===m||A.isBarVisible)||A.indentation==Z)&&V.push({key:A,value:[]});for(C=0;C<V.length;C++){var Pe=[A=V[C].key];if(A.indentation==Z&&A.hasChildren&&(typeof A.isSummaryEnabled===m||A.isSummaryEnabled||typeof A.isBarVisible!==m&&!A.isBarVisible))for(de=0;de<ie.length;de++)Ti(pe=ie[de],A)&&Pe.push(pe);var et=V[C].value;for(de=0;de<Pe.length;de++)for(var ft=Pe[de];null!=ft;){if(typeof ft.predecessors!==m)for(ve=0;ve<ft.predecessors.length;ve++)if(typeof ft.predecessors[ve].item!==m&&(typeof ft.predecessors[ve].dependencyType===m||""==ft.predecessors[ve].dependencyType||"FinishStart"==ft.predecessors[ve].dependencyType||"FS"==ft.predecessors[ve].dependencyType)){for(var Ge=Ie=ft.predecessors[ve].item;null!=Ge&&St(V,Ge)<0;)Ge=Ge.parent;if(Ge!=A){var ni=[];if(null!=Ge)ni.push(Ge);else for(Ge=0;Ge<V.length;Ge++)Ti(pe=V[Ge].key,Ie)&&ni.push(pe);for(Ge=0;Ge<ni.length;Ge++)et.indexOf(Ie=ni[Ge])<0&&(Z<Number.MAX_VALUE&&on(V,Ie,A)||et.push(Ie))}}ft=ft.parent}}for(Ge=0,ve=de=null,C=0;C<ie.length;C++)A=ie[C],(null==de||A.start<de)&&(de=A.start),(null==ve||A.finish>ve)&&(ve=A.finish);for(null==de&&(de=le),_={content:_,displayedText:(Ge++).toString(),displayedRowIndex:0,displayedColumnIndex:0},X.push(_),ie=[_],Z=[],C=0;C<V.length;C++)0==V[C].value.length&&Z.push(V[C].key);if(Z.length>0){for(ie=[],C=0;C<Z.length;C++)A=Z[C],ve=_,le=(Ge++).toString(),A.start>de&&(ve={content:null!=A.content?A.content.toString()+ce:null,displayedText:le,predecessors:[]},X.push(ve),ve.predecessors.push({item:_,content:S,isEffortVirtual:!0})),ie.push(le={content:A.content+ee,displayedText:le+(ve!=_?"'":""),predecessors:[],tag:A}),X.push(le),le.predecessors.push({item:ve,content:pi(A),displayedText:null!=A.content?A.content.toString():null,effort:Je(A.start,A.finish,c,Ee(A)),tag:A});do{for(Pe=[],C=0;C<ie.length;C++)Pe.push(ie[C]);for(A=!1,C=0;C<ie.length;C++){for(le=(Z=ie[C]).tag,et=[],de=0;de<V.length;de++)V[de].value.indexOf(le)>=0&&et.push(V[de].key);if(et.length>0){for(Pe.splice(Pe.indexOf(Z),1),de=0;de<et.length;de++){for(A=et[de],le=null,ve=0;ve<X.length;ve++)if(X[ve].tag==A){le=X[ve];break}null==le&&(le={content:A.content+ee,displayedText:(Ge++).toString(),predecessors:[],tag:A},Pe.push(le),X.push(le)),le.predecessors.push({item:Z,content:pi(A),displayedText:null!=A.content?A.content.toString():null,effort:Je(A.start,A.finish,c,Ee(A)),tag:A})}A=!0}}ie=Pe}while(A)}for(A={content:te,displayedText:(Ge++).toString(),predecessors:[],displayedRowIndex:0},X.push(A),A=A.predecessors,C=0;C<ie.length;C++)A.push({item:ie[C]});for(de=0;de<V.length;de++){for(A=V[de].key,Z=null,ve=0;ve<X.length;ve++)if(X[ve].tag==A){Z=X[ve];break}if(null!=Z){if(C=[],typeof Z.predecessors!==m)for(ve=0;ve<Z.predecessors.length;ve++)Z.predecessors[ve].tag==A&&C.push(Z.predecessors[ve]);if(C.length>1){for(ee={content:null!=A.content?A.content.toString()+ce:null,displayedText:Z.displayedText,predecessors:[]},X.splice(X.indexOf(Z),0,ee),Ge=ee.predecessors,ve=0;ve<C.length;ve++)Z.predecessors.splice(Z.predecessors.indexOf(te=C[ve]),1),Ge.push({item:te.item,content:S,isEffortVirtual:!0});Z.predecessors.push({item:ee,content:pi(A),displayedText:null!=A.content?A.content.toString():null,effort:Je(A.start,A.finish,c,Ee(A)),tag:A}),Z.displayedText=Z.displayedText+"'"}else 1==C.length&&null!=(C=(te=C[0]).item.tag)&&A.start>Et(C.finish,c)&&(ve={content:null!=A.content?A.content.toString()+ce:null,displayedText:Z.displayedText,predecessors:[]},X.splice(X.indexOf(Z),0,ve),ve.predecessors.push({item:te.item,content:S,isEffortVirtual:!0}),Z.predecessors.splice(0,Z.predecessors.length),Z.predecessors.push({item:ve,content:pi(A),displayedText:null!=A.content?A.content.toString():null,effort:Je(A.start,A.finish,c,Ee(A)),tag:A}),Z.displayedText=Z.displayedText+"'")}}for(C=0;C<V.length;C++)if(V[C].key.isMilestone){for(A=V[C].key,Z=null,ve=0;ve<X.length;ve++)if(X[ve].tag==A){Z=X[ve];break}if(null!=Z&&typeof Z.predecessors!==m&&1==Z.predecessors.length&&(te=Z.predecessors[0]).item!=_&&te.tag==A){for(Z.predecessors.splice(0,1),le=te.item,ve=0;ve<le.predecessors.length;ve++)te.item.predecessors.splice(te.item.predecessors.indexOf(S=le.predecessors[ve]),1),Z.predecessors.push(S);for(ve=0;ve<X.length;ve++)if((S=X[ve]).predecessors)for(Ge=0;Ge<S.predecessors.length;Ge++)(ce=S.predecessors[Ge]).item==le&&(ce.item=Z);Z.content=null!=A.content?A.content.toString():null,Z.displayedText=Z.displayedText.replace("'",""),X.splice(X.indexOf(le),1)}}return X},n.getNetworkDiagramItems=function(v,C,A,S){var O=v,V=C,X=A,Z=S||d;(typeof O===m||O<0)&&(O=Number.MAX_VALUE),typeof V===m&&(V="Start"),typeof X===m&&(X="Finish"),S=new Date(1900,0,1),A=new Date(new Date(1e4,0,1).valueOf()-1),C=[];var _,te,ee,ce,ie,le,de=[];for(v=0;v<Z.length;v++)(_=Z[v]).indentation<=O&&(!_.hasChildren||typeof _.isSummaryEnabled!==m&&!_.isSummaryEnabled&&(typeof _.isBarVisible===m||_.isBarVisible)||_.indentation==O)&&de.push({key:_,value:[]});for(v=0;v<de.length;v++){if(ie=[_=de[v].key],_.indentation==O&&_.hasChildren&&(typeof _.isSummaryEnabled===m||_.isSummaryEnabled||typeof _.isBarVisible!==m&&!_.isBarVisible))for(te=0;te<Z.length;te++)Ti(ee=Z[te],_)&&ie.push(ee);var pe=de[v].value;for(te=0;te<ie.length;te++)for(var ve=ie[te];null!=ve;){if(typeof ve.predecessors!==m)for(ce=0;ce<ve.predecessors.length;ce++)if(typeof ve.predecessors[ce].item!==m&&(typeof ve.predecessors[ce].dependencyType===m||""==ve.predecessors[ce].dependencyType||"FinishStart"==ve.predecessors[ce].dependencyType||"FS"==ve.predecessors[ce].dependencyType)){for(ee=le=ve.predecessors[ce].item;null!=ee&&St(de,ee)<0;)ee=ee.parent;if(ee!=_){var Ie=[];if(null!=ee)Ie.push(ee);else for(var Pe=0;Pe<de.length;Pe++)Ti(ee=de[Pe].key,le)&&Ie.push(ee);for(le=0;le<Ie.length;le++)pe.indexOf(ee=Ie[le])<0&&(O<Number.MAX_VALUE&&on(de,ee,_)||pe.push(ee))}}ve=ve.parent}}for(le=te=null,v=0;v<Z.length;v++)_=Z[v],(null==te||_.start<te)&&(te=_.start),(null==le||_.finish>le)&&(le=_.finish);for(null==te&&(te=A),null==le&&(le=S),C.push(V={content:V,displayedText:V,earlyStart:te,earlyFinish:te,lateStart:A,lateFinish:A,isMilestone:!0,effort:0,displayedRowIndex:0,displayedColumnIndex:0}),O=[V],te=[],v=0;v<de.length;v++)0==de[v].value.length&&te.push(de[v].key);if(te.length>0){for(O=[],v=0;v<te.length;v++)ce={content:pi(_=te[v]),displayedText:_.content,earlyStart:S,earlyFinish:S,lateStart:A,lateFinish:A,effort:Je(_.start,_.finish,c,Ee(_)),isMilestone:_.isMilestone,predecessors:[],tag:_},O.push(ce),C.push(ce),ce.earlyStart=Et(V.earlyFinish,c),ce.earlyFinish=Xe(ce.earlyStart,ce.effort,c),ce.predecessors.push({item:V,tag:_});do{for(pe=[],v=0;v<O.length;v++)pe.push(O[v]);for(ce=!1,v=0;v<O.length;v++){for(_=(Z=O[v]).tag,ve=[],te=0;te<de.length;te++)de[te].value.indexOf(_)>=0&&ve.push(de[te].key);if(ve.length>0){for(pe.splice(pe.indexOf(Z),1),te=0;te<ve.length;te++){for(_=ve[te],ie=null,ce=0;ce<C.length;ce++)if(C[ce].tag==_){ie=C[ce];break}null==ie&&(ie={content:pi(_),displayedText:_.content,earlyStart:S,earlyFinish:S,lateStart:A,lateFinish:A,effort:Je(_.start,_.finish,c,Ee(_)),isMilestone:_.isMilestone,predecessors:[],tag:_},pe.push(ie),C.push(ie)),(ce=Et(Z.earlyFinish,c))>ie.earlyStart&&(ie.earlyStart=ce,ie.earlyFinish=Xe(ie.earlyStart,ie.effort,c)),ie.predecessors.push({item:Z,tag:_})}ce=!0}}O=pe}while(ce)}for(C.push(X={content:X,displayedText:X,earlyStart:S,earlyFinish:S,lateStart:le,lateFinish:le,isMilestone:!0,effort:0,predecessors:[],displayedRowIndex:0}),te=X.predecessors,v=0;v<O.length;v++)(ce=(de=O[v]).earlyFinish)>X.earlyStart&&(X.earlyStart=ce,X.earlyFinish=X.earlyStart),te.push({item:de});for(O=[X];O.length>0;){for(de=[],v=0;v<O.length;v++)if(typeof(Z=O[v]).predecessors!==m)for(te=0;te<Z.predecessors.length;te++){for(ie=(le=Z.predecessors[te]).item,_=!1,ce=0;ce<de.length;ce++)if(de[ce]==ie){_=!0;break}_||de.push(ie),(_=Z.lateStart)<ie.lateFinish&&(ie.lateFinish=ie.effort>0?it(_,c,!1,!0,void 0):_,ie.lateStart=gt(ie.effort,ie.lateFinish,c))}O=de}if(C.length>2)for(v=0;v<C.length;v++)(_=C[v]).slack=Je(_.earlyStart,_.lateStart,c);else V.earlyStart=S,V.earlyFinish=S,V.lateStart=S,V.lateFinish=S,X.earlyStart=A,X.earlyFinish=A,X.lateStart=A,X.lateFinish=A;for(v=0;v<C.length;v++)C[v].isRelativeToTimezone=!1;return C},n.getOutputDate=Dn,n.getInputDate=En,n.itemDependsOf=function(v,C){return je(v,C)}};return{initialize:Ze,initializeItems:Te,refresh:Le,getDefaultColumns:K,getDefaultCollapsedToggleButtonTemplate:Hi,getDefaultExpandedToggleButtonTemplate:Mi,getDefaultScales:Di,getDefaultStyleDefinitionTemplate:j,getDefaultStandardTaskTemplate:q,getDefaultSummaryTaskTemplate:Q,getDefaultMilestoneTaskTemplate:ne,getDefaultItemTemplate:p,getDefaultAssignmentsTemplate:T,getDefaultDependencyLineTemplate:ae,getDefaultPredecessorItemTemplate:ye,initializeTaskDraggingThumbs:function(n,d,c,h,g,x,F,v){g.ganttChartView.initializeTaskDraggingThumbs(n,d,c,h,g,x,F,v)},initializeDependencyDraggingThumb:function(n,d,c,h,g){c.ganttChartView.initializeDependencyDraggingThumb(n,d,c,h,g)},getWorkingTime:ii,getEffort:Je,getFinish:Xe,getStart:gt,getCompletion:ci,getCompletedFinish:qi,getWeekStart:function(n,d){return Ht(n,d)},getWeekFinish:Bt,defaultDateTimeFormatter:function(n){return z(M(n))},defaultDateFormatter:function(n){return D(M(n))},defaultDateTimeParser:function(n){return G(J(n))},textColumnTemplateBase:function(n,d,c){return(typeof(d=d())===m||typeof c!==m&&!c())&&(d=""),n.createTextNode(d)},textInputColumnTemplateBase:function(n,d,c,h,g,x,F,v){var C=n.createElement("input");return C.setAttribute("type","text"),typeof(n=c())===m&&(n=""),C.setAttribute("value",n),n="",typeof x!==m&&!x()&&(n="; display: none"),x="",typeof F!==m&&F()&&(x="; font-weight: bold"),C.setAttribute("style","outline: none; background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+n+x+(v?"":"; padding: 1px; font-size: inherit;")),typeof g!==m&&!g()&&C.setAttribute("disabled","true"),C.addEventListener("change",function(){h(C.value)},!0),C.addEventListener("keypress",function(A){13==A.keyCode&&(A.preventDefault(),A.stopPropagation(),h(C.value))},!0),C.addEventListener("focus",function(){C.style.backgroundColor="White"},!0),C.addEventListener("blur",function(){C.style.backgroundColor="Transparent"},!0),C},optionSelectColumnTemplateBase:function(n,d,c,O,g,x,F,v,C){var A=n.createElement("select"),S=function(X,Z){var _=n.createElement("option");_.appendChild(n.createTextNode(X)),X==Z&&_.setAttribute("selected",!0),A.appendChild(_)};typeof(O=O())===m&&(O=""),S("",O),c=c();for(var V=0;V<c.length;V++)S(c[V],O);return S="",typeof F!==m&&!F()&&(S="; display: none"),F="",typeof v!==m&&v()&&(F="; font-weight: bold"),A.setAttribute("style","background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+S+F+(C?"":"; padding: 1px; font-size: inherit;")),typeof x!==m&&!x()&&A.setAttribute("disabled","true"),A.addEventListener("change",function(){g(A.value)},!0),A.addEventListener("keypress",function(X){13==X.keyCode&&(X.preventDefault(),X.stopPropagation(),g(A.value))},!0),A.addEventListener("focus",function(){A.style.backgroundColor="White"},!0),A.addEventListener("blur",function(){A.style.backgroundColor="Transparent"},!0),A},numberInputColumnTemplateBase:function(n,d,c,h,g,x,F,v){return DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase(n,d,function(){var C=c();return isNaN(C)?"":C},function(C){C=parseFloat(C),isNaN(C)&&(C=0),h(C)},g,x,F,v)},percentInputColumnTemplateBase:function(n,d,c,h,g,x,F,v){return DlhSoft.Controls.GanttChartView.numberInputColumnTemplateBase(n,d,c,function(C){C<0&&(C=0),C>100&&(C=100),h(C)},g,x,F,v)},timeSpanInputColumnTemplateBase:function(n,d,c,h,g,x,F,v,C){return typeof g===m&&(g=1),DlhSoft.Controls.GanttChartView.numberInputColumnTemplateBase(n,d,function(){var A=c()/(36e5*g);return Math.round(100*A)/100},function(A){(A=parseFloat(A))<0&&(A=0),h(36e5*A*g)},x,F,v,C)},datePickerInputColumnTemplateBase:function(n,d,c,h,g,x,F,v,C,A,S,O,V,X,Z){S||(S=["Su","Mo","Tu","We","Th","Fr","Sa"]);var _=O,te=V;O||(O=DlhSoft.Controls.GanttChartView.defaultDateTimeFormatter),V||(V=DlhSoft.Controls.GanttChartView.defaultDateTimeParser);var ee=n.createElement("input");ee.setAttribute("type","text"),typeof(c=c())===m?c="":null!=c&&(c=O(c)),ee.setAttribute("value",c),DlhSoft.Controls.DatePicker&&ee.addEventListener("focus",function(){var ie=DlhSoft.Controls.DatePicker.get(ee);if(!ie||!ie.isOpen){var le=0,de=0;try{le=ee.selectionStart,de=ee.selectionEnd}catch{}(ie=DlhSoft.Controls.DatePicker.initialize(ee,void 0,{inputStyle:null,defaultTimeOfDay:v,isDropDownButtonVisible:!1,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid #e0e0e0",calendarSelectorLevels:C,months:A,daysOfWeek:at(S),weekStart:X,dateTimeFormatter:_,dateTimeParser:te},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")).openDropDown(),setTimeout(function(){try{ee.selectionStart=le,ee.selectionEnd=de}catch{}},100),null==navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)?setTimeout(function(){try{ee.focus()}catch{}},100):n.createEvent&&setTimeout(function(){var pe=n.createEvent("MouseEvents");pe.initEvent("blur",!0,!1),ee.dispatchEvent(pe)})}},!0),O="",typeof x!==m&&!x()&&(O="; display: none"),x="",typeof F!==m&&F()&&(x="; font-weight: bold"),ee.setAttribute("style","outline: none; background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+O+x+(Z?"":"; padding: 1px; font-size: inherit;")),typeof g!==m&&!g()&&ee.setAttribute("disabled","true");var ce=function(){var ie=""!=(ie=ee.value)?V(ie):null;h(ie)};return ee.addEventListener("change",function(){ce()},!0),ee.addEventListener("keypress",function(ie){13==ie.keyCode&&(ie.preventDefault(),ie.stopPropagation(),ce())},!0),ee.addEventListener("focus",function(){ee.style.backgroundColor="White"},!0),ee.addEventListener("blur",function(){ee.style.backgroundColor="Transparent"},!0),ee},dateTimePickerInputColumnTemplateBase:function(n,d,c,h,g,x,F,v,C,A,S,O,V,X,Z){S||(S=["Su","Mo","Tu","We","Th","Fr","Sa"]);var _=O,te=V;O||(O=DlhSoft.Controls.GanttChartView.defaultDateTimeFormatter),V||(V=DlhSoft.Controls.GanttChartView.defaultDateTimeParser);var ee=n.createElement("input");ee.setAttribute("type","text"),typeof(c=c())===m?c="":null!=c&&(c=O(c)),ee.setAttribute("value",c),(DlhSoft.Controls.DateTimePicker||DlhSoft.Controls.DatePicker)&&ee.addEventListener("focus",function(){var ie=(DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).get(ee);if(!ie||!ie.isOpen){var le=0,de=0;try{le=ee.selectionStart,de=ee.selectionEnd}catch{}(ie=(DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).initialize(ee,void 0,{inputStyle:null,defaultTimeOfDay:v,isDropDownButtonVisible:!1,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid #e0e0e0",calendarSelectorLevels:C,months:A,daysOfWeek:at(S),weekStart:X,dateTimeFormatter:_,dateTimeParser:te},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")).openDropDown(),setTimeout(function(){try{ee.selectionStart=le,ee.selectionEnd=de}catch{}},100),null==navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)?setTimeout(function(){try{ee.focus()}catch{}},100):n.createEvent&&setTimeout(function(){var pe=n.createEvent("MouseEvents");pe.initEvent("blur",!0,!1),ee.dispatchEvent(pe)})}},!0),O="",typeof x!==m&&!x()&&(O="; display: none"),x="",typeof F!==m&&F()&&(x="; font-weight: bold"),ee.setAttribute("style","outline: none; background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+O+x+(Z?"":"; padding: 1px; font-size: inherit;")),typeof g!==m&&!g()&&ee.setAttribute("disabled","true");var ce=function(){var ie=""!=(ie=ee.value)?V(ie):null;h(ie)};return ee.addEventListener("change",function(){ce()},!0),ee.addEventListener("keypress",function(ie){13==ie.keyCode&&(ie.preventDefault(),ie.stopPropagation(),ce())},!0),ee.addEventListener("focus",function(){ee.style.backgroundColor="White"},!0),ee.addEventListener("blur",function(){ee.style.backgroundColor="Transparent"},!0),ee},multiSelectorComboBoxInputColumnTemplateBase:function(n,d,c,h,g,x,F,v,C){var A=n.createElement("input");return A.setAttribute("type","text"),typeof(h=h())===m&&(h=""),A.setAttribute("value",h),DlhSoft.Controls.MultiSelectorComboBox&&A.addEventListener("focus",function(){if(!(S=DlhSoft.Controls.MultiSelectorComboBox.get(A))||!S.isOpen&&S.availableChoices.length>0){var S=c(),O=0,V=0;try{O=A.selectionStart,V=A.selectionEnd}catch{}(S=DlhSoft.Controls.MultiSelectorComboBox.initialize(A,S,void 0,{inputStyle:null,autoAppendAvailableChoices:!1,isDropDownButtonVisible:!1,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid #e0e0e0; color: Black; font-size: small; max-height: 188px; overflow-y: auto"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")).openDropDown(),setTimeout(function(){try{A.selectionStart=O,A.selectionEnd=V}catch{}},100),null==navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)?setTimeout(function(){try{A.focus()}catch{}},100):n.createEvent&&setTimeout(function(){var Z=n.createEvent("MouseEvents");Z.initEvent("blur",!0,!1),A.dispatchEvent(Z)})}},!0),h="",typeof F!==m&&!F()&&(h="; display: none"),F="",typeof v!==m&&v()&&(F="; font-weight: bold"),A.setAttribute("style","boutline: none; ackground-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+h+F+(C?"":"; padding: 1px; font-size: inherit;")),typeof x!==m&&!x()&&A.setAttribute("disabled","true"),A.addEventListener("change",function(){g(A.value)},!0),A.addEventListener("keypress",function(S){13==S.keyCode&&(S.preventDefault(),S.stopPropagation(),g(A.value))},!0),A.addEventListener("focus",function(){A.style.backgroundColor="White"},!0),A.addEventListener("blur",function(){A.style.backgroundColor="Transparent"},!0),A},dateTimeInputColumnTemplateBase:function(n,d,c,h,g,x,F,v){return DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase(n,d,function(){var C=c();return null!=C?DlhSoft.Controls.GanttChartView.defaultDateTimeFormatter(C):""},function(C){C=""!=C?DlhSoft.Controls.GanttChartView.defaultDateTimeParser(C):null,h(C)},g,x,F,v)},getIndexColumnTemplate:function(){return function(n){var d=n.ganttChartView;return DlhSoft.Controls.GanttChartView.textColumnTemplateBase(d.ownerDocument,function(){return d.getItemIndexString(n)})}},getWbsColumnTemplate:function(n){return function(d){var c=d.ganttChartView;return DlhSoft.Controls.GanttChartView.textColumnTemplateBase(c.ownerDocument,function(){return c.getItemWbsIndexString(d,n)})}},getEffortColumnTemplate:function(n,d,c,h){return typeof d===m&&(d=1),function(g){var x=g.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(x.ownerDocument,n,function(){return x.getItemEffort(g)},function(F){x.setItemEffort(g,F),x.refreshItemPath(g)},d,function(){return!(g.isReadOnly||c||typeof g.ganttChartView!==m&&typeof g.ganttChartView.settings!==m&&(g.ganttChartView.settings.isReadOnly||g.ganttChartView.settings.isGridReadOnly)||g.hasChildren&&(typeof g.isSummaryEnabled===m||g.isSummaryEnabled))},function(){return!(g.isMilestone||typeof g.isBarVisible!==m&&!g.isBarVisible)},function(){return g.hasChildren&&(typeof g.isSummaryEnabled===m||g.isSummaryEnabled)},h)}},getDurationColumnTemplate:function(n,d,c,h){return typeof d===m&&(d=1),function(g){var x=g.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(x.ownerDocument,n,function(){return x.getItemDuration(g)},function(F){x.setItemDuration(g,F),x.refreshItemPath(g)},d,function(){return!(g.isReadOnly||c||typeof g.ganttChartView!==m&&typeof g.ganttChartView.settings!==m&&(g.ganttChartView.settings.isReadOnly||g.ganttChartView.settings.isGridReadOnly)||g.hasChildren&&(typeof g.isSummaryEnabled===m||g.isSummaryEnabled))},function(){return!(g.isMilestone||typeof g.isBarVisible!==m&&!g.isBarVisible)},function(){return g.hasChildren&&(typeof g.isSummaryEnabled===m||g.isSummaryEnabled)},h)}},getTotalEffortColumnTemplate:function(n,d,c,h){return typeof d===m&&(d=1),function(g){var x=g.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(x.ownerDocument,n,function(){return x.getItemTotalEffort(g)},function(F){x.setItemTotalEffort(g,F),x.refreshItemPath(g)},d,function(){return!(g.isReadOnly||c||typeof g.ganttChartView!==m&&typeof g.ganttChartView.settings!==m&&(g.ganttChartView.settings.isReadOnly||g.ganttChartView.settings.isGridReadOnly)||g.hasChildren&&(typeof g.isSummaryEnabled===m||g.isSummaryEnabled))},function(){return!(g.isMilestone||typeof g.isBarVisible!==m&&!g.isBarVisible)},function(){return g.hasChildren&&(typeof g.isSummaryEnabled===m||g.isSummaryEnabled)},h)}},getCompletedEffortColumnTemplate:function(n,d,c,h){return typeof d===m&&(d=1),function(g){var x=g.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(x.ownerDocument,n,function(){return x.getItemCompletedEffort(g)},function(F){x.setItemCompletedEffort(g,F),x.refreshItemPath(g)},d,function(){return!(g.isReadOnly||c||typeof g.ganttChartView!==m&&typeof g.ganttChartView.settings!==m&&(g.ganttChartView.settings.isReadOnly||g.ganttChartView.settings.isGridReadOnly)||g.hasChildren&&(typeof g.isSummaryEnabled===m||g.isSummaryEnabled))},function(){return!(g.isMilestone||typeof g.isBarVisible!==m&&!g.isBarVisible)},function(){return g.hasChildren&&(typeof g.isSummaryEnabled===m||g.isSummaryEnabled)},h)}},getTotalCompletedEffortColumnTemplate:function(n,d,c,h){return typeof d===m&&(d=1),function(g){var x=g.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(x.ownerDocument,n,function(){return x.getItemTotalCompletedEffort(g)},function(F){x.setItemTotalCompletedEffort(g,F),x.refreshItemPath(g)},d,function(){return!(g.isReadOnly||c||typeof g.ganttChartView!==m&&typeof g.ganttChartView.settings!==m&&(g.ganttChartView.settings.isReadOnly||g.ganttChartView.settings.isGridReadOnly)||g.hasChildren&&(typeof g.isSummaryEnabled===m||g.isSummaryEnabled))},function(){return!(g.isMilestone||typeof g.isBarVisible!==m&&!g.isBarVisible)},function(){return g.hasChildren&&(typeof g.isSummaryEnabled===m||g.isSummaryEnabled)},h)}},getCompletionColumnTemplate:function(n,d,c){return function(h){var g=h.ganttChartView,x=g.settings;return DlhSoft.Controls.GanttChartView.percentInputColumnTemplateBase(g.ownerDocument,n,function(){var F=100*g.getItemCompletion(h);return Math.round(F*(x.integralCompletionPercents?1:100))/(x.integralCompletionPercents?1:100)},function(F){if(typeof h.gridItem!==m&&typeof h.completedInput!==m){var v=h.completedInput;typeof v.changeEventListener!==m&&v.removeEventListener("change",v.changeEventListener,!0),delete h.completedInput}F=parseFloat(F)/100,g.setItemCompletion(h,F),g.refreshItemPath(h)},function(){return!(h.isReadOnly||d||typeof h.ganttChartView!==m&&typeof h.ganttChartView.settings!==m&&(h.ganttChartView.settings.isReadOnly||h.ganttChartView.settings.isGridReadOnly)||h.hasChildren&&(typeof h.isSummaryEnabled===m||h.isSummaryEnabled))},function(){return!(h.isMilestone||typeof h.isBarVisible!==m&&!h.isBarVisible)},function(){return h.hasChildren&&(typeof h.isSummaryEnabled===m||h.isSummaryEnabled)},c)}},getCostColumnTemplate:function(n,d,c){return function(h){var g=h.ganttChartView;return DlhSoft.Controls.GanttChartView.numberInputColumnTemplateBase(g.ownerDocument,n,function(){return g.getItemCost(h)},function(x){g.setItemCost(h,x),g.refreshItemPath(h)},function(){return!(h.isReadOnly||d||typeof h.ganttChartView!==m&&typeof h.ganttChartView.settings!==m&&(h.ganttChartView.settings.isReadOnly||h.ganttChartView.settings.isGridReadOnly))},void 0,function(){return h.hasChildren&&(typeof h.isSummaryEnabled===m||h.isSummaryEnabled)},c)}},getPredecessorsColumnTemplate:function(n,d,c,h){return function(g){var x=g.ganttChartView;return DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase(x.ownerDocument,n,function(){return x.getItemPredecessorsString(g,c)},function(F){x.setItemPredecessorsString(g,F,c),x.refreshItemGraph(g)},function(){return!(g.isReadOnly||d||typeof g.ganttChartView!==m&&typeof g.ganttChartView.settings!==m&&(g.ganttChartView.settings.isReadOnly||g.ganttChartView.settings.isGridReadOnly))},function(){return!(typeof g.isBarVisible!==m&&!g.isBarVisible)},function(){return g.hasChildren&&(typeof g.isSummaryEnabled===m||g.isSummaryEnabled)},h)}},getAssignmentSelectorColumnTemplate:function(n,d,c,h){return function(g){var x=g.ganttChartView;return DlhSoft.Controls.GanttChartView.optionSelectColumnTemplateBase(x.ownerDocument,n,function(){return"array"==typeof d?d:d(g)},function(){return g.assignmentsContent},function(F){g.assignmentsContent=F,x.onItemPropertyChanged(g,"assignmentsContent",!0,!0),x.refreshItem(g)},function(){return!(g.isReadOnly||c||typeof g.ganttChartView!==m&&typeof g.ganttChartView.settings!==m&&(g.ganttChartView.settings.isReadOnly||g.ganttChartView.settings.isGridReadOnly))},function(){return!(typeof g.isBarVisible!==m&&!g.isBarVisible)},function(){return g.hasChildren&&(typeof g.isSummaryEnabled===m||g.isSummaryEnabled)},h)}},getBaselineStartColumnTemplate:function(n,d,c,h,g,x,F,v,C,A){return typeof d===m&&(d=!0),typeof c===m&&(c=!0),function(S){var O=S.ganttChartView;return(d?c?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(O.ownerDocument,n,function(){return null!=S.baselineStart?M(S.baselineStart):void 0},function(V){null!=V?S.baselineStart=G(V):delete S.baselineStart,O.onItemPropertyChanged(S,"baselineStart",!0,!0),O.refreshItem(S)},function(){return!(S.isReadOnly||v||typeof S.ganttChartView!==m&&typeof S.ganttChartView.settings!==m&&(S.ganttChartView.settings.isReadOnly||S.ganttChartView.settings.isGridReadOnly))},function(){return!(typeof S.isBarVisible!==m&&!S.isBarVisible)},function(){return S.hasChildren&&(typeof S.isSummaryEnabled===m||S.isSummaryEnabled)},h,g,x,F,function(V){return null==V?"":O.settings.dateTimeFormatter(V)},function(V){return""==V?null:O.settings.dateTimeParser(V)},C,A)}},getBaselineFinishColumnTemplate:function(n,d,c,h,g,x,F,v,C,A){return typeof d===m&&(d=!0),typeof c===m&&(c=!0),function(S){var O=S.ganttChartView;return(d?c?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(O.ownerDocument,n,function(){return null!=S.baselineFinish?M(S.baselineFinish):void 0},function(V){null!=V?S.baselineFinish=G(V):delete S.baselineFinish,O.onItemPropertyChanged(S,"baselineFinish",!0,!0),O.refreshItem(S)},function(){return!(S.isReadOnly||v||typeof S.ganttChartView!==m&&typeof S.ganttChartView.settings!==m&&(S.ganttChartView.settings.isReadOnly||S.ganttChartView.settings.isGridReadOnly))},function(){return!(S.isMilestone||typeof S.isBarVisible!==m&&!S.isBarVisible)},function(){return S.hasChildren&&(typeof S.isSummaryEnabled===m||S.isSummaryEnabled)},h||864e5,g,x,F,function(V){return null==V?"":O.settings.dateTimeFormatter(V)},function(V){return""==V?null:O.settings.dateTimeParser(V)},C,A)}},getMinStartColumnTemplate:function(n,d,c,h,g,x,F,v,C,A){return typeof d===m&&(d=!0),typeof c===m&&(c=!0),function(S){var O=S.ganttChartView;return(d?c?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(O.ownerDocument,n,function(){return null!=S.minStart?M(S.minStart):void 0},function(V){null!=V?S.minStart=G(V):delete S.minStart,O.onItemPropertyChanged(S,"minStart",!0,!0),O.refreshItem(S)},function(){return!(S.isReadOnly||v||typeof S.ganttChartView!==m&&typeof S.ganttChartView.settings!==m&&(S.ganttChartView.settings.isReadOnly||S.ganttChartView.settings.isGridReadOnly)||S.hasChildren&&(typeof S.isSummaryEnabled===m||S.isSummaryEnabled))},function(){return!(typeof S.isBarVisible!==m&&!S.isBarVisible)},function(){return S.hasChildren&&(typeof S.isSummaryEnabled===m||S.isSummaryEnabled)},h,g,x,F,function(V){return null==V?"":O.settings.dateTimeFormatter(V)},function(V){return""==V?null:O.settings.dateTimeParser(V)},C,A)}},getMaxStartColumnTemplate:function(n,d,c,h,g,x,F,v,C,A){return typeof d===m&&(d=!0),typeof c===m&&(c=!0),function(S){var O=S.ganttChartView;return(d?c?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(O.ownerDocument,n,function(){return null!=S.maxStart?M(S.maxStart):void 0},function(V){null!=V?S.maxStart=G(V):delete S.maxStart,O.onItemPropertyChanged(S,"maxStart",!0,!0),O.refreshItem(S)},function(){return!(S.isReadOnly||v||typeof S.ganttChartView!==m&&typeof S.ganttChartView.settings!==m&&(S.ganttChartView.settings.isReadOnly||S.ganttChartView.settings.isGridReadOnly)||S.hasChildren&&(typeof S.isSummaryEnabled===m||S.isSummaryEnabled))},function(){return!(typeof S.isBarVisible!==m&&!S.isBarVisible)},function(){return S.hasChildren&&(typeof S.isSummaryEnabled===m||S.isSummaryEnabled)},h||864e5,g,x,F,function(V){return null==V?"":O.settings.dateTimeFormatter(V)},function(V){return""==V?null:O.settings.dateTimeParser(V)},C,A)}},getMinFinishColumnTemplate:function(n,d,c,h,g,x,F,v,C,A){return typeof d===m&&(d=!0),typeof c===m&&(c=!0),function(S){var O=S.ganttChartView;return(d?c?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(O.ownerDocument,n,function(){return null!=S.minFinish?M(S.minFinish):void 0},function(V){null!=V?S.minFinish=G(V):delete S.minFinish,O.onItemPropertyChanged(S,"minFinish",!0,!0),O.refreshItem(S)},function(){return!(S.isReadOnly||v||typeof S.ganttChartView!==m&&typeof S.ganttChartView.settings!==m&&(S.ganttChartView.settings.isReadOnly||S.ganttChartView.settings.isGridReadOnly)||S.hasChildren&&(typeof S.isSummaryEnabled===m||S.isSummaryEnabled))},function(){return!(S.isMilestone||typeof S.isBarVisible!==m&&!S.isBarVisible)},function(){return S.hasChildren&&(typeof S.isSummaryEnabled===m||S.isSummaryEnabled)},h,g,x,F,function(V){return null==V?"":O.settings.dateTimeFormatter(V)},function(V){return""==V?null:O.settings.dateTimeParser(V)},C,A)}},getMaxFinishColumnTemplate:function(n,d,c,h,g,x,F,v,C,A){return typeof d===m&&(d=!0),typeof c===m&&(c=!0),function(S){var O=S.ganttChartView;return(d?c?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(O.ownerDocument,n,function(){return null!=S.maxFinish?M(S.maxFinish):void 0},function(V){null!=V?S.maxFinish=G(V):delete S.maxFinish,O.onItemPropertyChanged(S,"maxFinish",!0,!0),O.refreshItem(S)},function(){return!(S.isReadOnly||v||typeof S.ganttChartView!==m&&typeof S.ganttChartView.settings!==m&&(S.ganttChartView.settings.isReadOnly||S.ganttChartView.settings.isGridReadOnly)||S.hasChildren&&(typeof S.isSummaryEnabled===m||S.isSummaryEnabled))},function(){return!(S.isMilestone||typeof S.isBarVisible!==m&&!S.isBarVisible)},function(){return S.hasChildren&&(typeof S.isSummaryEnabled===m||S.isSummaryEnabled)},h||864e5,g,x,F,function(V){return null==V?"":O.settings.dateTimeFormatter(V)},function(V){return""==V?null:O.settings.dateTimeParser(V)},C,A)}},getIconColumnTemplate:function(S,d,c,h,g,x,F,v,C){if("string"==typeof S){var A=S;S=function(){return A}}return typeof h===m||0==h?h=function(){return!1}:1==h&&(h=function(){return!0}),function(O){var V=O.ganttChartView,X=V.ownerDocument.createElement("img");return X.setAttribute("src",S(O)),typeof d!==m&&X.setAttribute("class",d),typeof c!==m&&X.setAttribute("style",c),!V.settings.isReadOnly&&!V.settings.isGridReadOnly&&h(O)&&(X.style.cursor="move",function(n,d,c,h,g,x,F,v,C,A){function S(_){delete h.cancelDrag,h.draggingItem=d,h.dragType="Ordering",h.style.cursor=n.style.cursor,h.draggingInitialY=_.clientY,h.draggingInitialThumbPosition=0,h.resetChartAreaDefinitions()}n.addEventListener("mousedown",he(h,n,"mousedown",function(_){0==_.button&&(S(_),_.preventDefault())},!0),!0),n.addEventListener("touchstart",he(h,n,"touchstart",function(_){S(_.touches[0]),_.preventDefault()},!0),!0),typeof h.draggableOrderingItems===m&&(h.draggableOrderingItems=[]);for(var O=!1,V=0;V<h.draggableOrderingItems.length;V++)if(h.draggableOrderingItems[V]==d){O=!0;break}if(!O){var X=function(_){if(typeof h.draggingItem!==m&&h.draggingItem==d&&"Ordering"==h.dragType){typeof h.temporaryHoveredGridItemSelectionContainer!==m&&(h.temporaryHoveredGridItemSelectionContainer.setAttribute("class",h.temporaryHoveredGridItemClass),h.temporaryHoveredGridItemSelectionContainer.setAttribute("style",h.temporaryHoveredGridItemStyle),delete h.temporaryHoveredGridItemSelectionContainer,delete h.temporaryHoveredGridItemClass,delete h.temporaryHoveredGridItemStyle);var te=_.clientY-h.draggingInitialY;if(cn(_.clientY,h),delete h.draggingItem,h.cancelDrag)Ae(d,g),delete h.cancelDrag,delete h.draggingItem,h.style.cursor="default";else{_=Math.floor((d.itemTop+h.draggingInitialThumbPosition+te)/g.itemHeight),te=null;for(var ee=0,ce=0;ce<c.length;ce++){var ie=c[ce];if(ie.isVisible&&(typeof ie.isHidden===m||!ie.isHidden)&&typeof ie.displayRowIndex===m){if(ee==_){te=ie;break}ee++}}null!=te&&te!=d&&null!=te.gridItemSelectionContainer&&(h.temporaryHoveredGridItemSelectionContainer=te.gridItemSelectionContainer,h.temporaryHoveredGridItemClass=te.gridItemSelectionContainer.getAttribute("class"),h.temporaryHoveredGridItemStyle=te.gridItemSelectionContainer.getAttribute("style"),typeof x===m||x(_,te)?typeof F!==m?te.gridItemSelectionContainer.setAttribute("class",F):typeof v!==m&&te.gridItemSelectionContainer.setAttribute("style",v):typeof C!==m?te.gridItemSelectionContainer.setAttribute("class",C):typeof A!==m&&te.gridItemSelectionContainer.setAttribute("style",A)),h.draggingItem=d}}};h.addEventListener("mousemove",he(h,h,"mousemove",function(_){X(_)},!0),!0),h.addEventListener("touchmove",he(h,h,"touchmove",function(_){X(_.touches[0])},!0),!0);var Z=function(_){if(typeof h.draggingItem!==m&&h.draggingItem==d&&"Ordering"==h.dragType){typeof h.temporaryHoveredGridItemSelectionContainer!==m&&(h.temporaryHoveredGridItemSelectionContainer.setAttribute("class",h.temporaryHoveredGridItemClass),h.temporaryHoveredGridItemSelectionContainer.setAttribute("style",h.temporaryHoveredGridItemStyle),delete h.temporaryHoveredGridItemSelectionContainer,delete h.temporaryHoveredGridItemClass,delete h.temporaryHoveredGridItemStyle),_=Math.floor((d.itemTop+h.draggingInitialThumbPosition+(_.clientY-h.draggingInitialY))/g.itemHeight);for(var te=null,ee=0,ce=0;ce<c.length;ce++){var ie=c[ce];if(ie.isVisible&&(typeof ie.isHidden===m||!ie.isHidden)&&typeof ie.displayRowIndex===m){if(ee==_){te=ie;break}ee++}}null!=te&&(typeof x===m||x(_,te))&&h.moveItemHierarchy(h.draggingItem,te.index),setTimeout(function(){Ae(d,g),un(d)},0),h.resetChartAreaDefinitions(),delete h.draggingItem,h.style.cursor="default"}};document.addEventListener("mouseup",he(h,document,"mouseup",function(_){0==_.button&&Z(_)},!0),!0),document.addEventListener("touchend",he(h,document,"touchend",function(_){Z(_.changedTouches[0])},!0),!0),h.draggableOrderingItems.push(d)}}(X,O,V.items,V,V.settings,g,x,F,v,C)),X}},getOutputDate:Dn,getInputDate:En}}()),null==DlhSoft.Controls.ScheduleChartView&&(DlhSoft.Controls.ScheduleChartView=function(){var H=function(D,z,M,J,G){return D.internalEventListeners&&D.internalEventListeners.push({object:z,event:M,handler:J,useCapture:G}),J},ue=function(D,z,M,J){var G=["DlhSoft.Controls","ScheduleChartView","DlhSoft.ProjectData.GanttChart.HTML.Controls","5","validate","Licensing"];DlhSoft[G[5]][G[4]](D,G[0],G[1],G[2],G[3],J,M),D.isScheduleChartInitializing=!0,J=z,z=[];for(var re=G=0,K=0;K<J.length;K++){var oe=J[K];if(!(typeof oe.scheduleChartItem<"u"&&oe.scheduleChartItem!=oe)&&(oe.scheduleChartIndex=G++,oe.isHidden||(oe.scheduleChartVisibilityIndex=re++),oe.isBarVisible=!1,z.push(oe),typeof oe.ganttChartItems<"u"))for(var ge=0;ge<oe.ganttChartItems.length;ge++){var fe=oe.ganttChartItems[ge];fe.scheduleChartItem=oe,oe.isHidden&&(fe.isHidden=!0),fe.displayRowIndex=oe.scheduleChartVisibilityIndex,fe.indentation=(oe.indentation?oe.indentation:0)+1,z.push(fe)}}return"object"!=typeof M&&(M={}),DlhSoft.Controls.GanttChartView.initializeItems(z,M),re=z,Ce(G=M),typeof G.gridWidth>"u"&&(G.gridWidth="15%"),typeof G.chartWidth>"u"&&(G.chartWidth=G.isGridVisible?"85%":"100%"),typeof G.columns>"u"&&(G.columns=kt(re,G)),typeof G.areTaskDependenciesVisible>"u"&&(G.areTaskDependenciesVisible=!1),typeof G.isBaselineVisible>"u"&&(G.isBaselineVisible=!1),typeof G.areStandardTaskLabelsVisible>"u"&&(G.areStandardTaskLabelsVisible=!1),typeof G.areMilestoneTaskLabelsVisible>"u"&&(G.areMilestoneTaskLabelsVisible=!1),typeof G.areAssignmentsReadOnly>"u"&&(G.areAssignmentsReadOnly=!1),typeof G.assignmentThumbStyle>"u"&&(G.assignmentThumbStyle="Aero"===G.theme?"fill: none; stroke: Blue; stroke-dasharray: 2, 2":"fill: none; stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2, 2"),typeof G.temporaryAssignmentThumbStyle>"u"&&(G.temporaryAssignmentThumbStyle="Aero"===G.theme?"fill: none; stroke: Blue; stroke-width: 0.65px; stroke-dasharray: 2, 2":"fill: none; stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2, 2"),typeof G.assignmentThumbTemplate>"u"&&(G.assignmentThumbTemplate=Le(re,D,G)),G.internalExtraTaskTemplate=G.assignmentThumbTemplate,W(D,z,J,M),DlhSoft.Controls.GanttChartView.initialize(D,z,M,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."),Y(D,z),D.isScheduleChartInitializing=!1,D.isScheduleChartInitialized=!0,D},m=function(D){ue(D,D.scheduleChartItems,D.settings,D.license)},Ce=function(D){typeof D.useUpdatingToolTips>"u"&&(D.useUpdatingToolTips=!0),typeof D.target>"u"&&(D.target="Standard"),typeof D.theme>"u"&&(D.theme="Modern"),typeof D.isGridVisible>"u"&&(D.isGridVisible="Phone"!==D.target),typeof D.interaction>"u"&&(D.interaction="Phone"!=D.target?"Standard":"TouchEnabled"),typeof D.isReadOnly>"u"&&(D.isReadOnly=!1),typeof D.isGridReadOnly>"u"&&(D.isGridReadOnly=!1),typeof D.isContentReadOnly>"u"&&(D.isContentReadOnly=!1),typeof D.selectionMode>"u"&&(D.selectionMode="Focus"),typeof D.isVirtualizing>"u"&&(D.isVirtualizing=!0),"Phone"==D.target&&typeof D.areTaskAssignmentsVisible>"u"&&(D.areTaskAssignmentsVisible=!1)},kt=function(D,z){"object"!=typeof z&&(z={}),Ce(z);var M=[{header:"",width:32,isSelection:!0},{header:"Resource",width:120,isTreeView:!0}];return M[0].cellTemplate=Se(z,M[0],D),M[1].cellTemplate=Ne(z,M[1],D),M[1].exportCellTemplate=Ne(z,M[1],D,!1),"Single"!=z.selectionMode&&"Extended"!=z.selectionMode&&"ExtendedFocus"!=z.selectionMode&&M.splice(0,1),M},Se=function(D,z){return function(M){return z.isReadOnly?getBooleanNode(M.ganttChartView.ownerDocument,M.isSelected):wt(M)}},wt=function(D){var M,z=D.ganttChartView.ownerDocument;typeof D.selectionInput>"u"?(M=z.createElement("input"),D.selectionInput=M,M.type="checkbox",M.setAttribute("style","margin: 0px")):M=D.selectionInput,D.isSelected?(M.setAttribute("checked","checked"),M.checked||(M.checked=!0)):M.checked&&(M.checked=!1);var J=function(){M.checked?_e(D):typeof D.scheduleChartView<"u"&&D.scheduleChartView.unselectItem(D)};return typeof M.changeEventListener<"u"&&M.removeEventListener("change",M.changeEventListener,!0),M.addEventListener("change",H(D.ganttChartView,M,"change",J,!0),!0),M.changeEventListener=J,z=function(G){13==G.keyCode&&(G.preventDefault(),G.stopPropagation(),J())},typeof M.keyPressEventListener<"u"&&M.removeEventListener("keypress",M.keyPressEventListener,!0),M.addEventListener("keypress",H(D.ganttChartView,M,"keypress",z,!0),!0),M.keyPressEventListener=z,M},_e=function(D){typeof D.scheduleChartView<"u"&&D.scheduleChartView.selectItem(D)},he=function(D,z){typeof D.scheduleChartView<"u"&&(D.scheduleChartView.currentItem=D),("Focus"==z.selectionMode||"ExtendedFocus"==z.selectionMode)&&!D.isSelected&&_e(D)},Ne=function(D,z,M,J){var G=function(oe){var K=oe.content;return(oe=oe.ganttChartView.ownerDocument.createElement("span")).innerHTML=K,oe};return!(typeof J>"u"||J)||D.isReadOnly||D.isGridReadOnly||D.isContentReadOnly?G:function(re){return z.isReadOnly||!(typeof re.isReadOnly>"u")&&re.isReadOnly?G(re):Ze(re,Math.max(0,z.width-re.indentation*re.ganttChartView.settings.indentationLevelWidth-re.ganttChartView.settings.toggleButtonAreaWidth-16),D)}},Ze=function(D,z,M){var G,J=D.ganttChartView.ownerDocument;if(typeof D.contentInput>"u"){G=J.createElement("input"),D.contentInput=G,G.type="text",G.addEventListener("focus",H(D.ganttChartView,G,"focus",function(){he(D,M)}));var re=function(){D.content=G.value,D.scheduleChartView.onItemPropertyChanged(D,"content",!0,!0),D.scheduleChartView.refreshItem(D)};typeof G.changeEventListener<"u"&&G.removeEventListener("change",G.changeEventListener,!0),G.addEventListener("change",H(D.ganttChartView,G,"change",re,!0),!0),G.changeEventListener=re,J=function(K){13==K.keyCode&&(K.preventDefault(),K.stopPropagation(),re())},typeof G.keyPressEventListener<"u"&&G.removeEventListener("keypress",G.keyPressEventListener,!0),G.addEventListener("keypress",H(D.ganttChartView,G,"keypress",J,!0),!0),G.keyPressEventListener=J,G.addEventListener("focus",H(D.ganttChartView,G,"focus",function(){G.style.backgroundColor="White"})),G.addEventListener("blur",H(D.ganttChartView,G,"blur",function(){G.style.backgroundColor="Transparent"}))}else G=D.contentInput;return G.value=D.content,J="",D.hasChildren&&(typeof D.isSummaryEnabled>"u"||D.isSummaryEnabled)&&(J="; font-weight: bold"),G.setAttribute("style","outline: none; background-color: Transparent; width: "+z+"px; border-width: 0px; padding: 0px"+J+(M.classic?"":"; font-size: 12px; padding: 1px;")),G},Le=function(D,z,M){return function(J){var G=J.ganttChartView.ownerDocument,re=G.createElementNS("http://www.w3.org/2000/svg","g");if(!M.isReadOnly&&!M.isChartReadOnly&&(typeof J.isReadOnly>"u"||!J.isReadOnly)&&!M.areAssignmentsReadOnly){var K=z.getChartPosition(J.start,M),oe=Math.max(z.getChartPosition(J.finish,M),K+4),ge=G.createElementNS("http://www.w3.org/2000/svg","line");ge.setAttribute("x1",K),ge.setAttribute("y1",M.barMargin+M.barHeight+2),ge.setAttribute("x2",oe-1),ge.setAttribute("y2",M.barMargin+M.barHeight+2);var fe=M.assignmentThumbClass;typeof fe<"u"&&ge.setAttribute("class",fe),ge.setAttribute("style",M.assignmentThumbStyle),ge.style.visibility="hidden",re.appendChild(ge),(G=G.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",K),G.setAttribute("y",M.barMargin+M.barHeight-2),G.setAttribute("width",Math.max(0,oe-K-1)),G.setAttribute("height",7),G.setAttribute("style","fill: White; fill-opacity: 0; cursor: move"),G.addEventListener("mouseover",H(z,G,"mouseover",function(){typeof z.draggingItem>"u"&&(ge.style.visibility="visible")},!0),!0),G.addEventListener("mouseout",H(z,G,"mouseout",function(){ge.style.visibility="hidden"},!0),!0),re.appendChild(G),be(G,re,J,K,oe,D,z,M)}return re}},Re=function(D){var z=D.scheduleChartView;if(D.itemTop=D.scheduleChartVisibilityIndex*z.settings.itemHeight,z.refreshGridItem(D),typeof D.ganttChartItems<"u")for(var M=0;M<D.ganttChartItems.length;M++){var J=D.ganttChartItems[M];J.itemTop=D.itemTop,z.refreshChartItem(J)}},be=function(D,z,M,J,G,re,K,oe){function ge(He,Ke){delete M.assignmentThumbParentNode,delete K.cancelDrag,K.draggingItem=M,K.dragType="Assignment",K.style.cursor=D.style.cursor,K.draggingInitialY=He.clientY,K.draggingInitialThumbPosition=oe.barMargin,z.itemLeft=J,z.itemRight=G,M.assignmentThumb=z,DlhSoft.Controls.ToolTip&&oe.useUpdatingToolTips&&!Ke&&((toolTip=DlhSoft.Controls.ToolTip.get(D))||(toolTip=DlhSoft.Controls.ToolTip.initialize(void 0,D,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+oe.border+"; background-color: White; color: Black; font-family: "+(oe.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),toolTip.setContent(M.content+" \u2013"),toolTip.show(),toolTip.setPosition(toolTip.x+(G-J)+4,toolTip.y-oe.itemHeight-1),toolTip.originalY=toolTip.y,K.toolTip=toolTip)}var fe=M.ganttChartView.ownerDocument;D.addEventListener("mousedown",H(K,D,"mousedown",function(He){0==He.button&&(ge(He),He.preventDefault())},!0),!0),D.addEventListener("touchstart",H(K,D,"touchstart",function(He){ge(He.touches[0],!0),He.preventDefault()},!0),!0),typeof K.draggableAssignmentItems>"u"&&(K.draggableAssignmentItems=[]);for(var Ae=!1,Ye=0;Ye<K.draggableAssignmentItems.length;Ye++)if(K.draggableAssignmentItems[Ye]==M){Ae=!0;break}if(!Ae){var Be=function(He,Ke){if(!(typeof K.draggingItem>"u"||K.draggingItem!=M||"Assignment"!=K.dragType)){var De,ke=Math.ceil((He.clientY-K.draggingInitialY)/oe.itemHeight)*oe.itemHeight;if($(He.clientY,K),delete K.draggingItem,(z=M.assignmentThumb).parentNode?M.assignmentThumbParentNode=z.parentNode:M.assignmentThumbParentNode&&M.assignmentThumbParentNode.appendChild(z),J=z.itemLeft,G=z.itemRight,typeof K.temporaryAssignmentThumb<"u"){try{z.removeChild(K.temporaryAssignmentThumb)}catch{}delete K.temporaryAssignmentThumb}if(K.cancelDrag)delete K.cancelDrag,delete K.draggingItem,K.style.cursor="default";else if(oe.temporaryAssignmentThumbTemplate?De=oe.temporaryAssignmentThumbTemplate(K,J,K.draggingInitialThumbPosition+ke,Math.max(oe.classic?4:12,G-J-1),oe.barHeight):((De=fe.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",J),De.setAttribute("y",K.draggingInitialThumbPosition+ke),De.setAttribute("width",Math.max(oe.classic?4:12,G-J-1)),De.setAttribute("height",oe.barHeight),typeof oe.temporaryAssignmentThumbClass<"u"&&De.setAttribute("class",oe.temporaryAssignmentThumbClass),De.setAttribute("style",oe.temporaryAssignmentThumbStyle)),K.temporaryAssignmentThumb=De,z.appendChild(De),K.draggingItem=M,DlhSoft.Controls.ToolTip&&oe.useUpdatingToolTips&&!Ke){toolTip=K.toolTip,De=Math.floor((M.itemTop+K.draggingInitialThumbPosition+ke)/oe.itemHeight);var at,qe=null,Qe=0;for(at=0;at<re.length;at++){var We=re[at];if(We.isVisible&&!(typeof We.isHidden<"u"&&We.isHidden)&&typeof We.displayRowIndex>"u"){if(Qe==De){We.hasChildren||(qe=We);break}Qe++}}toolTip.setContent(M.content+" \u2013"+(null!=qe?" "+qe.content:"")),toolTip.setVerticalPosition(Math.max(Te(K)+K.chartHeaderContainer.clientHeight,toolTip.originalY+ke)),typeof toolTip.originalX>"u"&&(toolTip.originalX=toolTip.x),toolTip.setHorizontalPosition(toolTip.originalX)}}};K.addEventListener("mousemove",H(K,K,"mousemove",function(He){Be(He)},!0),!0),K.addEventListener("touchmove",H(K,K,"touchmove",function(He){Be(He.touches[0],!0)},!0),!0);var Ve=function(He){if(!(typeof K.draggingItem>"u"||K.draggingItem!=M||"Assignment"!=K.dragType)){if(delete M.assignmentThumbParentNode,z=M.assignmentThumb,typeof K.temporaryAssignmentThumb<"u"){try{z.removeChild(K.temporaryAssignmentThumb)}catch{}delete K.temporaryAssignmentThumb}He=Math.ceil((He.clientY-K.draggingInitialY)/oe.itemHeight)*oe.itemHeight,He=Math.floor((M.itemTop+K.draggingInitialThumbPosition+He)/oe.itemHeight);var De,Ke=null,ke=0;for(De=0;De<re.length;De++)if((qe=re[De]).isVisible&&!(typeof qe.isHidden<"u"&&qe.isHidden)&&typeof qe.displayRowIndex>"u"){if(ke==He){qe.hasChildren||(Ke=qe);break}ke++}if(null!=Ke){var qe=(ke=M.scheduleChartItem).ganttChartItems,Qe=[];for(De=0;De<qe.length;De++)qe[De]!=M&&Qe.push(qe[De]);ke.ganttChartItems=Qe,K.onItemPropertyChanged(ke,"ganttChartItems",!0,!0),typeof Ke.ganttChartItems>"u"&&(Ke.ganttChartItems=[]),Ke.ganttChartItems.push(M),K.onItemPropertyChanged(Ke,"ganttChartItems",!0,!0),M.scheduleChartItem=Ke,K.onItemPropertyChanged(M,"scheduleChartItem",!0,!0),M.displayRowIndex=He,M.isVirtuallyVisible=!0,K.refreshChartItem(M),K.refreshPredecessorItems(M),he(Ke,oe)}delete K.draggingItem,K.style.cursor="default"}};fe.addEventListener("mouseup",H(K,fe,"mouseup",function(He){0==He.button&&Ve(He)},!0),!0),fe.addEventListener("touchend",H(K,fe,"touchend",function(He){Ve(He.changedTouches[0])},!0),!0),K.draggableAssignmentItems.push(M)}},Te=function(D){var z=0;if(D.offsetParent)do{z+=D.offsetTop,D=D.offsetParent}while(D);return z},$=function(D,z){var M=z.settings;if(typeof z.draggingItem<"u"&&M.enableVerticalScrollingDuringDragging){var G,re,J=new Date;z.lastDraggingTime&&J>z.lastDraggingTime&&J-z.lastDraggingTime<50||(z.lastDraggingTime=J,(D-=Te(z))>=z.chartHeaderContainer.clientHeight&&D<z.chartHeaderContainer.clientHeight+M.verticalScrollingDragAreaHeight?(G=z.chartContentContainer.scrollTop,z.chartContentContainer.scrollTop=z.chartContentContainer.scrollTop-M.itemHeight,typeof z.isDuringVerticalScrolling>"u"&&(z.isDuringVerticalScrolling=!0,setTimeout(function(){re=G-z.chartContentContainer.scrollTop,z.draggingInitialThumbPosition=z.draggingInitialThumbPosition-Math.ceil(re/M.itemHeight)*M.itemHeight,delete z.isDuringVerticalScrolling},0))):D>=z.chartHeaderContainer.clientHeight+z.chartContentContainer.clientHeight-M.verticalScrollingDragAreaHeight&&(G=z.chartContentContainer.scrollTop,z.chartContentContainer.scrollTop=z.chartContentContainer.scrollTop+M.itemHeight,typeof z.isDuringVerticalScrolling>"u"&&(z.isDuringVerticalScrolling=!0,setTimeout(function(){re=z.chartContentContainer.scrollTop-G,z.draggingInitialThumbPosition=z.draggingInitialThumbPosition+Math.ceil(re/M.itemHeight)*M.itemHeight,delete z.isDuringVerticalScrolling},0))))}},f=function(D,z,M,J){var G=J.indexOf(D);G<0||z<0||z==G||z>=J.length||(J.splice(G,1),J.splice(z,0,D),m(M),typeof M.settings.itemMoveHandler<"u"&&M.settings.itemMoveHandler(D,G,z))},W=function(D,z,M,J){for(var G=0;G<z.length;G++)z[G].scheduleChartView=D;D.scheduleChartItems=M,D.settings=J,D.refreshScheduleChartItem=Re,D.initializeAssignmentDraggingThumb=function(re,K,oe,ge,fe){be(re,K,oe,ge,fe,D.items,D,D.settings)},D.insertScheduleChartItem=function(re,K){var oe=re;K.scheduleChartView=D,K.isVirtuallyVisible=!0,K.scheduleChartIndex=oe;var fe,ge=0;for(fe=0;fe<oe;fe++)M[fe].isHidden||ge++;if(K.scheduleChartVisibilityIndex=ge,K.isBarVisible=!1,oe=oe<M.length?M[oe].index:z.length,M.splice(K.scheduleChartIndex,0,K),D.insertItem(oe++,K),typeof K.ganttChartItems<"u")for(fe=0;fe<K.ganttChartItems.length;fe++)(ge=K.ganttChartItems[fe]).scheduleChartView=D,ge.scheduleChartItem=K,ge.isHidden=K.isHidden,ge.displayRowIndex=K.scheduleChartVisibilityIndex,ge.indentation=K.indentation,D.insertItem(oe++,ge);for(fe=K.scheduleChartIndex+1;fe<M.length;fe++){if((oe=M[fe]).scheduleChartIndex=fe,typeof oe.scheduleChartVisibilityIndex<"u"&&oe.scheduleChartVisibilityIndex++,typeof oe.ganttChartItems<"u")for(ge=0;ge<oe.ganttChartItems.length;ge++)oe.ganttChartItems[ge].displayRowIndex=oe.scheduleChartVisibilityIndex;Re(oe)}},D.addScheduleChartItem=function(re){D.insertScheduleChartItem(M.length,re)},D.insertScheduleChartItems=function(re,K){for(var oe=0;oe<K.length;oe++)D.insertScheduleChartItem(re++,K[oe])},D.addScheduleChartItems=function(re){for(var K=0;K<re.length;K++)D.addScheduleChartItem(re[K])},D.removeScheduleChartItem=function(re){if(typeof re.ganttChartItems<"u")for(var K=0;K<re.ganttChartItems.length;K++)D.removeItem(re.ganttChartItems[K]);for(M.splice(re.scheduleChartIndex,1),K=re.scheduleChartIndex;K<M.length;K++){var oe=M[K];if(oe.scheduleChartIndex=K,typeof oe.scheduleChartVisibilityIndex<"u"&&oe.scheduleChartVisibilityIndex--,typeof oe.ganttChartItems<"u")for(var ge=0;ge<oe.ganttChartItems.length;ge++)oe.ganttChartItems[ge].displayRowIndex=oe.scheduleChartVisibilityIndex;Re(oe)}D.removeItem(re)},D.removeScheduleChartItems=function(re){for(var K=0;K<re.length;K++)D.removeScheduleChartItem(re[K])},D.moveScheduleChartRange=function(re,K,oe){if(!(re<0||oe<0||oe==re||oe>M.length-K)){var fe,ge=[];for(fe=re;fe<re+K;fe++)ge.push(M[fe]);for(M.splice(re,K),fe=0;fe<ge.length;fe++)M.splice(oe+fe,0,ge[fe]);if(m(D),typeof D.settings.itemMoveHandler<"u")for(fe=0;fe<ge.length;fe++)D.settings.itemMoveHandler(ge[fe],re+fe,oe+fe)}},D.moveScheduleChartItem=function(re,K){f(re,K,D,M)},D.moveScheduleChartItemUp=function(re){var K=M.indexOf(re);K<=0||f(re,K-1,D,M)},D.moveScheduleChartItemDown=function(re){var K=M.indexOf(re);K<0||K>=M.length-1||f(re,K+1,D,M)},D.moveGanttChartItem=function(re,K){var oe=re.scheduleChartItem,ge=oe.ganttChartItems.indexOf(re);oe.ganttChartItems.splice(ge,1),K.ganttChartItems.push(re),re.scheduleChartItem=K,re.displayRowIndex=K.scheduleChartVisibilityIndex,D.refreshChartItem(re)}},Y=function(D,z){D.items=z,D.refresh=function(){m(D)}};return{initialize:ue,refresh:m,getDefaultColumns:kt,getDefaultScales:DlhSoft.Controls.GanttChartView.getDefaultScales,getDefaultStyleDefinitionTemplate:DlhSoft.Controls.GanttChartView.getDefaultStyleDefinitionTemplate,getDefaultStandardTaskTemplate:DlhSoft.Controls.GanttChartView.getDefaultStandardTaskTemplate,getDefaultMilestoneTaskTemplate:DlhSoft.Controls.GanttChartView.getDefaultMilestoneTaskTemplate,getDefaultItemTemplate:DlhSoft.Controls.GanttChartView.getDefaultItemTemplate,getDefaultAssignmentsTemplate:DlhSoft.Controls.GanttChartView.getDefaultAssignmentsTemplate,initializeTaskDraggingThumbs:DlhSoft.Controls.GanttChartView.initializeTaskDraggingThumbs,initializeDependencyDraggingThumb:DlhSoft.Controls.GanttChartView.initializeDependencyDraggingThumb,initializeAssignmentDraggingThumb:function(D,z,M,J,G){M.scheduleChartView.initializeAssignmentDraggingThumb(D,z,M,J,G)},getWorkingTime:DlhSoft.Controls.GanttChartView.getWorkingTime,getEffort:DlhSoft.Controls.GanttChartView.getEffort,getFinish:DlhSoft.Controls.GanttChartView.getFinish,getStart:DlhSoft.Controls.GanttChartView.getStart,getCompletion:DlhSoft.Controls.GanttChartView.getCompletion,getCompletedFinish:DlhSoft.Controls.GanttChartView.getCompletedFinish,textColumnTemplateBase:DlhSoft.Controls.GanttChartView.textColumnTemplateBase,textInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase,getOutputDate:DlhSoft.Controls.GanttChartView.getOutputDate,getInputDate:DlhSoft.Controls.GanttChartView.getInputDate}}()),null==DlhSoft.Controls.LoadChartView&&(DlhSoft.Controls.LoadChartView=function(){var H=function(D,z,M,J,G){return D.internalEventListeners&&D.internalEventListeners.push({object:z,event:M,handler:J,useCapture:G}),J},ue=function(D,z,M,J){var G=["DlhSoft.Controls","LoadChartView","DlhSoft.ProjectData.GanttChart.HTML.Controls","5","validate","Licensing"];DlhSoft[G[5]][G[4]](D,G[0],G[1],G[2],G[3],J,M),D.isLoadChartInitializing=!0,J=z,z=[];for(var re=G=0,K=0;K<J.length;K++){var oe=J[K];if(typeof oe.isExported<"u"&&oe.isExported)z.push(oe);else if(!(typeof oe.loadChartItem<"u"&&oe.loadChartItem!=oe)&&(oe.loadChartIndex=oe.scheduleChartIndex=G++,oe.isHidden||(oe.scheduleChartVisibilityIndex=re++),oe.isBarVisible=!1,z.push(oe),typeof oe.ganttChartItems<"u"))for(var ge=0;ge<oe.ganttChartItems.length;ge++){var fe=oe.ganttChartItems[ge];fe.loadChartItem=fe.scheduleChartItem=oe,oe.isHidden&&(fe.isHidden=!0),fe.displayRowIndex=oe.scheduleChartVisibilityIndex,fe.indentation=oe.indentation+(oe.indentation?oe.indentation:0),z.push(fe)}}return"object"!=typeof M&&(M={}),DlhSoft.Controls.GanttChartView.initializeItems(z,M),re=z,Ce(G=M),typeof G.gridWidth>"u"&&(G.gridWidth="15%"),typeof G.chartWidth>"u"&&(G.chartWidth=G.isGridVisible?"85%":"100%"),typeof G.columns>"u"&&(G.columns=kt(re,G)),typeof G.normalAllocationBarStyle>"u"&&null==G.normalAllocationBarClass&&(G.normalAllocationBarStyle=G.classic?"Aero"===G.theme?"fill: Blue; stroke: Blue":"fill: Blue; fill-opacity: 0.8; stroke: Blue; stroke-width: 0.65px":"fill: #8abbed; fill-opacity: 0.8;"),typeof G.underAllocationBarStyle>"u"&&null==G.underAllocationBarClass&&(G.underAllocationBarStyle=G.normalAllocationBarStyle),typeof G.overAllocationBarStyle>"u"&&null==G.overAllocationBarClass&&(G.overAllocationBarStyle=G.classic?"Aero"===G.theme?"fill: Red; stroke: Red":"fill: Red; fill-opacity: 0.8; stroke: Red; stroke-width: 0.65px":"fill: #D03642; fill-opacity: 0.8; stroke-width: 0.65px;"),typeof G.maxDisplayedUnits>"u"&&(G.maxDisplayedUnits=1.5),typeof G.allocationTemplate>"u"&&(G.allocationTemplate=be()),G.standardTaskTemplate=G.allocationTemplate,G.milestoneTaskTemplate=G.allocationTemplate,G.areTaskDependenciesVisible=!1,G.isBaselineVisible=!1,G.isTaskCompletedEffortVisible=!1,G.areTaskAssignmentsVisible=!1,W(D,z,J,M),DlhSoft.Controls.GanttChartView.initialize(D,z,M,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."),Y(D,z,M),D.isLoadChartInitializing=!1,D.isLoadChartInitialized=!0,D},m=function(D){ue(D,D.loadChartItems,D.settings,D.license)},Ce=function(D){typeof D.target>"u"&&(D.target="Standard"),typeof D.theme>"u"&&(D.theme="Modern"),typeof D.isGridVisible>"u"&&(D.isGridVisible="Phone"!==D.target),typeof D.isReadOnly>"u"&&(D.isReadOnly=!0),typeof D.selectionMode>"u"&&(D.selectionMode="Focus"),typeof D.isVirtualizing>"u"&&(D.isVirtualizing=!0)},kt=function(D,z){"object"!=typeof z&&(z={}),Ce(z);var M=[{header:"",width:32,isSelection:!0},{header:"Resource",width:120,isTreeView:!0}];return M[0].cellTemplate=Se(z,M[0],D),M[1].cellTemplate=he(z,M[1]),M[1].exportCellTemplate=he(z,M[1],!1),"Single"!=z.selectionMode&&"Extended"!=z.selectionMode&&"ExtendedFocus"!=z.selectionMode&&M.splice(0,1),M},Se=function(D,z){return function(M){return z.isReadOnly?getBooleanNode(M.ganttChartView.ownerDocument,M.isSelected):wt(M)}},wt=function(D){var M,z=D.ganttChartView.ownerDocument;typeof D.selectionInput>"u"?(M=z.createElement("input"),D.selectionInput=M,M.type="checkbox",M.setAttribute("style","margin: 0px")):M=D.selectionInput,D.isSelected?(M.setAttribute("checked","checked"),M.checked||(M.checked=!0)):M.checked&&(M.checked=!1);var J=function(){M.checked?_e(D):typeof D.loadChartView<"u"&&D.loadChartView.unselectItem(D)};return typeof M.changeEventListener<"u"&&M.removeEventListener("change",M.changeEventListener,!0),M.addEventListener("change",H(D.ganttChartView,M,"change",J,!0),!0),M.changeEventListener=J,z=function(G){13==G.keyCode&&(G.preventDefault(),G.stopPropagation(),J())},typeof M.keyPressEventListener<"u"&&M.removeEventListener("keypress",M.keyPressEventListener,!0),M.addEventListener("keypress",H(D.ganttChartView,M,"keypress",z,!0),!0),M.keyPressEventListener=z,M},_e=function(D){typeof D.loadChartView<"u"&&D.loadChartView.selectItem(D)},he=function(D,z,M){var J=function(K){var re=K.content;return(K=K.ganttChartView.ownerDocument.createElement("span")).innerHTML=re,K};return!(typeof M>"u"||M)||D.isReadOnly||D.isGridReadOnly||D.isContentReadOnly?J:function(G){return z.isReadOnly||!(typeof G.isReadOnly>"u")&&G.isReadOnly?J(G):Ne(G,Math.max(0,z.width-2),D)}},Ne=function(D,z,M){var G,J=D.ganttChartView.ownerDocument;if(typeof D.contentInput>"u"){G=J.createElement("input"),D.contentInput=G,G.type="text",G.addEventListener("focus",H(D.ganttChartView,G,"focus",function(){typeof D.loadChartView<"u"&&(D.loadChartView.currentItem=D),("Focus"==M.selectionMode||"ExtendedFocus"==M.selectionMode)&&!D.isSelected&&_e(D)}));var re=function(){D.content=G.value,D.loadChartView.onItemPropertyChanged(D,"content",!0,!0),D.loadChartView.refreshItem(D)};typeof G.changeEventListener<"u"&&G.removeEventListener("change",G.changeEventListener,!0),G.addEventListener("change",H(D.ganttChartView,G,"change",re,!0),!0),G.changeEventListener=re,J=function(K){13==K.keyCode&&(K.preventDefault(),K.stopPropagation(),re())},typeof G.keyPressEventListener<"u"&&G.removeEventListener("keypress",G.keyPressEventListener,!0),G.addEventListener("keypress",H(D.ganttChartView,G,"keypress",J,!0),!0),G.keyPressEventListener=J,G.addEventListener("focus",H(D.ganttChartView,G,"focus",function(){G.style.backgroundColor="White"})),G.addEventListener("blur",H(D.ganttChartView,G,"blur",function(){G.style.backgroundColor="Transparent"}))}else G=D.contentInput;return G.value=D.content,G.setAttribute("style","outline: none; background-color: Transparent; width: "+z+"px; border-width: 0px; padding: 0px"+(M.classic?"":"; font-size: 12px; padding: 1px;")),G},Le=function(D){var z=D.loadChartView;if(D.itemTop=D.scheduleChartVisibilityIndex*z.settings.itemHeight,z.refreshGridItem(D),typeof D.ganttChartItems<"u")for(var M=0;M<D.ganttChartItems.length;M++){var J=D.ganttChartItems[M];J.itemTop=D.itemTop,z.refreshChartItem(J)}},be=function(D,z,M){return function(J){var G=typeof z<"u"?z:J.loadChartView,re=typeof M<"u"?M:G.settings,Ae=G.ownerDocument,K=function(D,z){var M=z.ownerDocument;for(typeof D.chartItemArea>"u"&&(D.chartItemArea=M.createElementNS("http://www.w3.org/2000/svg","g")),M=D.chartItemArea.childNodes.length;M-- >0;)D.chartItemArea.removeChild(D.chartItemArea.childNodes[M]);return D.chartItemArea}(J,G),oe=G.getChartPosition(J.start,re),ge=Math.max(G.getChartPosition(J.finish,re),oe+4),fe=Ae.createElementNS("http://www.w3.org/2000/svg","rect"),Ye=(Ae=typeof J.units<"u"?J.units:1,Math.min(Ae,re.maxDisplayedUnits)/re.maxDisplayedUnits*re.barHeight);return fe.setAttribute("x",oe),fe.setAttribute("y",re.barMargin+(re.barHeight-Ye)),fe.setAttribute("width",Math.max(0,ge-oe-1)),fe.setAttribute("height",Ye),oe=1==Ae?re.normalAllocationBarClass:Ae<1?re.underAllocationBarClass:re.overAllocationBarClass,typeof J.allocationBarClass<"u"&&(oe=J.allocationBarClass),typeof oe<"u"?fe.setAttribute("class",oe):(oe=1==Ae?re.normalAllocationBarStyle:Ae<1?re.underAllocationBarStyle:re.overAllocationBarStyle,typeof J.allocationBarStyle<"u"&&(oe=J.allocationBarStyle),typeof oe<"u"&&fe.setAttribute("style",oe)),re.isTaskToolTipVisible&&DlhSoft.Controls.ToolTip&&re.useInlineToolTips&&(K.addEventListener("mouseover",H(G,K,"mouseover",function(Be){1!=Be.buttons&&((Be=G.toolTip)&&(Be.disable(),Be.hide()),(Be=DlhSoft.Controls.ToolTip.get(fe))||(Be=DlhSoft.Controls.ToolTip.initialize(void 0,fe,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+re.border+"; background-color: White; color: Black; font-family: "+(re.classic?"Arial":"system-ui, Arial")+"; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")),Be.setContent(re.itemTemplate(J).innerHTML.replaceAll("\n","<br/>")),Be.show(),G.taskToolTip=Be)})),K.addEventListener("mouseout",H(G,K,"mouseout",function(){var Be=G.taskToolTip;Be.disable(),Be.hide()}))),K.appendChild(fe),K}},Te=function(D,z,M,J){var G=J.indexOf(D);G<0||z<0||z==G||z>=J.length||(J.splice(G,1),J.splice(z,0,D),m(M),typeof M.settings.itemMoveHandler<"u"&&M.settings.itemMoveHandler(D,G,z))},$=function(D,z){for(var M in z)0!=M.indexOf("custom")&&0!=M.indexOf("description")||typeof D[M]>"u"&&(D[M]=z[M])},f=function(D,z,M,J,G,re,K,oe,ge,fe,Ae,Ye,Be,Ve,He,Ke,ke){var De,Qe,qe=[];if(typeof J<"u")for(De=0;De<J.length;De++)qe.push({isTreeView:(Qe=ke.columns[J[De]]).isTreeView,header:Qe.header,width:Qe.width,headerClass:Qe.headerClass,headerStyle:Qe.headerStyle,cellClass:Qe.cellClass,cellStyle:Qe.cellStyle,cellTemplate:typeof Qe.exportCellTemplate<"u"?Qe.exportCellTemplate:Qe.cellTemplate});else for(De=0;De<ke.columns.length;De++)(Qe=ke.columns[De]).isSelection||qe.push({isTreeView:Qe.isTreeView,header:Qe.header,width:Qe.width,headerClass:Qe.headerClass,headerStyle:Qe.headerStyle,cellClass:Qe.cellClass,cellStyle:Qe.cellStyle,cellTemplate:typeof Qe.exportCellTemplate<"u"?Qe.exportCellTemplate:Qe.cellTemplate});typeof M>"u"&&(M=ke.isGridVisible),De=M?function(D){for(var z=0,M=0;M<D.length;M++)z+=D[M].width;return z}(qe)+1:0,typeof G<"u"?(typeof K>"u"||!K)&&(G=new Date(G.valueOf()-6e4*G.getTimezoneOffset())):G=ke.timelineStart,typeof re<"u"?(typeof K>"u"||!K)&&(re=new Date(re.valueOf()-6e4*re.getTimezoneOffset())):re=ke.timelineFinish,(G={isExport:!0,isReadOnly:!0,selectionMode:"None",isVirtualizing:!1,isGridVisible:M,isSplitterEnabled:!1,gridWidth:De+"px",columns:qe,allowUserToResizeColumns:!1,isGridRowClickTimeScrollingEnabled:!1,isMouseWheelZoomEnabled:!1,timelineStart:G,timelineFinish:re,extendTimelineToEntireWeeks:ke.extendTimelineToEntireWeeks,hourWidth:typeof oe<"u"?oe:ke.hourWidth,displayedTime:typeof G<"u"?G:ke.timelineStart,currentTime:ke.currentTime,isTaskToolTipVisible:!1,isDependencyToolTipVisible:!1,areTaskDependenciesVisible:!1,isBaselineVisible:!1,isTaskCompletedEffortVisible:!1,areTaskAssignmentsVisible:!1,containerClass:ke.containerClass,containerStyle:ke.containerStyle,border:ke.border,theme:ke.theme,headerBackground:ke.headerBackground,headerHeight:ke.headerHeight,itemHeight:ke.itemHeight,itemClass:ke.itemClass,itemStyle:ke.itemStyle,indentationLevelWidth:ke.indentationLevelWidth,toggleButtonClass:ke.toggleButtonClass,toggleButtonStyle:ke.toggleButtonStyle,scales:[],visibleWeekStart:ke.visibleWeekStart,visibleWeekFinish:ke.visibleWeekFinish,workingWeekStart:ke.workingWeekStart,workingWeekFinish:ke.workingWeekFinish,visibleDayStart:ke.visibleDayStart,visibleDayFinish:ke.visibleDayFinish,specialNonworkingDays:ke.specialNonworkingDays,barMargin:ke.barMargin,barHeight:ke.barHeight,normalAllocationBarClass:ke.normalAllocationBarClass,underAllocationBarClass:ke.underAllocationBarClass,overAllocationBarClass:ke.overAllocationBarClass,normalAllocationBarStyle:ke.normalAllocationBarStyle,underAllocationBarStyle:ke.underAllocationBarStyle,overAllocationBarStyle:ke.overAllocationBarStyle,alternativeItemClass:ke.alternativeItemClass,alternativeChartItemClass:ke.alternativeChartItemClass,alternativeItemStyle:ke.alternativeItemStyle,alternativeChartItemStyle:ke.alternativeChartItemStyle,gridLines:ke.gridLines,horizontalGridLines:ke.horizontalGridLines,verticalGridLines:ke.verticalGridLines,verticalGridHeaderLines:ke.verticalGridHeaderLines,horizontalChartLines:ke.horizontalChartLines,target:ke.target,months:ke.months,daysOfWeek:ke.daysOfWeek,weekStartDay:ke.weekStartDay,dateFormatter:ke.dateFormatter,dateTimeFormatter:ke.dateTimeFormatter,isRelativeToTimezone:ke.isRelativeToTimezone,allocationTemplate:ke.allocationTemplate,classic:ke.classic}).extendTimelineToEntireWeeks&&(G.timelineStart=DlhSoft.Controls.GanttChartView.getWeekStart(G.timelineStart,G.weekStartDay),G.timelineFinish=DlhSoft.Controls.GanttChartView.getWeekFinish(G.timelineFinish,G.weekStartDay)),He=(He.getChartPosition(G.timelineFinish)-He.getChartPosition(G.timelineStart))/He.settings.hourWidth*G.hourWidth,G.chartWidth=He+"px";var at=De+He+2+(M?1:0);for(De=0;De<ke.scales.length;De++)G.scales.push({scaleType:(M=ke.scales[De]).scaleType,isHeaderVisible:M.isHeaderVisible,headerHeight:M.headerHeight,headerTextFormat:M.headerTextFormat,headerClass:M.headerClass,headerStyle:M.headerStyle,isHighlightingVisible:M.isHighlightingVisible,highlightingClass:M.highlightingClass,highlightingStyle:M.highlightingStyle,isSeparatorVisible:M.isSeparatorVisible,separatorClass:M.separatorClass,separatorStyle:M.separatorStyle,intervals:M.intervals});var We,pt,$e=!1;if(null!=Ae&&typeof Ae.createElement<"u")We=Ae;else{null!=Ae&&typeof Ae.focus<"u"?pt=Ae:(pt=window.open("",Ae??"_blank",typeof Ye<"u"&&Ye&&(typeof Ve>"u"||Ve)?"width=800,height=640,location=no,menubar=no,toolbar=no,status=no,scrollbars=yes":""),$e=!0),We=pt.document;try{var ot=document.head.getElementsByTagName("link");for(De=0;De<ot.length;De++){var Rt=ot[De],vt=We.adoptNode(Rt.cloneNode(!0));vt.href=Rt.href,We.head.appendChild(vt)}}catch{}}for(We.title=typeof D<"u"?D:"Exported chart"+(typeof Ye<"u"&&Ye?" (printable)":""),typeof ge>"u"&&(ge=0),typeof fe>"u"&&(fe=Ke.length-1),D=[],De=ot=0;De<Ke.length;De++)typeof(Ae=Ke[De]).displayRowIndex<"u"&&(Ae.displayRowIndex<ge||Ae.displayRowIndex>fe)||typeof Ae.displayRowIndex>"u"&&(ot++<ge||ot>fe+1)||(ke={content:Ae.content,indentation:Ae.indentation,start:Ae.start,finish:Ae.finish,units:Ae.units,isBarVisible:Ae.isBarVisible,isRelativeToTimezone:Ae.isRelativeToTimezone,class:Ae.class,style:Ae.style,barClass:Ae.barClass,barStyle:Ae.barStyle,isSummaryEnabled:Ae.isSummaryEnabled,isParentSummarizationEnabled:Ae.isParentSummarizationEnabled,isHidden:Ae.isHidden,isExported:!0,tag:Ae},typeof Ae.displayRowIndex<"u"&&(ke.displayRowIndex=Ae.displayRowIndex-ge),$(ke,Ae),D.push(ke),Ae.exportItem=ke);var Tt=We.createElement("p");Tt.innerHTML=typeof z<"u"?z:"",We.body.appendChild(Tt);var Dt=We.createElement("div");Dt.setAttribute("style","width: "+at+"px");try{DlhSoft.Controls.LoadChartView.initialize(Dt,D,G,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")}catch{}setTimeout(function(){$e&&We.body.setAttribute("style","margin: 0px");var ct=We.createElement("div");ct.appendChild(Dt),We.body.replaceChild(ct,Tt),Be&&(ct.setAttribute("style","width: "+Dt.offsetHeight+"px; height: "+at+"px; overflow: hidden"),ct=Math.round((Dt.offsetWidth-Dt.offsetHeight)/2),Dt.setAttribute("style","width: "+at+"px; transform: rotate(90deg) translateX("+ct+"px) translateY("+ct+"px); -webkit-transform: rotate(90deg) translateX("+ct+"px) translateY("+ct+"px)")),We.close(),void 0!==typeof pt&&(pt.focus(),typeof Ye<"u"&&Ye&&(pt.print(),(typeof Ve>"u"||Ve)&&setTimeout(function(){pt.close()})))},0)},W=function(D,z,M,J){for(var G=0;G<z.length;G++)z[G].loadChartView=z[G].scheduleChartView=D;D.loadChartItems=D.scheduleChartItems=M,D.settings=J,D.refreshLoadChartItem=Le,D.insertLoadChartItem=function(re,K){var oe=re;K.loadChartView=K.scheduleChartView=D,K.isVirtuallyVisible=!0,K.loadChartIndex=K.scheduleChartIndex=oe;var fe,ge=0;for(fe=0;fe<oe;fe++)M[fe].isHidden||ge++;if(K.scheduleChartVisibilityIndex=ge,K.isBarVisible=!1,oe=oe<M.length?M[oe].index:z.length,M.splice(K.loadChartIndex,0,K),D.insertItem(oe++,K),typeof K.ganttChartItems<"u")for(fe=0;fe<K.ganttChartItems.length;fe++)(ge=K.ganttChartItems[fe]).loadChartView=ge.scheduleChartView=D,ge.loadChartItem=ge.scheduleChartItem=K,ge.isHidden=K.isHidden,ge.displayRowIndex=K.scheduleChartVisibilityIndex,ge.indentation=K.indentation,D.insertItem(oe++,ge);for(fe=K.loadChartIndex+1;fe<M.length;fe++){if((oe=M[fe]).loadChartIndex=oe.scheduleChartIndex=fe,typeof oe.scheduleChartVisibilityIndex<"u"&&oe.scheduleChartVisibilityIndex++,typeof oe.ganttChartItems<"u")for(ge=0;ge<oe.ganttChartItems.length;ge++)oe.ganttChartItems[ge].displayRowIndex=oe.scheduleChartVisibilityIndex;Le(oe)}},D.addLoadChartItem=function(re){D.insertLoadChartItem(M.length,re)},D.insertLoadChartItems=function(re,K){for(var oe=0;oe<K.length;oe++)D.insertLoadChartItem(re++,K[oe])},D.addLoadChartItems=function(re){for(var K=0;K<re.length;K++)D.addLoadChartItem(re[K])},D.removeLoadChartItem=function(re){if(typeof re.ganttChartItems<"u")for(var K=0;K<re.ganttChartItems.length;K++)D.removeItem(re.ganttChartItems[K]);for(D.removeItem(re),M.splice(re.loadChartIndex,1),re=re.loadChartIndex;re<M.length;re++){if((K=M[re]).loadChartIndex=K.scheduleChartIndex=re,typeof K.scheduleChartVisibilityIndex<"u"&&K.scheduleChartVisibilityIndex--,typeof K.ganttChartItems<"u")for(var oe=0;oe<K.ganttChartItems.length;oe++)K.ganttChartItems[oe].displayRowIndex=K.scheduleChartVisibilityIndex;Le(K)}},D.removeLoadChartItems=function(re){for(var K=0;K<re.length;K++)D.removeLoadChartItem(re[K])},D.moveLoadChartRange=function(re,K,oe){if(!(re<0||oe<0||oe==re||oe>M.length-K)){var fe,ge=[];for(fe=re;fe<re+K;fe++)ge.push(M[fe]);for(M.splice(re,K),fe=0;fe<ge.length;fe++)M.splice(oe+fe,0,ge[fe]);if(m(D),typeof D.settings.itemMoveHandler<"u")for(fe=0;fe<ge.length;fe++)D.settings.itemMoveHandler(ge[fe],re+fe,oe+fe)}},D.moveLoadChartItem=function(re,K){Te(re,K,D,M)},D.moveLoadChartItemUp=function(re){var K=M.indexOf(re);K<=0||Te(re,K-1,D,M)},D.moveLoadChartItemDown=function(re){var K=M.indexOf(re);K<0||K>=M.length-1||Te(re,K+1,D,M)}},Y=function(D,z,M){D.items=z,D.refresh=function(){m(D)},D.exportContent=function(J,G){typeof J>"u"&&(J={}),f(J.title,J.preparingMessage,J.isGridVisible,J.columnIndexes,J.timelineStart,J.timelineFinish,J.isRelativeToTimezone,J.hourWidth,J.startRowIndex,J.endRowIndex,G,!1,J.rotate,!1,D,z,M)},D.print=function(J){typeof J>"u"&&(J={}),f(J.title,J.preparingMessage,J.isGridVisible,J.columnIndexes,J.timelineStart,J.timelineFinish,J.isRelativeToTimezone,J.hourWidth,J.startRowIndex,J.endRowIndex,null,!0,J.rotate,J.autoClose,D,z,M)}};return{initialize:ue,refresh:m,getDefaultColumns:kt,getDefaultScales:DlhSoft.Controls.GanttChartView.getDefaultScales,getDefaultAllocationTemplate:be,getDefaultItemTemplate:DlhSoft.Controls.GanttChartView.getDefaultItemTemplate,getWorkingTime:DlhSoft.Controls.GanttChartView.getWorkingTime,textColumnTemplateBase:DlhSoft.Controls.GanttChartView.textColumnTemplateBase,textInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase,getOutputDate:DlhSoft.Controls.GanttChartView.getOutputDate,getInputDate:DlhSoft.Controls.GanttChartView.getInputDate}}());